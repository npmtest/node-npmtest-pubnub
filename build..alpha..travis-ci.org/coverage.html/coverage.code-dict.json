{"/home/travis/build/npmtest/node-npmtest-pubnub/test.js":"/* istanbul instrument in package npmtest_pubnub */\n/*jslint\n    bitwise: true,\n    browser: true,\n    maxerr: 8,\n    maxlen: 96,\n    node: true,\n    nomen: true,\n    regexp: true,\n    stupid: true\n*/\n(function () {\n    'use strict';\n    var local;\n\n\n\n    // run shared js-env code - pre-init\n    (function () {\n        // init local\n        local = {};\n        // init modeJs\n        local.modeJs = (function () {\n            try {\n                return typeof navigator.userAgent === 'string' &&\n                    typeof document.querySelector('body') === 'object' &&\n                    typeof XMLHttpRequest.prototype.open === 'function' &&\n                    'browser';\n            } catch (errorCaughtBrowser) {\n                return module.exports &&\n                    typeof process.versions.node === 'string' &&\n                    typeof require('http').createServer === 'function' &&\n                    'node';\n            }\n        }());\n        // init global\n        local.global = local.modeJs === 'browser'\n            ? window\n            : global;\n        switch (local.modeJs) {\n        // re-init local from window.local\n        case 'browser':\n            local = local.global.utility2.objectSetDefault(\n                local.global.utility2_rollup || local.global.local,\n                local.global.utility2\n            );\n            break;\n        // re-init local from example.js\n        case 'node':\n            local = (local.global.utility2_rollup || require('utility2'))\n                .requireReadme();\n            break;\n        }\n        // export local\n        local.global.local = local;\n    }());\n\n\n\n    // run shared js-env code - function\n    (function () {\n        return;\n    }());\n    switch (local.modeJs) {\n\n\n\n    // run browser js-env code - function\n    case 'browser':\n        break;\n\n\n\n    // run node js-env code - function\n    case 'node':\n        break;\n    }\n\n\n\n    // run shared js-env code - post-init\n    (function () {\n        return;\n    }());\n    switch (local.modeJs) {\n\n\n\n    // run browser js-env code - post-init\n    case 'browser':\n        local.testCase_browser_nullCase = local.testCase_browser_nullCase || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test browsers's null-case handling-behavior-behavior\n         */\n            onError(null, options);\n        };\n\n        // run tests\n        local.nop(local.modeTest &&\n            document.querySelector('#testRunButton1') &&\n            document.querySelector('#testRunButton1').click());\n        break;\n\n\n\n    // run node js-env code - post-init\n    /* istanbul ignore next */\n    case 'node':\n        local.testCase_buildApidoc_default = local.testCase_buildApidoc_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildApidoc's default handling-behavior-behavior\n         */\n            options = { modulePathList: module.paths };\n            local.buildApidoc(options, onError);\n        };\n\n        local.testCase_buildApp_default = local.testCase_buildApp_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildApp's default handling-behavior-behavior\n         */\n            local.testCase_buildReadme_default(options, local.onErrorThrow);\n            local.testCase_buildLib_default(options, local.onErrorThrow);\n            local.testCase_buildTest_default(options, local.onErrorThrow);\n            local.testCase_buildCustomOrg_default(options, local.onErrorThrow);\n            options = [];\n            local.buildApp(options, onError);\n        };\n\n        local.testCase_buildCustomOrg_default = local.testCase_buildCustomOrg_default ||\n            function (options, onError) {\n            /*\n             * this function will test buildCustomOrg's default handling-behavior\n             */\n                options = {};\n                local.buildCustomOrg(options, onError);\n            };\n\n        local.testCase_buildLib_default = local.testCase_buildLib_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildLib's default handling-behavior\n         */\n            options = {};\n            local.buildLib(options, onError);\n        };\n\n        local.testCase_buildReadme_default = local.testCase_buildReadme_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildReadme's default handling-behavior-behavior\n         */\n            options = {};\n            local.buildReadme(options, onError);\n        };\n\n        local.testCase_buildTest_default = local.testCase_buildTest_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildTest's default handling-behavior\n         */\n            options = {};\n            local.buildTest(options, onError);\n        };\n\n        local.testCase_webpage_default = local.testCase_webpage_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test webpage's default handling-behavior\n         */\n            options = { modeCoverageMerge: true, url: local.serverLocalHost + '?modeTest=1' };\n            local.browserTest(options, onError);\n        };\n\n        // run test-server\n        local.testRunServer(local);\n        break;\n    }\n}());\n","/home/travis/build/npmtest/node-npmtest-pubnub/lib.npmtest_pubnub.js":"/* istanbul instrument in package npmtest_pubnub */\n/*jslint\n    bitwise: true,\n    browser: true,\n    maxerr: 8,\n    maxlen: 96,\n    node: true,\n    nomen: true,\n    regexp: true,\n    stupid: true\n*/\n(function () {\n    'use strict';\n    var local;\n\n\n\n    // run shared js-env code - pre-init\n    (function () {\n        // init local\n        local = {};\n        // init modeJs\n        local.modeJs = (function () {\n            try {\n                return typeof navigator.userAgent === 'string' &&\n                    typeof document.querySelector('body') === 'object' &&\n                    typeof XMLHttpRequest.prototype.open === 'function' &&\n                    'browser';\n            } catch (errorCaughtBrowser) {\n                return module.exports &&\n                    typeof process.versions.node === 'string' &&\n                    typeof require('http').createServer === 'function' &&\n                    'node';\n            }\n        }());\n        // init global\n        local.global = local.modeJs === 'browser'\n            ? window\n            : global;\n        // init utility2_rollup\n        local = local.global.utility2_rollup || local;\n        // init lib\n        local.local = local.npmtest_pubnub = local;\n        // init exports\n        if (local.modeJs === 'browser') {\n            local.global.utility2_npmtest_pubnub = local;\n        } else {\n            module.exports = local;\n            module.exports.__dirname = __dirname;\n            module.exports.module = module;\n        }\n    }());\n}());\n","/home/travis/build/npmtest/node-npmtest-pubnub/example.js":"/*\nexample.js\n\nquickstart example\n\ninstruction\n    1. save this script as example.js\n    2. run the shell command:\n        $ npm install npmtest-pubnub && PORT=8081 node example.js\n    3. play with the browser-demo on http://127.0.0.1:8081\n*/\n\n\n\n/* istanbul instrument in package npmtest_pubnub */\n/*jslint\n    bitwise: true,\n    browser: true,\n    maxerr: 8,\n    maxlen: 96,\n    node: true,\n    nomen: true,\n    regexp: true,\n    stupid: true\n*/\n(function () {\n    'use strict';\n    var local;\n\n\n\n    // run shared js-env code - pre-init\n    (function () {\n        // init local\n        local = {};\n        // init modeJs\n        local.modeJs = (function () {\n            try {\n                return typeof navigator.userAgent === 'string' &&\n                    typeof document.querySelector('body') === 'object' &&\n                    typeof XMLHttpRequest.prototype.open === 'function' &&\n                    'browser';\n            } catch (errorCaughtBrowser) {\n                return module.exports &&\n                    typeof process.versions.node === 'string' &&\n                    typeof require('http').createServer === 'function' &&\n                    'node';\n            }\n        }());\n        // init global\n        local.global = local.modeJs === 'browser'\n            ? window\n            : global;\n        // init utility2_rollup\n        local = local.global.utility2_rollup || (local.modeJs === 'browser'\n            ? local.global.utility2_npmtest_pubnub\n            : global.utility2_moduleExports);\n        // export local\n        local.global.local = local;\n    }());\n    switch (local.modeJs) {\n\n\n\n    // post-init\n    // run browser js-env code - post-init\n    /* istanbul ignore next */\n    case 'browser':\n        local.testRunBrowser = function (event) {\n            if (!event || (event &&\n                    event.currentTarget &&\n                    event.currentTarget.className &&\n                    event.currentTarget.className.includes &&\n                    event.currentTarget.className.includes('onreset'))) {\n                // reset output\n                Array.from(\n                    document.querySelectorAll('body > .resettable')\n                ).forEach(function (element) {\n                    switch (element.tagName) {\n                    case 'INPUT':\n                    case 'TEXTAREA':\n                        element.value = '';\n                        break;\n                    default:\n                        element.textContent = '';\n                    }\n                });\n            }\n            switch (event && event.currentTarget && event.currentTarget.id) {\n            case 'testRunButton1':\n                // show tests\n                if (document.querySelector('#testReportDiv1').style.display === 'none') {\n                    document.querySelector('#testReportDiv1').style.display = 'block';\n                    document.querySelector('#testRunButton1').textContent =\n                        'hide internal test';\n                    local.modeTest = true;\n                    local.testRunDefault(local);\n                // hide tests\n                } else {\n                    document.querySelector('#testReportDiv1').style.display = 'none';\n                    document.querySelector('#testRunButton1').textContent = 'run internal test';\n                }\n                break;\n            // custom-case\n            default:\n                break;\n            }\n            if (document.querySelector('#inputTextareaEval1') && (!event || (event &&\n                    event.currentTarget &&\n                    event.currentTarget.className &&\n                    event.currentTarget.className.includes &&\n                    event.currentTarget.className.includes('oneval')))) {\n                // try to eval input-code\n                try {\n                    /*jslint evil: true*/\n                    eval(document.querySelector('#inputTextareaEval1').value);\n                } catch (errorCaught) {\n                    console.error(errorCaught);\n                }\n            }\n        };\n        // log stderr and stdout to #outputTextareaStdout1\n        ['error', 'log'].forEach(function (key) {\n            console[key + '_original'] = console[key];\n            console[key] = function () {\n                var element;\n                console[key + '_original'].apply(console, arguments);\n                element = document.querySelector('#outputTextareaStdout1');\n                if (!element) {\n                    return;\n                }\n                // append text to #outputTextareaStdout1\n                element.value += Array.from(arguments).map(function (arg) {\n                    return typeof arg === 'string'\n                        ? arg\n                        : JSON.stringify(arg, null, 4);\n                }).join(' ') + '\\n';\n                // scroll textarea to bottom\n                element.scrollTop = element.scrollHeight;\n            };\n        });\n        // init event-handling\n        ['change', 'click', 'keyup'].forEach(function (event) {\n            Array.from(document.querySelectorAll('.on' + event)).forEach(function (element) {\n                element.addEventListener(event, local.testRunBrowser);\n            });\n        });\n        // run tests\n        local.testRunBrowser();\n        break;\n\n\n\n    // run node js-env code - post-init\n    /* istanbul ignore next */\n    case 'node':\n        // export local\n        module.exports = local;\n        // require modules\n        local.fs = require('fs');\n        local.http = require('http');\n        local.url = require('url');\n        // init assets\n        local.assetsDict = local.assetsDict || {};\n        /* jslint-ignore-begin */\n        local.assetsDict['/assets.index.template.html'] = '\\\n<!doctype html>\\n\\\n<html lang=\"en\">\\n\\\n<head>\\n\\\n<meta charset=\"UTF-8\">\\n\\\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\\n\\\n<title>{{env.npm_package_name}} (v{{env.npm_package_version}})</title>\\n\\\n<style>\\n\\\n/*csslint\\n\\\n    box-sizing: false,\\n\\\n    universal-selector: false\\n\\\n*/\\n\\\n* {\\n\\\n    box-sizing: border-box;\\n\\\n}\\n\\\nbody {\\n\\\n    background: #dde;\\n\\\n    font-family: Arial, Helvetica, sans-serif;\\n\\\n    margin: 2rem;\\n\\\n}\\n\\\nbody > * {\\n\\\n    margin-bottom: 1rem;\\n\\\n}\\n\\\n.utility2FooterDiv {\\n\\\n    margin-top: 20px;\\n\\\n    text-align: center;\\n\\\n}\\n\\\n</style>\\n\\\n<style>\\n\\\n/*csslint\\n\\\n*/\\n\\\ntextarea {\\n\\\n    font-family: monospace;\\n\\\n    height: 10rem;\\n\\\n    width: 100%;\\n\\\n}\\n\\\ntextarea[readonly] {\\n\\\n    background: #ddd;\\n\\\n}\\n\\\n</style>\\n\\\n</head>\\n\\\n<body>\\n\\\n<!-- utility2-comment\\n\\\n<div id=\"ajaxProgressDiv1\" style=\"background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 0.5s, width 1.5s; width: 25%;\"></div>\\n\\\nutility2-comment -->\\n\\\n<h1>\\n\\\n<!-- utility2-comment\\n\\\n    <a\\n\\\n        {{#if env.npm_package_homepage}}\\n\\\n        href=\"{{env.npm_package_homepage}}\"\\n\\\n        {{/if env.npm_package_homepage}}\\n\\\n        target=\"_blank\"\\n\\\n    >\\n\\\nutility2-comment -->\\n\\\n        {{env.npm_package_name}} (v{{env.npm_package_version}})\\n\\\n<!-- utility2-comment\\n\\\n    </a>\\n\\\nutility2-comment -->\\n\\\n</h1>\\n\\\n<h3>{{env.npm_package_description}}</h3>\\n\\\n<!-- utility2-comment\\n\\\n<h4><a download href=\"assets.app.js\">download standalone app</a></h4>\\n\\\n<button class=\"onclick onreset\" id=\"testRunButton1\">run internal test</button><br>\\n\\\n<div id=\"testReportDiv1\" style=\"display: none;\"></div>\\n\\\nutility2-comment -->\\n\\\n\\n\\\n\\n\\\n\\n\\\n<label>stderr and stdout</label>\\n\\\n<textarea class=\"resettable\" id=\"outputTextareaStdout1\" readonly></textarea>\\n\\\n<!-- utility2-comment\\n\\\n{{#if isRollup}}\\n\\\n<script src=\"assets.app.js\"></script>\\n\\\n{{#unless isRollup}}\\n\\\nutility2-comment -->\\n\\\n<script src=\"assets.utility2.rollup.js\"></script>\\n\\\n<script src=\"jsonp.utility2._stateInit?callback=window.utility2._stateInit\"></script>\\n\\\n<script src=\"assets.npmtest_pubnub.rollup.js\"></script>\\n\\\n<script src=\"assets.example.js\"></script>\\n\\\n<script src=\"assets.test.js\"></script>\\n\\\n<!-- utility2-comment\\n\\\n{{/if isRollup}}\\n\\\nutility2-comment -->\\n\\\n<div class=\"utility2FooterDiv\">\\n\\\n    [ this app was created with\\n\\\n    <a href=\"https://github.com/kaizhu256/node-utility2\" target=\"_blank\">utility2</a>\\n\\\n    ]\\n\\\n</div>\\n\\\n</body>\\n\\\n</html>\\n\\\n';\n        /* jslint-ignore-end */\n        if (local.templateRender) {\n            local.assetsDict['/'] = local.templateRender(\n                local.assetsDict['/assets.index.template.html'],\n                {\n                    env: local.objectSetDefault(local.env, {\n                        npm_package_description: 'the greatest app in the world!',\n                        npm_package_name: 'my-app',\n                        npm_package_nameAlias: 'my_app',\n                        npm_package_version: '0.0.1'\n                    })\n                }\n            );\n        } else {\n            local.assetsDict['/'] = local.assetsDict['/assets.index.template.html']\n                .replace((/\\{\\{env\\.(\\w+?)\\}\\}/g), function (match0, match1) {\n                    // jslint-hack\n                    String(match0);\n                    switch (match1) {\n                    case 'npm_package_description':\n                        return 'the greatest app in the world!';\n                    case 'npm_package_name':\n                        return 'my-app';\n                    case 'npm_package_nameAlias':\n                        return 'my_app';\n                    case 'npm_package_version':\n                        return '0.0.1';\n                    }\n                });\n        }\n        // run the cli\n        if (local.global.utility2_rollup || module !== require.main) {\n            break;\n        }\n        local.assetsDict['/assets.example.js'] =\n            local.assetsDict['/assets.example.js'] ||\n            local.fs.readFileSync(__filename, 'utf8');\n        // bug-workaround - long $npm_package_buildCustomOrg\n        /* jslint-ignore-begin */\n        local.assetsDict['/assets.npmtest_pubnub.rollup.js'] =\n            local.assetsDict['/assets.npmtest_pubnub.rollup.js'] ||\n            local.fs.readFileSync(\n                local.npmtest_pubnub.__dirname + '/lib.npmtest_pubnub.js',\n                'utf8'\n            ).replace((/^#!/), '//');\n        /* jslint-ignore-end */\n        local.assetsDict['/favicon.ico'] = local.assetsDict['/favicon.ico'] || '';\n        // if $npm_config_timeout_exit exists,\n        // then exit this process after $npm_config_timeout_exit ms\n        if (Number(process.env.npm_config_timeout_exit)) {\n            setTimeout(process.exit, Number(process.env.npm_config_timeout_exit));\n        }\n        // start server\n        if (local.global.utility2_serverHttp1) {\n            break;\n        }\n        process.env.PORT = process.env.PORT || '8081';\n        console.error('server starting on port ' + process.env.PORT);\n        local.http.createServer(function (request, response) {\n            request.urlParsed = local.url.parse(request.url);\n            if (local.assetsDict[request.urlParsed.pathname] !== undefined) {\n                response.end(local.assetsDict[request.urlParsed.pathname]);\n                return;\n            }\n            response.statusCode = 404;\n            response.end();\n        }).listen(process.env.PORT);\n        break;\n    }\n}());\n","/home/travis/build/npmtest/node-npmtest-pubnub/node_modules/pubnub/lib/node/index.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _pubnubCommon = require('../core/pubnub-common');\n\nvar _pubnubCommon2 = _interopRequireDefault(_pubnubCommon);\n\nvar _networking = require('../networking');\n\nvar _networking2 = _interopRequireDefault(_networking);\n\nvar _common = require('../db/common');\n\nvar _common2 = _interopRequireDefault(_common);\n\nvar _webNode = require('../networking/modules/web-node');\n\nvar _node = require('../networking/modules/node');\n\nvar _flow_interfaces = require('../core/flow_interfaces');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _class = function (_PubNubCore) {\n  _inherits(_class, _PubNubCore);\n\n  function _class(setup) {\n    _classCallCheck(this, _class);\n\n    setup.db = new _common2.default();\n    setup.networking = new _networking2.default({ keepAlive: _node.keepAlive, get: _webNode.get, post: _webNode.post, proxy: _node.proxy });\n    setup.sdkFamily = 'Nodejs';\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, setup));\n  }\n\n  return _class;\n}(_pubnubCommon2.default);\n\nexports.default = _class;\nmodule.exports = exports['default'];\n//# sourceMappingURL=index.js.map\n","/home/travis/build/npmtest/node-npmtest-pubnub/node_modules/pubnub/lib/core/pubnub-common.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _uuid = require('uuid');\n\nvar _uuid2 = _interopRequireDefault(_uuid);\n\nvar _config = require('./components/config');\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _index = require('./components/cryptography/index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _subscription_manager = require('./components/subscription_manager');\n\nvar _subscription_manager2 = _interopRequireDefault(_subscription_manager);\n\nvar _listener_manager = require('./components/listener_manager');\n\nvar _listener_manager2 = _interopRequireDefault(_listener_manager);\n\nvar _endpoint = require('./components/endpoint');\n\nvar _endpoint2 = _interopRequireDefault(_endpoint);\n\nvar _add_channels = require('./endpoints/channel_groups/add_channels');\n\nvar addChannelsChannelGroupConfig = _interopRequireWildcard(_add_channels);\n\nvar _remove_channels = require('./endpoints/channel_groups/remove_channels');\n\nvar removeChannelsChannelGroupConfig = _interopRequireWildcard(_remove_channels);\n\nvar _delete_group = require('./endpoints/channel_groups/delete_group');\n\nvar deleteChannelGroupConfig = _interopRequireWildcard(_delete_group);\n\nvar _list_groups = require('./endpoints/channel_groups/list_groups');\n\nvar listChannelGroupsConfig = _interopRequireWildcard(_list_groups);\n\nvar _list_channels = require('./endpoints/channel_groups/list_channels');\n\nvar listChannelsInChannelGroupConfig = _interopRequireWildcard(_list_channels);\n\nvar _add_push_channels = require('./endpoints/push/add_push_channels');\n\nvar addPushChannelsConfig = _interopRequireWildcard(_add_push_channels);\n\nvar _remove_push_channels = require('./endpoints/push/remove_push_channels');\n\nvar removePushChannelsConfig = _interopRequireWildcard(_remove_push_channels);\n\nvar _list_push_channels = require('./endpoints/push/list_push_channels');\n\nvar listPushChannelsConfig = _interopRequireWildcard(_list_push_channels);\n\nvar _remove_device = require('./endpoints/push/remove_device');\n\nvar removeDevicePushConfig = _interopRequireWildcard(_remove_device);\n\nvar _leave = require('./endpoints/presence/leave');\n\nvar presenceLeaveEndpointConfig = _interopRequireWildcard(_leave);\n\nvar _where_now = require('./endpoints/presence/where_now');\n\nvar presenceWhereNowEndpointConfig = _interopRequireWildcard(_where_now);\n\nvar _heartbeat = require('./endpoints/presence/heartbeat');\n\nvar presenceHeartbeatEndpointConfig = _interopRequireWildcard(_heartbeat);\n\nvar _get_state = require('./endpoints/presence/get_state');\n\nvar presenceGetStateConfig = _interopRequireWildcard(_get_state);\n\nvar _set_state = require('./endpoints/presence/set_state');\n\nvar presenceSetStateConfig = _interopRequireWildcard(_set_state);\n\nvar _here_now = require('./endpoints/presence/here_now');\n\nvar presenceHereNowConfig = _interopRequireWildcard(_here_now);\n\nvar _audit = require('./endpoints/access_manager/audit');\n\nvar auditEndpointConfig = _interopRequireWildcard(_audit);\n\nvar _grant = require('./endpoints/access_manager/grant');\n\nvar grantEndpointConfig = _interopRequireWildcard(_grant);\n\nvar _publish = require('./endpoints/publish');\n\nvar publishEndpointConfig = _interopRequireWildcard(_publish);\n\nvar _history = require('./endpoints/history');\n\nvar historyEndpointConfig = _interopRequireWildcard(_history);\n\nvar _fetch_messages = require('./endpoints/fetch_messages');\n\nvar fetchMessagesEndpointConfig = _interopRequireWildcard(_fetch_messages);\n\nvar _time = require('./endpoints/time');\n\nvar timeEndpointConfig = _interopRequireWildcard(_time);\n\nvar _subscribe = require('./endpoints/subscribe');\n\nvar subscribeEndpointConfig = _interopRequireWildcard(_subscribe);\n\nvar _operations = require('./constants/operations');\n\nvar _operations2 = _interopRequireDefault(_operations);\n\nvar _categories = require('./constants/categories');\n\nvar _categories2 = _interopRequireDefault(_categories);\n\nvar _flow_interfaces = require('./flow_interfaces');\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar _class = function () {\n  function _class(setup) {\n    var _this = this;\n\n    _classCallCheck(this, _class);\n\n    var db = setup.db,\n        networking = setup.networking;\n\n\n    var config = this._config = new _config2.default({ setup: setup, db: db });\n    var crypto = new _index2.default({ config: config });\n\n    networking.init(config);\n\n    var modules = { config: config, networking: networking, crypto: crypto };\n\n    var timeEndpoint = _endpoint2.default.bind(this, modules, timeEndpointConfig);\n    var leaveEndpoint = _endpoint2.default.bind(this, modules, presenceLeaveEndpointConfig);\n    var heartbeatEndpoint = _endpoint2.default.bind(this, modules, presenceHeartbeatEndpointConfig);\n    var setStateEndpoint = _endpoint2.default.bind(this, modules, presenceSetStateConfig);\n    var subscribeEndpoint = _endpoint2.default.bind(this, modules, subscribeEndpointConfig);\n\n    var listenerManager = this._listenerManager = new _listener_manager2.default();\n\n    var subscriptionManager = new _subscription_manager2.default({\n      timeEndpoint: timeEndpoint,\n      leaveEndpoint: leaveEndpoint,\n      heartbeatEndpoint: heartbeatEndpoint,\n      setStateEndpoint: setStateEndpoint,\n      subscribeEndpoint: subscribeEndpoint,\n      crypto: modules.crypto,\n      config: modules.config,\n      listenerManager: listenerManager\n    });\n\n    this.addListener = listenerManager.addListener.bind(listenerManager);\n    this.removeListener = listenerManager.removeListener.bind(listenerManager);\n    this.removeAllListeners = listenerManager.removeAllListeners.bind(listenerManager);\n\n    this.channelGroups = {\n      listGroups: _endpoint2.default.bind(this, modules, listChannelGroupsConfig),\n      listChannels: _endpoint2.default.bind(this, modules, listChannelsInChannelGroupConfig),\n      addChannels: _endpoint2.default.bind(this, modules, addChannelsChannelGroupConfig),\n      removeChannels: _endpoint2.default.bind(this, modules, removeChannelsChannelGroupConfig),\n      deleteGroup: _endpoint2.default.bind(this, modules, deleteChannelGroupConfig)\n    };\n\n    this.push = {\n      addChannels: _endpoint2.default.bind(this, modules, addPushChannelsConfig),\n      removeChannels: _endpoint2.default.bind(this, modules, removePushChannelsConfig),\n      deleteDevice: _endpoint2.default.bind(this, modules, removeDevicePushConfig),\n      listChannels: _endpoint2.default.bind(this, modules, listPushChannelsConfig)\n    };\n\n    this.hereNow = _endpoint2.default.bind(this, modules, presenceHereNowConfig);\n    this.whereNow = _endpoint2.default.bind(this, modules, presenceWhereNowEndpointConfig);\n    this.getState = _endpoint2.default.bind(this, modules, presenceGetStateConfig);\n    this.setState = subscriptionManager.adaptStateChange.bind(subscriptionManager);\n\n    this.grant = _endpoint2.default.bind(this, modules, grantEndpointConfig);\n    this.audit = _endpoint2.default.bind(this, modules, auditEndpointConfig);\n\n    this.publish = _endpoint2.default.bind(this, modules, publishEndpointConfig);\n\n    this.fire = function (args, callback) {\n      args.replicate = false;\n      args.storeInHistory = false;\n      _this.publish(args, callback);\n    };\n\n    this.history = _endpoint2.default.bind(this, modules, historyEndpointConfig);\n    this.fetchMessages = _endpoint2.default.bind(this, modules, fetchMessagesEndpointConfig);\n\n    this.time = timeEndpoint;\n\n    this.subscribe = subscriptionManager.adaptSubscribeChange.bind(subscriptionManager);\n    this.unsubscribe = subscriptionManager.adaptUnsubscribeChange.bind(subscriptionManager);\n    this.disconnect = subscriptionManager.disconnect.bind(subscriptionManager);\n    this.reconnect = subscriptionManager.reconnect.bind(subscriptionManager);\n\n    this.destroy = function (isOffline) {\n      subscriptionManager.unsubscribeAll(isOffline);\n      subscriptionManager.disconnect();\n    };\n\n    this.stop = this.destroy;\n\n    this.unsubscribeAll = subscriptionManager.unsubscribeAll.bind(subscriptionManager);\n\n    this.getSubscribedChannels = subscriptionManager.getSubscribedChannels.bind(subscriptionManager);\n    this.getSubscribedChannelGroups = subscriptionManager.getSubscribedChannelGroups.bind(subscriptionManager);\n\n    this.encrypt = crypto.encrypt.bind(crypto);\n    this.decrypt = crypto.decrypt.bind(crypto);\n\n    this.getAuthKey = modules.config.getAuthKey.bind(modules.config);\n    this.setAuthKey = modules.config.setAuthKey.bind(modules.config);\n    this.setCipherKey = modules.config.setCipherKey.bind(modules.config);\n    this.getUUID = modules.config.getUUID.bind(modules.config);\n    this.setUUID = modules.config.setUUID.bind(modules.config);\n    this.getFilterExpression = modules.config.getFilterExpression.bind(modules.config);\n    this.setFilterExpression = modules.config.setFilterExpression.bind(modules.config);\n  }\n\n  _createClass(_class, [{\n    key: 'getVersion',\n    value: function getVersion() {\n      return this._config.getVersion();\n    }\n  }, {\n    key: 'networkDownDetected',\n    value: function networkDownDetected() {\n      this._listenerManager.announceNetworkDown();\n\n      if (this._config.restore) {\n        this.disconnect();\n      } else {\n        this.destroy(true);\n      }\n    }\n  }, {\n    key: 'networkUpDetected',\n    value: function networkUpDetected() {\n      this._listenerManager.announceNetworkUp();\n      this.reconnect();\n    }\n  }], [{\n    key: 'generateUUID',\n    value: function generateUUID() {\n      return _uuid2.default.v4();\n    }\n  }]);\n\n  return _class;\n}();\n\n_class.OPERATIONS = _operations2.default;\n_class.CATEGORIES = _categories2.default;\nexports.default = _class;\nmodule.exports = exports['default'];\n//# sourceMappingURL=pubnub-common.js.map\n","/home/travis/build/npmtest/node-npmtest-pubnub/node_modules/pubnub/lib/core/components/config.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _uuid = require('uuid');\n\nvar _uuid2 = _interopRequireDefault(_uuid);\n\nvar _flow_interfaces = require('../flow_interfaces');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar _class = function () {\n  function _class(_ref) {\n    var setup = _ref.setup,\n        db = _ref.db;\n\n    _classCallCheck(this, _class);\n\n    this._db = db;\n\n    this.instanceId = 'pn-' + _uuid2.default.v4();\n    this.secretKey = setup.secretKey || setup.secret_key;\n    this.subscribeKey = setup.subscribeKey || setup.subscribe_key;\n    this.publishKey = setup.publishKey || setup.publish_key;\n    this.sdkFamily = setup.sdkFamily;\n    this.partnerId = setup.partnerId;\n    this.setAuthKey(setup.authKey);\n    this.setCipherKey(setup.cipherKey);\n\n    this.setFilterExpression(setup.filterExpression);\n\n    this.origin = setup.origin || 'pubsub.pubnub.com';\n    this.secure = setup.ssl || false;\n    this.restore = setup.restore || false;\n    this.proxy = setup.proxy;\n    this.keepAlive = setup.keepAlive;\n    this.keepAliveSettings = setup.keepAliveSettings;\n\n    if (typeof location !== 'undefined' && location.protocol === 'https:') {\n      this.secure = true;\n    }\n\n    this.logVerbosity = setup.logVerbosity || false;\n    this.suppressLeaveEvents = setup.suppressLeaveEvents || false;\n\n    this.announceFailedHeartbeats = setup.announceFailedHeartbeats || true;\n    this.announceSuccessfulHeartbeats = setup.announceSuccessfulHeartbeats || false;\n\n    this.useInstanceId = setup.useInstanceId || false;\n    this.useRequestId = setup.useRequestId || false;\n\n    this.requestMessageCountThreshold = setup.requestMessageCountThreshold;\n\n    this.setTransactionTimeout(setup.transactionalRequestTimeout || 15 * 1000);\n\n    this.setSubscribeTimeout(setup.subscribeRequestTimeout || 310 * 1000);\n\n    this.setSendBeaconConfig(setup.useSendBeacon || true);\n\n    this.setPresenceTimeout(setup.presenceTimeout || 300);\n\n    if (setup.heartbeatInterval) {\n      this.setHeartbeatInterval(setup.heartbeatInterval);\n    }\n\n    this.setUUID(this._decideUUID(setup.uuid));\n  }\n\n  _createClass(_class, [{\n    key: 'getAuthKey',\n    value: function getAuthKey() {\n      return this.authKey;\n    }\n  }, {\n    key: 'setAuthKey',\n    value: function setAuthKey(val) {\n      this.authKey = val;return this;\n    }\n  }, {\n    key: 'setCipherKey',\n    value: function setCipherKey(val) {\n      this.cipherKey = val;return this;\n    }\n  }, {\n    key: 'getUUID',\n    value: function getUUID() {\n      return this.UUID;\n    }\n  }, {\n    key: 'setUUID',\n    value: function setUUID(val) {\n      if (this._db && this._db.set) this._db.set(this.subscribeKey + 'uuid', val);\n      this.UUID = val;\n      return this;\n    }\n  }, {\n    key: 'getFilterExpression',\n    value: function getFilterExpression() {\n      return this.filterExpression;\n    }\n  }, {\n    key: 'setFilterExpression',\n    value: function setFilterExpression(val) {\n      this.filterExpression = val;return this;\n    }\n  }, {\n    key: 'getPresenceTimeout',\n    value: function getPresenceTimeout() {\n      return this._presenceTimeout;\n    }\n  }, {\n    key: 'setPresenceTimeout',\n    value: function setPresenceTimeout(val) {\n      this._presenceTimeout = val;\n      this.setHeartbeatInterval(this._presenceTimeout / 2 - 1);\n      return this;\n    }\n  }, {\n    key: 'getHeartbeatInterval',\n    value: function getHeartbeatInterval() {\n      return this._heartbeatInterval;\n    }\n  }, {\n    key: 'setHeartbeatInterval',\n    value: function setHeartbeatInterval(val) {\n      this._heartbeatInterval = val;return this;\n    }\n  }, {\n    key: 'getSubscribeTimeout',\n    value: function getSubscribeTimeout() {\n      return this._subscribeRequestTimeout;\n    }\n  }, {\n    key: 'setSubscribeTimeout',\n    value: function setSubscribeTimeout(val) {\n      this._subscribeRequestTimeout = val;return this;\n    }\n  }, {\n    key: 'getTransactionTimeout',\n    value: function getTransactionTimeout() {\n      return this._transactionalRequestTimeout;\n    }\n  }, {\n    key: 'setTransactionTimeout',\n    value: function setTransactionTimeout(val) {\n      this._transactionalRequestTimeout = val;return this;\n    }\n  }, {\n    key: 'isSendBeaconEnabled',\n    value: function isSendBeaconEnabled() {\n      return this._useSendBeacon;\n    }\n  }, {\n    key: 'setSendBeaconConfig',\n    value: function setSendBeaconConfig(val) {\n      this._useSendBeacon = val;return this;\n    }\n  }, {\n    key: 'getVersion',\n    value: function getVersion() {\n      return '4.8.0';\n    }\n  }, {\n    key: '_decideUUID',\n    value: function _decideUUID(providedUUID) {\n      if (providedUUID) {\n        return providedUUID;\n      }\n\n      if (this._db && this._db.get && this._db.get(this.subscribeKey + 'uuid')) {\n        return this._db.get(this.subscribeKey + 'uuid');\n      }\n\n      return 'pn-' + _uuid2.default.v4();\n    }\n  }]);\n\n  return _class;\n}();\n\nexports.default = _class;\nmodule.exports = exports['default'];\n//# sourceMappingURL=config.js.map\n","/home/travis/build/npmtest/node-npmtest-pubnub/node_modules/pubnub/lib/core/flow_interfaces.js":"'use strict';\n\nmodule.exports = {};\n//# sourceMappingURL=flow_interfaces.js.map\n","/home/travis/build/npmtest/node-npmtest-pubnub/node_modules/pubnub/lib/core/components/cryptography/index.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _config = require('../config');\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _hmacSha = require('./hmac-sha256');\n\nvar _hmacSha2 = _interopRequireDefault(_hmacSha);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar _class = function () {\n  function _class(_ref) {\n    var config = _ref.config;\n\n    _classCallCheck(this, _class);\n\n    this._config = config;\n\n    this._iv = '0123456789012345';\n\n    this._allowedKeyEncodings = ['hex', 'utf8', 'base64', 'binary'];\n    this._allowedKeyLengths = [128, 256];\n    this._allowedModes = ['ecb', 'cbc'];\n\n    this._defaultOptions = {\n      encryptKey: true,\n      keyEncoding: 'utf8',\n      keyLength: 256,\n      mode: 'cbc'\n    };\n  }\n\n  _createClass(_class, [{\n    key: 'HMACSHA256',\n    value: function HMACSHA256(data) {\n      var hash = _hmacSha2.default.HmacSHA256(data, this._config.secretKey);\n      return hash.toString(_hmacSha2.default.enc.Base64);\n    }\n  }, {\n    key: 'SHA256',\n    value: function SHA256(s) {\n      return _hmacSha2.default.SHA256(s).toString(_hmacSha2.default.enc.Hex);\n    }\n  }, {\n    key: '_parseOptions',\n    value: function _parseOptions(incomingOptions) {\n      var options = incomingOptions || {};\n      if (!options.hasOwnProperty('encryptKey')) options.encryptKey = this._defaultOptions.encryptKey;\n      if (!options.hasOwnProperty('keyEncoding')) options.keyEncoding = this._defaultOptions.keyEncoding;\n      if (!options.hasOwnProperty('keyLength')) options.keyLength = this._defaultOptions.keyLength;\n      if (!options.hasOwnProperty('mode')) options.mode = this._defaultOptions.mode;\n\n      if (this._allowedKeyEncodings.indexOf(options.keyEncoding.toLowerCase()) === -1) {\n        options.keyEncoding = this._defaultOptions.keyEncoding;\n      }\n\n      if (this._allowedKeyLengths.indexOf(parseInt(options.keyLength, 10)) === -1) {\n        options.keyLength = this._defaultOptions.keyLength;\n      }\n\n      if (this._allowedModes.indexOf(options.mode.toLowerCase()) === -1) {\n        options.mode = this._defaultOptions.mode;\n      }\n\n      return options;\n    }\n  }, {\n    key: '_decodeKey',\n    value: function _decodeKey(key, options) {\n      if (options.keyEncoding === 'base64') {\n        return _hmacSha2.default.enc.Base64.parse(key);\n      } else if (options.keyEncoding === 'hex') {\n        return _hmacSha2.default.enc.Hex.parse(key);\n      } else {\n        return key;\n      }\n    }\n  }, {\n    key: '_getPaddedKey',\n    value: function _getPaddedKey(key, options) {\n      key = this._decodeKey(key, options);\n      if (options.encryptKey) {\n        return _hmacSha2.default.enc.Utf8.parse(this.SHA256(key).slice(0, 32));\n      } else {\n        return key;\n      }\n    }\n  }, {\n    key: '_getMode',\n    value: function _getMode(options) {\n      if (options.mode === 'ecb') {\n        return _hmacSha2.default.mode.ECB;\n      } else {\n        return _hmacSha2.default.mode.CBC;\n      }\n    }\n  }, {\n    key: '_getIV',\n    value: function _getIV(options) {\n      return options.mode === 'cbc' ? _hmacSha2.default.enc.Utf8.parse(this._iv) : null;\n    }\n  }, {\n    key: 'encrypt',\n    value: function encrypt(data, customCipherKey, options) {\n      if (!customCipherKey && !this._config.cipherKey) return data;\n      options = this._parseOptions(options);\n      var iv = this._getIV(options);\n      var mode = this._getMode(options);\n      var cipherKey = this._getPaddedKey(customCipherKey || this._config.cipherKey, options);\n      var encryptedHexArray = _hmacSha2.default.AES.encrypt(data, cipherKey, { iv: iv, mode: mode }).ciphertext;\n      var base64Encrypted = encryptedHexArray.toString(_hmacSha2.default.enc.Base64);\n      return base64Encrypted || data;\n    }\n  }, {\n    key: 'decrypt',\n    value: function decrypt(data, customCipherKey, options) {\n      if (!customCipherKey && !this._config.cipherKey) return data;\n      options = this._parseOptions(options);\n      var iv = this._getIV(options);\n      var mode = this._getMode(options);\n      var cipherKey = this._getPaddedKey(customCipherKey || this._config.cipherKey, options);\n      try {\n        var ciphertext = _hmacSha2.default.enc.Base64.parse(data);\n        var plainJSON = _hmacSha2.default.AES.decrypt({ ciphertext: ciphertext }, cipherKey, { iv: iv, mode: mode }).toString(_hmacSha2.default.enc.Utf8);\n        var plaintext = JSON.parse(plainJSON);\n        return plaintext;\n      } catch (e) {\n        return null;\n      }\n    }\n  }]);\n\n  return _class;\n}();\n\nexports.default = _class;\nmodule.exports = exports['default'];\n//# sourceMappingURL=index.js.map\n","/home/travis/build/npmtest/node-npmtest-pubnub/node_modules/pubnub/lib/core/components/cryptography/hmac-sha256.js":"\"use strict\";\n\nvar CryptoJS = CryptoJS || function (h, s) {\n  var f = {},\n      g = f.lib = {},\n      q = function q() {},\n      m = g.Base = { extend: function extend(a) {\n      q.prototype = this;var c = new q();a && c.mixIn(a);c.hasOwnProperty(\"init\") || (c.init = function () {\n        c.$super.init.apply(this, arguments);\n      });c.init.prototype = c;c.$super = this;return c;\n    }, create: function create() {\n      var a = this.extend();a.init.apply(a, arguments);return a;\n    }, init: function init() {}, mixIn: function mixIn(a) {\n      for (var c in a) {\n        a.hasOwnProperty(c) && (this[c] = a[c]);\n      }a.hasOwnProperty(\"toString\") && (this.toString = a.toString);\n    }, clone: function clone() {\n      return this.init.prototype.extend(this);\n    } },\n      r = g.WordArray = m.extend({ init: function init(a, c) {\n      a = this.words = a || [];this.sigBytes = c != s ? c : 4 * a.length;\n    }, toString: function toString(a) {\n      return (a || k).stringify(this);\n    }, concat: function concat(a) {\n      var c = this.words,\n          d = a.words,\n          b = this.sigBytes;a = a.sigBytes;this.clamp();if (b % 4) for (var e = 0; e < a; e++) {\n        c[b + e >>> 2] |= (d[e >>> 2] >>> 24 - 8 * (e % 4) & 255) << 24 - 8 * ((b + e) % 4);\n      } else if (65535 < d.length) for (e = 0; e < a; e += 4) {\n        c[b + e >>> 2] = d[e >>> 2];\n      } else c.push.apply(c, d);this.sigBytes += a;return this;\n    }, clamp: function clamp() {\n      var a = this.words,\n          c = this.sigBytes;a[c >>> 2] &= 4294967295 << 32 - 8 * (c % 4);a.length = h.ceil(c / 4);\n    }, clone: function clone() {\n      var a = m.clone.call(this);a.words = this.words.slice(0);return a;\n    }, random: function random(a) {\n      for (var c = [], d = 0; d < a; d += 4) {\n        c.push(4294967296 * h.random() | 0);\n      }return new r.init(c, a);\n    } }),\n      l = f.enc = {},\n      k = l.Hex = { stringify: function stringify(a) {\n      var c = a.words;a = a.sigBytes;for (var d = [], b = 0; b < a; b++) {\n        var e = c[b >>> 2] >>> 24 - 8 * (b % 4) & 255;d.push((e >>> 4).toString(16));d.push((e & 15).toString(16));\n      }return d.join(\"\");\n    }, parse: function parse(a) {\n      for (var c = a.length, d = [], b = 0; b < c; b += 2) {\n        d[b >>> 3] |= parseInt(a.substr(b, 2), 16) << 24 - 4 * (b % 8);\n      }return new r.init(d, c / 2);\n    } },\n      n = l.Latin1 = { stringify: function stringify(a) {\n      var c = a.words;a = a.sigBytes;for (var d = [], b = 0; b < a; b++) {\n        d.push(String.fromCharCode(c[b >>> 2] >>> 24 - 8 * (b % 4) & 255));\n      }return d.join(\"\");\n    }, parse: function parse(a) {\n      for (var c = a.length, d = [], b = 0; b < c; b++) {\n        d[b >>> 2] |= (a.charCodeAt(b) & 255) << 24 - 8 * (b % 4);\n      }return new r.init(d, c);\n    } },\n      j = l.Utf8 = { stringify: function stringify(a) {\n      try {\n        return decodeURIComponent(escape(n.stringify(a)));\n      } catch (c) {\n        throw Error(\"Malformed UTF-8 data\");\n      }\n    }, parse: function parse(a) {\n      return n.parse(unescape(encodeURIComponent(a)));\n    } },\n      u = g.BufferedBlockAlgorithm = m.extend({ reset: function reset() {\n      this._data = new r.init();this._nDataBytes = 0;\n    }, _append: function _append(a) {\n      \"string\" == typeof a && (a = j.parse(a));this._data.concat(a);this._nDataBytes += a.sigBytes;\n    }, _process: function _process(a) {\n      var c = this._data,\n          d = c.words,\n          b = c.sigBytes,\n          e = this.blockSize,\n          f = b / (4 * e),\n          f = a ? h.ceil(f) : h.max((f | 0) - this._minBufferSize, 0);a = f * e;b = h.min(4 * a, b);if (a) {\n        for (var g = 0; g < a; g += e) {\n          this._doProcessBlock(d, g);\n        }g = d.splice(0, a);c.sigBytes -= b;\n      }return new r.init(g, b);\n    }, clone: function clone() {\n      var a = m.clone.call(this);\n      a._data = this._data.clone();return a;\n    }, _minBufferSize: 0 });g.Hasher = u.extend({ cfg: m.extend(), init: function init(a) {\n      this.cfg = this.cfg.extend(a);this.reset();\n    }, reset: function reset() {\n      u.reset.call(this);this._doReset();\n    }, update: function update(a) {\n      this._append(a);this._process();return this;\n    }, finalize: function finalize(a) {\n      a && this._append(a);return this._doFinalize();\n    }, blockSize: 16, _createHelper: function _createHelper(a) {\n      return function (c, d) {\n        return new a.init(d).finalize(c);\n      };\n    }, _createHmacHelper: function _createHmacHelper(a) {\n      return function (c, d) {\n        return new t.HMAC.init(a, d).finalize(c);\n      };\n    } });var t = f.algo = {};return f;\n}(Math);\n\n(function (h) {\n  for (var s = CryptoJS, f = s.lib, g = f.WordArray, q = f.Hasher, f = s.algo, m = [], r = [], l = function l(a) {\n    return 4294967296 * (a - (a | 0)) | 0;\n  }, k = 2, n = 0; 64 > n;) {\n    var j;a: {\n      j = k;for (var u = h.sqrt(j), t = 2; t <= u; t++) {\n        if (!(j % t)) {\n          j = !1;break a;\n        }\n      }j = !0;\n    }j && (8 > n && (m[n] = l(h.pow(k, 0.5))), r[n] = l(h.pow(k, 1 / 3)), n++);k++;\n  }var a = [],\n      f = f.SHA256 = q.extend({ _doReset: function _doReset() {\n      this._hash = new g.init(m.slice(0));\n    }, _doProcessBlock: function _doProcessBlock(c, d) {\n      for (var b = this._hash.words, e = b[0], f = b[1], g = b[2], j = b[3], h = b[4], m = b[5], n = b[6], q = b[7], p = 0; 64 > p; p++) {\n        if (16 > p) a[p] = c[d + p] | 0;else {\n          var k = a[p - 15],\n              l = a[p - 2];a[p] = ((k << 25 | k >>> 7) ^ (k << 14 | k >>> 18) ^ k >>> 3) + a[p - 7] + ((l << 15 | l >>> 17) ^ (l << 13 | l >>> 19) ^ l >>> 10) + a[p - 16];\n        }k = q + ((h << 26 | h >>> 6) ^ (h << 21 | h >>> 11) ^ (h << 7 | h >>> 25)) + (h & m ^ ~h & n) + r[p] + a[p];l = ((e << 30 | e >>> 2) ^ (e << 19 | e >>> 13) ^ (e << 10 | e >>> 22)) + (e & f ^ e & g ^ f & g);q = n;n = m;m = h;h = j + k | 0;j = g;g = f;f = e;e = k + l | 0;\n      }b[0] = b[0] + e | 0;b[1] = b[1] + f | 0;b[2] = b[2] + g | 0;b[3] = b[3] + j | 0;b[4] = b[4] + h | 0;b[5] = b[5] + m | 0;b[6] = b[6] + n | 0;b[7] = b[7] + q | 0;\n    }, _doFinalize: function _doFinalize() {\n      var a = this._data,\n          d = a.words,\n          b = 8 * this._nDataBytes,\n          e = 8 * a.sigBytes;\n      d[e >>> 5] |= 128 << 24 - e % 32;d[(e + 64 >>> 9 << 4) + 14] = h.floor(b / 4294967296);d[(e + 64 >>> 9 << 4) + 15] = b;a.sigBytes = 4 * d.length;this._process();return this._hash;\n    }, clone: function clone() {\n      var a = q.clone.call(this);a._hash = this._hash.clone();return a;\n    } });s.SHA256 = q._createHelper(f);s.HmacSHA256 = q._createHmacHelper(f);\n})(Math);\n\n(function () {\n  var h = CryptoJS,\n      s = h.enc.Utf8;h.algo.HMAC = h.lib.Base.extend({ init: function init(f, g) {\n      f = this._hasher = new f.init();\"string\" == typeof g && (g = s.parse(g));var h = f.blockSize,\n          m = 4 * h;g.sigBytes > m && (g = f.finalize(g));g.clamp();for (var r = this._oKey = g.clone(), l = this._iKey = g.clone(), k = r.words, n = l.words, j = 0; j < h; j++) {\n        k[j] ^= 1549556828, n[j] ^= 909522486;\n      }r.sigBytes = l.sigBytes = m;this.reset();\n    }, reset: function reset() {\n      var f = this._hasher;f.reset();f.update(this._iKey);\n    }, update: function update(f) {\n      this._hasher.update(f);return this;\n    }, finalize: function finalize(f) {\n      var g = this._hasher;f = g.finalize(f);g.reset();return g.finalize(this._oKey.clone().concat(f));\n    } });\n})();\n\n(function () {\n  var u = CryptoJS,\n      p = u.lib.WordArray;u.enc.Base64 = { stringify: function stringify(d) {\n      var l = d.words,\n          p = d.sigBytes,\n          t = this._map;d.clamp();d = [];for (var r = 0; r < p; r += 3) {\n        for (var w = (l[r >>> 2] >>> 24 - 8 * (r % 4) & 255) << 16 | (l[r + 1 >>> 2] >>> 24 - 8 * ((r + 1) % 4) & 255) << 8 | l[r + 2 >>> 2] >>> 24 - 8 * ((r + 2) % 4) & 255, v = 0; 4 > v && r + 0.75 * v < p; v++) {\n          d.push(t.charAt(w >>> 6 * (3 - v) & 63));\n        }\n      }if (l = t.charAt(64)) for (; d.length % 4;) {\n        d.push(l);\n      }return d.join(\"\");\n    }, parse: function parse(d) {\n      var l = d.length,\n          s = this._map,\n          t = s.charAt(64);t && (t = d.indexOf(t), -1 != t && (l = t));for (var t = [], r = 0, w = 0; w < l; w++) {\n        if (w % 4) {\n          var v = s.indexOf(d.charAt(w - 1)) << 2 * (w % 4),\n              b = s.indexOf(d.charAt(w)) >>> 6 - 2 * (w % 4);t[r >>> 2] |= (v | b) << 24 - 8 * (r % 4);r++;\n        }\n      }return p.create(t, r);\n    }, _map: \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\" };\n})();\n\n(function (u) {\n  function p(b, n, a, c, e, j, k) {\n    b = b + (n & a | ~n & c) + e + k;return (b << j | b >>> 32 - j) + n;\n  }function d(b, n, a, c, e, j, k) {\n    b = b + (n & c | a & ~c) + e + k;return (b << j | b >>> 32 - j) + n;\n  }function l(b, n, a, c, e, j, k) {\n    b = b + (n ^ a ^ c) + e + k;return (b << j | b >>> 32 - j) + n;\n  }function s(b, n, a, c, e, j, k) {\n    b = b + (a ^ (n | ~c)) + e + k;return (b << j | b >>> 32 - j) + n;\n  }for (var t = CryptoJS, r = t.lib, w = r.WordArray, v = r.Hasher, r = t.algo, b = [], x = 0; 64 > x; x++) {\n    b[x] = 4294967296 * u.abs(u.sin(x + 1)) | 0;\n  }r = r.MD5 = v.extend({ _doReset: function _doReset() {\n      this._hash = new w.init([1732584193, 4023233417, 2562383102, 271733878]);\n    },\n    _doProcessBlock: function _doProcessBlock(q, n) {\n      for (var a = 0; 16 > a; a++) {\n        var c = n + a,\n            e = q[c];q[c] = (e << 8 | e >>> 24) & 16711935 | (e << 24 | e >>> 8) & 4278255360;\n      }var a = this._hash.words,\n          c = q[n + 0],\n          e = q[n + 1],\n          j = q[n + 2],\n          k = q[n + 3],\n          z = q[n + 4],\n          r = q[n + 5],\n          t = q[n + 6],\n          w = q[n + 7],\n          v = q[n + 8],\n          A = q[n + 9],\n          B = q[n + 10],\n          C = q[n + 11],\n          u = q[n + 12],\n          D = q[n + 13],\n          E = q[n + 14],\n          x = q[n + 15],\n          f = a[0],\n          m = a[1],\n          g = a[2],\n          h = a[3],\n          f = p(f, m, g, h, c, 7, b[0]),\n          h = p(h, f, m, g, e, 12, b[1]),\n          g = p(g, h, f, m, j, 17, b[2]),\n          m = p(m, g, h, f, k, 22, b[3]),\n          f = p(f, m, g, h, z, 7, b[4]),\n          h = p(h, f, m, g, r, 12, b[5]),\n          g = p(g, h, f, m, t, 17, b[6]),\n          m = p(m, g, h, f, w, 22, b[7]),\n          f = p(f, m, g, h, v, 7, b[8]),\n          h = p(h, f, m, g, A, 12, b[9]),\n          g = p(g, h, f, m, B, 17, b[10]),\n          m = p(m, g, h, f, C, 22, b[11]),\n          f = p(f, m, g, h, u, 7, b[12]),\n          h = p(h, f, m, g, D, 12, b[13]),\n          g = p(g, h, f, m, E, 17, b[14]),\n          m = p(m, g, h, f, x, 22, b[15]),\n          f = d(f, m, g, h, e, 5, b[16]),\n          h = d(h, f, m, g, t, 9, b[17]),\n          g = d(g, h, f, m, C, 14, b[18]),\n          m = d(m, g, h, f, c, 20, b[19]),\n          f = d(f, m, g, h, r, 5, b[20]),\n          h = d(h, f, m, g, B, 9, b[21]),\n          g = d(g, h, f, m, x, 14, b[22]),\n          m = d(m, g, h, f, z, 20, b[23]),\n          f = d(f, m, g, h, A, 5, b[24]),\n          h = d(h, f, m, g, E, 9, b[25]),\n          g = d(g, h, f, m, k, 14, b[26]),\n          m = d(m, g, h, f, v, 20, b[27]),\n          f = d(f, m, g, h, D, 5, b[28]),\n          h = d(h, f, m, g, j, 9, b[29]),\n          g = d(g, h, f, m, w, 14, b[30]),\n          m = d(m, g, h, f, u, 20, b[31]),\n          f = l(f, m, g, h, r, 4, b[32]),\n          h = l(h, f, m, g, v, 11, b[33]),\n          g = l(g, h, f, m, C, 16, b[34]),\n          m = l(m, g, h, f, E, 23, b[35]),\n          f = l(f, m, g, h, e, 4, b[36]),\n          h = l(h, f, m, g, z, 11, b[37]),\n          g = l(g, h, f, m, w, 16, b[38]),\n          m = l(m, g, h, f, B, 23, b[39]),\n          f = l(f, m, g, h, D, 4, b[40]),\n          h = l(h, f, m, g, c, 11, b[41]),\n          g = l(g, h, f, m, k, 16, b[42]),\n          m = l(m, g, h, f, t, 23, b[43]),\n          f = l(f, m, g, h, A, 4, b[44]),\n          h = l(h, f, m, g, u, 11, b[45]),\n          g = l(g, h, f, m, x, 16, b[46]),\n          m = l(m, g, h, f, j, 23, b[47]),\n          f = s(f, m, g, h, c, 6, b[48]),\n          h = s(h, f, m, g, w, 10, b[49]),\n          g = s(g, h, f, m, E, 15, b[50]),\n          m = s(m, g, h, f, r, 21, b[51]),\n          f = s(f, m, g, h, u, 6, b[52]),\n          h = s(h, f, m, g, k, 10, b[53]),\n          g = s(g, h, f, m, B, 15, b[54]),\n          m = s(m, g, h, f, e, 21, b[55]),\n          f = s(f, m, g, h, v, 6, b[56]),\n          h = s(h, f, m, g, x, 10, b[57]),\n          g = s(g, h, f, m, t, 15, b[58]),\n          m = s(m, g, h, f, D, 21, b[59]),\n          f = s(f, m, g, h, z, 6, b[60]),\n          h = s(h, f, m, g, C, 10, b[61]),\n          g = s(g, h, f, m, j, 15, b[62]),\n          m = s(m, g, h, f, A, 21, b[63]);a[0] = a[0] + f | 0;a[1] = a[1] + m | 0;a[2] = a[2] + g | 0;a[3] = a[3] + h | 0;\n    }, _doFinalize: function _doFinalize() {\n      var b = this._data,\n          n = b.words,\n          a = 8 * this._nDataBytes,\n          c = 8 * b.sigBytes;n[c >>> 5] |= 128 << 24 - c % 32;var e = u.floor(a / 4294967296);n[(c + 64 >>> 9 << 4) + 15] = (e << 8 | e >>> 24) & 16711935 | (e << 24 | e >>> 8) & 4278255360;n[(c + 64 >>> 9 << 4) + 14] = (a << 8 | a >>> 24) & 16711935 | (a << 24 | a >>> 8) & 4278255360;b.sigBytes = 4 * (n.length + 1);this._process();b = this._hash;n = b.words;for (a = 0; 4 > a; a++) {\n        c = n[a], n[a] = (c << 8 | c >>> 24) & 16711935 | (c << 24 | c >>> 8) & 4278255360;\n      }return b;\n    }, clone: function clone() {\n      var b = v.clone.call(this);b._hash = this._hash.clone();return b;\n    } });t.MD5 = v._createHelper(r);t.HmacMD5 = v._createHmacHelper(r);\n})(Math);\n(function () {\n  var u = CryptoJS,\n      p = u.lib,\n      d = p.Base,\n      l = p.WordArray,\n      p = u.algo,\n      s = p.EvpKDF = d.extend({ cfg: d.extend({ keySize: 4, hasher: p.MD5, iterations: 1 }), init: function init(d) {\n      this.cfg = this.cfg.extend(d);\n    }, compute: function compute(d, r) {\n      for (var p = this.cfg, s = p.hasher.create(), b = l.create(), u = b.words, q = p.keySize, p = p.iterations; u.length < q;) {\n        n && s.update(n);var n = s.update(d).finalize(r);s.reset();for (var a = 1; a < p; a++) {\n          n = s.finalize(n), s.reset();\n        }b.concat(n);\n      }b.sigBytes = 4 * q;return b;\n    } });u.EvpKDF = function (d, l, p) {\n    return s.create(p).compute(d, l);\n  };\n})();\n\nCryptoJS.lib.Cipher || function (u) {\n  var p = CryptoJS,\n      d = p.lib,\n      l = d.Base,\n      s = d.WordArray,\n      t = d.BufferedBlockAlgorithm,\n      r = p.enc.Base64,\n      w = p.algo.EvpKDF,\n      v = d.Cipher = t.extend({ cfg: l.extend(), createEncryptor: function createEncryptor(e, a) {\n      return this.create(this._ENC_XFORM_MODE, e, a);\n    }, createDecryptor: function createDecryptor(e, a) {\n      return this.create(this._DEC_XFORM_MODE, e, a);\n    }, init: function init(e, a, b) {\n      this.cfg = this.cfg.extend(b);this._xformMode = e;this._key = a;this.reset();\n    }, reset: function reset() {\n      t.reset.call(this);this._doReset();\n    }, process: function process(e) {\n      this._append(e);return this._process();\n    },\n    finalize: function finalize(e) {\n      e && this._append(e);return this._doFinalize();\n    }, keySize: 4, ivSize: 4, _ENC_XFORM_MODE: 1, _DEC_XFORM_MODE: 2, _createHelper: function _createHelper(e) {\n      return { encrypt: function encrypt(b, k, d) {\n          return (\"string\" == typeof k ? c : a).encrypt(e, b, k, d);\n        }, decrypt: function decrypt(b, k, d) {\n          return (\"string\" == typeof k ? c : a).decrypt(e, b, k, d);\n        } };\n    } });d.StreamCipher = v.extend({ _doFinalize: function _doFinalize() {\n      return this._process(!0);\n    }, blockSize: 1 });var b = p.mode = {},\n      x = function x(e, a, b) {\n    var c = this._iv;c ? this._iv = u : c = this._prevBlock;for (var d = 0; d < b; d++) {\n      e[a + d] ^= c[d];\n    }\n  },\n      q = (d.BlockCipherMode = l.extend({ createEncryptor: function createEncryptor(e, a) {\n      return this.Encryptor.create(e, a);\n    }, createDecryptor: function createDecryptor(e, a) {\n      return this.Decryptor.create(e, a);\n    }, init: function init(e, a) {\n      this._cipher = e;this._iv = a;\n    } })).extend();q.Encryptor = q.extend({ processBlock: function processBlock(e, a) {\n      var b = this._cipher,\n          c = b.blockSize;x.call(this, e, a, c);b.encryptBlock(e, a);this._prevBlock = e.slice(a, a + c);\n    } });q.Decryptor = q.extend({ processBlock: function processBlock(e, a) {\n      var b = this._cipher,\n          c = b.blockSize,\n          d = e.slice(a, a + c);b.decryptBlock(e, a);x.call(this, e, a, c);this._prevBlock = d;\n    } });b = b.CBC = q;q = (p.pad = {}).Pkcs7 = { pad: function pad(a, b) {\n      for (var c = 4 * b, c = c - a.sigBytes % c, d = c << 24 | c << 16 | c << 8 | c, l = [], n = 0; n < c; n += 4) {\n        l.push(d);\n      }c = s.create(l, c);a.concat(c);\n    }, unpad: function unpad(a) {\n      a.sigBytes -= a.words[a.sigBytes - 1 >>> 2] & 255;\n    } };d.BlockCipher = v.extend({ cfg: v.cfg.extend({ mode: b, padding: q }), reset: function reset() {\n      v.reset.call(this);var a = this.cfg,\n          b = a.iv,\n          a = a.mode;if (this._xformMode == this._ENC_XFORM_MODE) var c = a.createEncryptor;else c = a.createDecryptor, this._minBufferSize = 1;this._mode = c.call(a, this, b && b.words);\n    }, _doProcessBlock: function _doProcessBlock(a, b) {\n      this._mode.processBlock(a, b);\n    }, _doFinalize: function _doFinalize() {\n      var a = this.cfg.padding;if (this._xformMode == this._ENC_XFORM_MODE) {\n        a.pad(this._data, this.blockSize);var b = this._process(!0);\n      } else b = this._process(!0), a.unpad(b);return b;\n    }, blockSize: 4 });var n = d.CipherParams = l.extend({ init: function init(a) {\n      this.mixIn(a);\n    }, toString: function toString(a) {\n      return (a || this.formatter).stringify(this);\n    } }),\n      b = (p.format = {}).OpenSSL = { stringify: function stringify(a) {\n      var b = a.ciphertext;a = a.salt;return (a ? s.create([1398893684, 1701076831]).concat(a).concat(b) : b).toString(r);\n    }, parse: function parse(a) {\n      a = r.parse(a);var b = a.words;if (1398893684 == b[0] && 1701076831 == b[1]) {\n        var c = s.create(b.slice(2, 4));b.splice(0, 4);a.sigBytes -= 16;\n      }return n.create({ ciphertext: a, salt: c });\n    } },\n      a = d.SerializableCipher = l.extend({ cfg: l.extend({ format: b }), encrypt: function encrypt(a, b, c, d) {\n      d = this.cfg.extend(d);var l = a.createEncryptor(c, d);b = l.finalize(b);l = l.cfg;return n.create({ ciphertext: b, key: c, iv: l.iv, algorithm: a, mode: l.mode, padding: l.padding, blockSize: a.blockSize, formatter: d.format });\n    },\n    decrypt: function decrypt(a, b, c, d) {\n      d = this.cfg.extend(d);b = this._parse(b, d.format);return a.createDecryptor(c, d).finalize(b.ciphertext);\n    }, _parse: function _parse(a, b) {\n      return \"string\" == typeof a ? b.parse(a, this) : a;\n    } }),\n      p = (p.kdf = {}).OpenSSL = { execute: function execute(a, b, c, d) {\n      d || (d = s.random(8));a = w.create({ keySize: b + c }).compute(a, d);c = s.create(a.words.slice(b), 4 * c);a.sigBytes = 4 * b;return n.create({ key: a, iv: c, salt: d });\n    } },\n      c = d.PasswordBasedCipher = a.extend({ cfg: a.cfg.extend({ kdf: p }), encrypt: function encrypt(b, c, d, l) {\n      l = this.cfg.extend(l);d = l.kdf.execute(d, b.keySize, b.ivSize);l.iv = d.iv;b = a.encrypt.call(this, b, c, d.key, l);b.mixIn(d);return b;\n    }, decrypt: function decrypt(b, c, d, l) {\n      l = this.cfg.extend(l);c = this._parse(c, l.format);d = l.kdf.execute(d, b.keySize, b.ivSize, c.salt);l.iv = d.iv;return a.decrypt.call(this, b, c, d.key, l);\n    } });\n}();\n\n(function () {\n  for (var u = CryptoJS, p = u.lib.BlockCipher, d = u.algo, l = [], s = [], t = [], r = [], w = [], v = [], b = [], x = [], q = [], n = [], a = [], c = 0; 256 > c; c++) {\n    a[c] = 128 > c ? c << 1 : c << 1 ^ 283;\n  }for (var e = 0, j = 0, c = 0; 256 > c; c++) {\n    var k = j ^ j << 1 ^ j << 2 ^ j << 3 ^ j << 4,\n        k = k >>> 8 ^ k & 255 ^ 99;l[e] = k;s[k] = e;var z = a[e],\n        F = a[z],\n        G = a[F],\n        y = 257 * a[k] ^ 16843008 * k;t[e] = y << 24 | y >>> 8;r[e] = y << 16 | y >>> 16;w[e] = y << 8 | y >>> 24;v[e] = y;y = 16843009 * G ^ 65537 * F ^ 257 * z ^ 16843008 * e;b[k] = y << 24 | y >>> 8;x[k] = y << 16 | y >>> 16;q[k] = y << 8 | y >>> 24;n[k] = y;e ? (e = z ^ a[a[a[G ^ z]]], j ^= a[a[j]]) : e = j = 1;\n  }var H = [0, 1, 2, 4, 8, 16, 32, 64, 128, 27, 54],\n      d = d.AES = p.extend({ _doReset: function _doReset() {\n      for (var a = this._key, c = a.words, d = a.sigBytes / 4, a = 4 * ((this._nRounds = d + 6) + 1), e = this._keySchedule = [], j = 0; j < a; j++) {\n        if (j < d) e[j] = c[j];else {\n          var k = e[j - 1];j % d ? 6 < d && 4 == j % d && (k = l[k >>> 24] << 24 | l[k >>> 16 & 255] << 16 | l[k >>> 8 & 255] << 8 | l[k & 255]) : (k = k << 8 | k >>> 24, k = l[k >>> 24] << 24 | l[k >>> 16 & 255] << 16 | l[k >>> 8 & 255] << 8 | l[k & 255], k ^= H[j / d | 0] << 24);e[j] = e[j - d] ^ k;\n        }\n      }c = this._invKeySchedule = [];for (d = 0; d < a; d++) {\n        j = a - d, k = d % 4 ? e[j] : e[j - 4], c[d] = 4 > d || 4 >= j ? k : b[l[k >>> 24]] ^ x[l[k >>> 16 & 255]] ^ q[l[k >>> 8 & 255]] ^ n[l[k & 255]];\n      }\n    }, encryptBlock: function encryptBlock(a, b) {\n      this._doCryptBlock(a, b, this._keySchedule, t, r, w, v, l);\n    }, decryptBlock: function decryptBlock(a, c) {\n      var d = a[c + 1];a[c + 1] = a[c + 3];a[c + 3] = d;this._doCryptBlock(a, c, this._invKeySchedule, b, x, q, n, s);d = a[c + 1];a[c + 1] = a[c + 3];a[c + 3] = d;\n    }, _doCryptBlock: function _doCryptBlock(a, b, c, d, e, j, l, f) {\n      for (var m = this._nRounds, g = a[b] ^ c[0], h = a[b + 1] ^ c[1], k = a[b + 2] ^ c[2], n = a[b + 3] ^ c[3], p = 4, r = 1; r < m; r++) {\n        var q = d[g >>> 24] ^ e[h >>> 16 & 255] ^ j[k >>> 8 & 255] ^ l[n & 255] ^ c[p++],\n            s = d[h >>> 24] ^ e[k >>> 16 & 255] ^ j[n >>> 8 & 255] ^ l[g & 255] ^ c[p++],\n            t = d[k >>> 24] ^ e[n >>> 16 & 255] ^ j[g >>> 8 & 255] ^ l[h & 255] ^ c[p++],\n            n = d[n >>> 24] ^ e[g >>> 16 & 255] ^ j[h >>> 8 & 255] ^ l[k & 255] ^ c[p++],\n            g = q,\n            h = s,\n            k = t;\n      }q = (f[g >>> 24] << 24 | f[h >>> 16 & 255] << 16 | f[k >>> 8 & 255] << 8 | f[n & 255]) ^ c[p++];s = (f[h >>> 24] << 24 | f[k >>> 16 & 255] << 16 | f[n >>> 8 & 255] << 8 | f[g & 255]) ^ c[p++];t = (f[k >>> 24] << 24 | f[n >>> 16 & 255] << 16 | f[g >>> 8 & 255] << 8 | f[h & 255]) ^ c[p++];n = (f[n >>> 24] << 24 | f[g >>> 16 & 255] << 16 | f[h >>> 8 & 255] << 8 | f[k & 255]) ^ c[p++];a[b] = q;a[b + 1] = s;a[b + 2] = t;a[b + 3] = n;\n    }, keySize: 8 });u.AES = p._createHelper(d);\n})();\n\nCryptoJS.mode.ECB = function () {\n  var ECB = CryptoJS.lib.BlockCipherMode.extend();\n\n  ECB.Encryptor = ECB.extend({\n    processBlock: function processBlock(words, offset) {\n      this._cipher.encryptBlock(words, offset);\n    }\n  });\n\n  ECB.Decryptor = ECB.extend({\n    processBlock: function processBlock(words, offset) {\n      this._cipher.decryptBlock(words, offset);\n    }\n  });\n\n  return ECB;\n}();\n\nmodule.exports = CryptoJS;\n//# sourceMappingURL=hmac-sha256.js.map\n","/home/travis/build/npmtest/node-npmtest-pubnub/node_modules/pubnub/lib/core/components/subscription_manager.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _cryptography = require('../components/cryptography');\n\nvar _cryptography2 = _interopRequireDefault(_cryptography);\n\nvar _config = require('../components/config');\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _listener_manager = require('../components/listener_manager');\n\nvar _listener_manager2 = _interopRequireDefault(_listener_manager);\n\nvar _reconnection_manager = require('../components/reconnection_manager');\n\nvar _reconnection_manager2 = _interopRequireDefault(_reconnection_manager);\n\nvar _utils = require('../utils');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _flow_interfaces = require('../flow_interfaces');\n\nvar _categories = require('../constants/categories');\n\nvar _categories2 = _interopRequireDefault(_categories);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar _class = function () {\n  function _class(_ref) {\n    var subscribeEndpoint = _ref.subscribeEndpoint,\n        leaveEndpoint = _ref.leaveEndpoint,\n        heartbeatEndpoint = _ref.heartbeatEndpoint,\n        setStateEndpoint = _ref.setStateEndpoint,\n        timeEndpoint = _ref.timeEndpoint,\n        config = _ref.config,\n        crypto = _ref.crypto,\n        listenerManager = _ref.listenerManager;\n\n    _classCallCheck(this, _class);\n\n    this._listenerManager = listenerManager;\n    this._config = config;\n\n    this._leaveEndpoint = leaveEndpoint;\n    this._heartbeatEndpoint = heartbeatEndpoint;\n    this._setStateEndpoint = setStateEndpoint;\n    this._subscribeEndpoint = subscribeEndpoint;\n\n    this._crypto = crypto;\n\n    this._channels = {};\n    this._presenceChannels = {};\n\n    this._channelGroups = {};\n    this._presenceChannelGroups = {};\n\n    this._pendingChannelSubscriptions = [];\n    this._pendingChannelGroupSubscriptions = [];\n\n    this._currentTimetoken = 0;\n    this._lastTimetoken = 0;\n\n    this._subscriptionStatusAnnounced = false;\n\n    this._reconnectionManager = new _reconnection_manager2.default({ timeEndpoint: timeEndpoint });\n  }\n\n  _createClass(_class, [{\n    key: 'adaptStateChange',\n    value: function adaptStateChange(args, callback) {\n      var _this = this;\n\n      var state = args.state,\n          _args$channels = args.channels,\n          channels = _args$channels === undefined ? [] : _args$channels,\n          _args$channelGroups = args.channelGroups,\n          channelGroups = _args$channelGroups === undefined ? [] : _args$channelGroups;\n\n\n      channels.forEach(function (channel) {\n        if (channel in _this._channels) _this._channels[channel].state = state;\n      });\n\n      channelGroups.forEach(function (channelGroup) {\n        if (channelGroup in _this._channelGroups) _this._channelGroups[channelGroup].state = state;\n      });\n\n      return this._setStateEndpoint({ state: state, channels: channels, channelGroups: channelGroups }, callback);\n    }\n  }, {\n    key: 'adaptSubscribeChange',\n    value: function adaptSubscribeChange(args) {\n      var _this2 = this;\n\n      var timetoken = args.timetoken,\n          _args$channels2 = args.channels,\n          channels = _args$channels2 === undefined ? [] : _args$channels2,\n          _args$channelGroups2 = args.channelGroups,\n          channelGroups = _args$channelGroups2 === undefined ? [] : _args$channelGroups2,\n          _args$withPresence = args.withPresence,\n          withPresence = _args$withPresence === undefined ? false : _args$withPresence;\n\n\n      if (!this._config.subscribeKey || this._config.subscribeKey === '') {\n        if (console && console.log) console.log('subscribe key missing; aborting subscribe');\n        return;\n      }\n\n      if (timetoken) {\n        this._lastTimetoken = this._currentTimetoken;\n        this._currentTimetoken = timetoken;\n      }\n\n      channels.forEach(function (channel) {\n        _this2._channels[channel] = { state: {} };\n        if (withPresence) _this2._presenceChannels[channel] = {};\n\n        _this2._pendingChannelSubscriptions.push(channel);\n      });\n\n      channelGroups.forEach(function (channelGroup) {\n        _this2._channelGroups[channelGroup] = { state: {} };\n        if (withPresence) _this2._presenceChannelGroups[channelGroup] = {};\n\n        _this2._pendingChannelGroupSubscriptions.push(channelGroup);\n      });\n\n      this._subscriptionStatusAnnounced = false;\n      this.reconnect();\n    }\n  }, {\n    key: 'adaptUnsubscribeChange',\n    value: function adaptUnsubscribeChange(args, isOffline) {\n      var _this3 = this;\n\n      var _args$channels3 = args.channels,\n          channels = _args$channels3 === undefined ? [] : _args$channels3,\n          _args$channelGroups3 = args.channelGroups,\n          channelGroups = _args$channelGroups3 === undefined ? [] : _args$channelGroups3;\n\n\n      channels.forEach(function (channel) {\n        if (channel in _this3._channels) delete _this3._channels[channel];\n        if (channel in _this3._presenceChannels) delete _this3._presenceChannels[channel];\n      });\n\n      channelGroups.forEach(function (channelGroup) {\n        if (channelGroup in _this3._channelGroups) delete _this3._channelGroups[channelGroup];\n        if (channelGroup in _this3._presenceChannelGroups) delete _this3._channelGroups[channelGroup];\n      });\n\n      if (this._config.suppressLeaveEvents === false && !isOffline) {\n        this._leaveEndpoint({ channels: channels, channelGroups: channelGroups }, function (status) {\n          status.affectedChannels = channels;\n          status.affectedChannelGroups = channelGroups;\n          status.currentTimetoken = _this3._currentTimetoken;\n          status.lastTimetoken = _this3._lastTimetoken;\n          _this3._listenerManager.announceStatus(status);\n        });\n      }\n\n      if (Object.keys(this._channels).length === 0 && Object.keys(this._presenceChannels).length === 0 && Object.keys(this._channelGroups).length === 0 && Object.keys(this._presenceChannelGroups).length === 0) {\n        this._lastTimetoken = 0;\n        this._currentTimetoken = 0;\n        this._region = null;\n        this._reconnectionManager.stopPolling();\n      }\n\n      this.reconnect();\n    }\n  }, {\n    key: 'unsubscribeAll',\n    value: function unsubscribeAll(isOffline) {\n      this.adaptUnsubscribeChange({ channels: this.getSubscribedChannels(), channelGroups: this.getSubscribedChannelGroups() }, isOffline);\n    }\n  }, {\n    key: 'getSubscribedChannels',\n    value: function getSubscribedChannels() {\n      return Object.keys(this._channels);\n    }\n  }, {\n    key: 'getSubscribedChannelGroups',\n    value: function getSubscribedChannelGroups() {\n      return Object.keys(this._channelGroups);\n    }\n  }, {\n    key: 'reconnect',\n    value: function reconnect() {\n      this._startSubscribeLoop();\n      this._registerHeartbeatTimer();\n    }\n  }, {\n    key: 'disconnect',\n    value: function disconnect() {\n      this._stopSubscribeLoop();\n      this._stopHeartbeatTimer();\n      this._reconnectionManager.stopPolling();\n    }\n  }, {\n    key: '_registerHeartbeatTimer',\n    value: function _registerHeartbeatTimer() {\n      this._stopHeartbeatTimer();\n      this._performHeartbeatLoop();\n      this._heartbeatTimer = setInterval(this._performHeartbeatLoop.bind(this), this._config.getHeartbeatInterval() * 1000);\n    }\n  }, {\n    key: '_stopHeartbeatTimer',\n    value: function _stopHeartbeatTimer() {\n      if (this._heartbeatTimer) {\n        clearInterval(this._heartbeatTimer);\n        this._heartbeatTimer = null;\n      }\n    }\n  }, {\n    key: '_performHeartbeatLoop',\n    value: function _performHeartbeatLoop() {\n      var _this4 = this;\n\n      var presenceChannels = Object.keys(this._channels);\n      var presenceChannelGroups = Object.keys(this._channelGroups);\n      var presenceState = {};\n\n      if (presenceChannels.length === 0 && presenceChannelGroups.length === 0) {\n        return;\n      }\n\n      presenceChannels.forEach(function (channel) {\n        var channelState = _this4._channels[channel].state;\n        if (Object.keys(channelState).length) presenceState[channel] = channelState;\n      });\n\n      presenceChannelGroups.forEach(function (channelGroup) {\n        var channelGroupState = _this4._channelGroups[channelGroup].state;\n        if (Object.keys(channelGroupState).length) presenceState[channelGroup] = channelGroupState;\n      });\n\n      var onHeartbeat = function onHeartbeat(status) {\n        if (status.error && _this4._config.announceFailedHeartbeats) {\n          _this4._listenerManager.announceStatus(status);\n        }\n\n        if (!status.error && _this4._config.announceSuccessfulHeartbeats) {\n          _this4._listenerManager.announceStatus(status);\n        }\n      };\n\n      this._heartbeatEndpoint({\n        channels: presenceChannels,\n        channelGroups: presenceChannelGroups,\n        state: presenceState }, onHeartbeat.bind(this));\n    }\n  }, {\n    key: '_startSubscribeLoop',\n    value: function _startSubscribeLoop() {\n      this._stopSubscribeLoop();\n      var channels = [];\n      var channelGroups = [];\n\n      Object.keys(this._channels).forEach(function (channel) {\n        return channels.push(channel);\n      });\n      Object.keys(this._presenceChannels).forEach(function (channel) {\n        return channels.push(channel + '-pnpres');\n      });\n\n      Object.keys(this._channelGroups).forEach(function (channelGroup) {\n        return channelGroups.push(channelGroup);\n      });\n      Object.keys(this._presenceChannelGroups).forEach(function (channelGroup) {\n        return channelGroups.push(channelGroup + '-pnpres');\n      });\n\n      if (channels.length === 0 && channelGroups.length === 0) {\n        return;\n      }\n\n      var subscribeArgs = {\n        channels: channels,\n        channelGroups: channelGroups,\n        timetoken: this._currentTimetoken,\n        filterExpression: this._config.filterExpression,\n        region: this._region\n      };\n\n      this._subscribeCall = this._subscribeEndpoint(subscribeArgs, this._processSubscribeResponse.bind(this));\n    }\n  }, {\n    key: '_processSubscribeResponse',\n    value: function _processSubscribeResponse(status, payload) {\n      var _this5 = this;\n\n      if (status.error) {\n        if (status.category === _categories2.default.PNTimeoutCategory) {\n          this._startSubscribeLoop();\n        } else if (status.category === _categories2.default.PNNetworkIssuesCategory) {\n          this.disconnect();\n          this._reconnectionManager.onReconnection(function () {\n            _this5.reconnect();\n            _this5._subscriptionStatusAnnounced = true;\n            var reconnectedAnnounce = {\n              category: _categories2.default.PNReconnectedCategory,\n              operation: status.operation,\n              lastTimetoken: _this5._lastTimetoken,\n              currentTimetoken: _this5._currentTimetoken\n            };\n            _this5._listenerManager.announceStatus(reconnectedAnnounce);\n          });\n          this._reconnectionManager.startPolling();\n          this._listenerManager.announceStatus(status);\n        } else {\n          this._listenerManager.announceStatus(status);\n        }\n\n        return;\n      }\n\n      this._lastTimetoken = this._currentTimetoken;\n      this._currentTimetoken = payload.metadata.timetoken;\n\n      if (!this._subscriptionStatusAnnounced) {\n        var connectedAnnounce = {};\n        connectedAnnounce.category = _categories2.default.PNConnectedCategory;\n        connectedAnnounce.operation = status.operation;\n        connectedAnnounce.affectedChannels = this._pendingChannelSubscriptions;\n        connectedAnnounce.affectedChannelGroups = this._pendingChannelGroupSubscriptions;\n        connectedAnnounce.lastTimetoken = this._lastTimetoken;\n        connectedAnnounce.currentTimetoken = this._currentTimetoken;\n        this._subscriptionStatusAnnounced = true;\n        this._listenerManager.announceStatus(connectedAnnounce);\n\n        this._pendingChannelSubscriptions = [];\n        this._pendingChannelGroupSubscriptions = [];\n      }\n\n      var messages = payload.messages || [];\n      var requestMessageCountThreshold = this._config.requestMessageCountThreshold;\n\n\n      if (requestMessageCountThreshold && messages.length >= requestMessageCountThreshold) {\n        var countAnnouncement = {};\n        countAnnouncement.category = _categories2.default.PNRequestMessageCountExceededCategory;\n        countAnnouncement.operation = status.operation;\n        this._listenerManager.announceStatus(countAnnouncement);\n      }\n\n      messages.forEach(function (message) {\n        var channel = message.channel;\n        var subscriptionMatch = message.subscriptionMatch;\n        var publishMetaData = message.publishMetaData;\n\n        if (channel === subscriptionMatch) {\n          subscriptionMatch = null;\n        }\n\n        if (_utils2.default.endsWith(message.channel, '-pnpres')) {\n          var announce = {};\n          announce.channel = null;\n          announce.subscription = null;\n\n          announce.actualChannel = subscriptionMatch != null ? channel : null;\n          announce.subscribedChannel = subscriptionMatch != null ? subscriptionMatch : channel;\n\n\n          if (channel) {\n            announce.channel = channel.substring(0, channel.lastIndexOf('-pnpres'));\n          }\n\n          if (subscriptionMatch) {\n            announce.subscription = subscriptionMatch.substring(0, subscriptionMatch.lastIndexOf('-pnpres'));\n          }\n\n          announce.action = message.payload.action;\n          announce.state = message.payload.data;\n          announce.timetoken = publishMetaData.publishTimetoken;\n          announce.occupancy = message.payload.occupancy;\n          announce.uuid = message.payload.uuid;\n          announce.timestamp = message.payload.timestamp;\n\n          if (message.payload.join) {\n            announce.join = message.payload.join;\n          }\n\n          if (message.payload.leave) {\n            announce.leave = message.payload.leave;\n          }\n\n          if (message.payload.timeout) {\n            announce.timeout = message.payload.timeout;\n          }\n\n          _this5._listenerManager.announcePresence(announce);\n        } else {\n          var _announce = {};\n          _announce.channel = null;\n          _announce.subscription = null;\n\n          _announce.actualChannel = subscriptionMatch != null ? channel : null;\n          _announce.subscribedChannel = subscriptionMatch != null ? subscriptionMatch : channel;\n\n\n          _announce.channel = channel;\n          _announce.subscription = subscriptionMatch;\n          _announce.timetoken = publishMetaData.publishTimetoken;\n          _announce.publisher = message.issuingClientId;\n\n          if (_this5._config.cipherKey) {\n            _announce.message = _this5._crypto.decrypt(message.payload);\n          } else {\n            _announce.message = message.payload;\n          }\n\n          _this5._listenerManager.announceMessage(_announce);\n        }\n      });\n\n      this._region = payload.metadata.region;\n      this._startSubscribeLoop();\n    }\n  }, {\n    key: '_stopSubscribeLoop',\n    value: function _stopSubscribeLoop() {\n      if (this._subscribeCall) {\n        this._subscribeCall.abort();\n        this._subscribeCall = null;\n      }\n    }\n  }]);\n\n  return _class;\n}();\n\nexports.default = _class;\nmodule.exports = exports['default'];\n//# sourceMappingURL=subscription_manager.js.map\n","/home/travis/build/npmtest/node-npmtest-pubnub/node_modules/pubnub/lib/core/components/listener_manager.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _flow_interfaces = require('../flow_interfaces');\n\nvar _categories = require('../constants/categories');\n\nvar _categories2 = _interopRequireDefault(_categories);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar _class = function () {\n  function _class() {\n    _classCallCheck(this, _class);\n\n    this._listeners = [];\n  }\n\n  _createClass(_class, [{\n    key: 'addListener',\n    value: function addListener(newListeners) {\n      this._listeners.push(newListeners);\n    }\n  }, {\n    key: 'removeListener',\n    value: function removeListener(deprecatedListener) {\n      var newListeners = [];\n\n      this._listeners.forEach(function (listener) {\n        if (listener !== deprecatedListener) newListeners.push(listener);\n      });\n\n      this._listeners = newListeners;\n    }\n  }, {\n    key: 'removeAllListeners',\n    value: function removeAllListeners() {\n      this._listeners = [];\n    }\n  }, {\n    key: 'announcePresence',\n    value: function announcePresence(announce) {\n      this._listeners.forEach(function (listener) {\n        if (listener.presence) listener.presence(announce);\n      });\n    }\n  }, {\n    key: 'announceStatus',\n    value: function announceStatus(announce) {\n      this._listeners.forEach(function (listener) {\n        if (listener.status) listener.status(announce);\n      });\n    }\n  }, {\n    key: 'announceMessage',\n    value: function announceMessage(announce) {\n      this._listeners.forEach(function (listener) {\n        if (listener.message) listener.message(announce);\n      });\n    }\n  }, {\n    key: 'announceNetworkUp',\n    value: function announceNetworkUp() {\n      var networkStatus = {};\n      networkStatus.category = _categories2.default.PNNetworkUpCategory;\n      this.announceStatus(networkStatus);\n    }\n  }, {\n    key: 'announceNetworkDown',\n    value: function announceNetworkDown() {\n      var networkStatus = {};\n      networkStatus.category = _categories2.default.PNNetworkDownCategory;\n      this.announceStatus(networkStatus);\n    }\n  }]);\n\n  return _class;\n}();\n\nexports.default = _class;\nmodule.exports = exports['default'];\n//# sourceMappingURL=listener_manager.js.map\n","/home/travis/build/npmtest/node-npmtest-pubnub/node_modules/pubnub/lib/core/constants/categories.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  PNNetworkUpCategory: 'PNNetworkUpCategory',\n\n  PNNetworkDownCategory: 'PNNetworkDownCategory',\n\n  PNNetworkIssuesCategory: 'PNNetworkIssuesCategory',\n\n  PNTimeoutCategory: 'PNTimeoutCategory',\n\n  PNBadRequestCategory: 'PNBadRequestCategory',\n\n  PNAccessDeniedCategory: 'PNAccessDeniedCategory',\n\n  PNUnknownCategory: 'PNUnknownCategory',\n\n  PNReconnectedCategory: 'PNReconnectedCategory',\n\n  PNConnectedCategory: 'PNConnectedCategory',\n\n  PNRequestMessageCountExceededCategory: 'PNRequestMessageCountExceededCategory'\n\n};\nmodule.exports = exports['default'];\n//# sourceMappingURL=categories.js.map\n","/home/travis/build/npmtest/node-npmtest-pubnub/node_modules/pubnub/lib/core/components/reconnection_manager.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _time = require('../endpoints/time');\n\nvar _time2 = _interopRequireDefault(_time);\n\nvar _flow_interfaces = require('../flow_interfaces');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar _class = function () {\n  function _class(_ref) {\n    var timeEndpoint = _ref.timeEndpoint;\n\n    _classCallCheck(this, _class);\n\n    this._timeEndpoint = timeEndpoint;\n  }\n\n  _createClass(_class, [{\n    key: 'onReconnection',\n    value: function onReconnection(reconnectionCallback) {\n      this._reconnectionCallback = reconnectionCallback;\n    }\n  }, {\n    key: 'startPolling',\n    value: function startPolling() {\n      this._timeTimer = setInterval(this._performTimeLoop.bind(this), 3000);\n    }\n  }, {\n    key: 'stopPolling',\n    value: function stopPolling() {\n      clearInterval(this._timeTimer);\n    }\n  }, {\n    key: '_performTimeLoop',\n    value: function _performTimeLoop() {\n      var _this = this;\n\n      this._timeEndpoint(function (status) {\n        if (!status.error) {\n          clearInterval(_this._timeTimer);\n          _this._reconnectionCallback();\n        }\n      });\n    }\n  }]);\n\n  return _class;\n}();\n\nexports.default = _class;\nmodule.exports = exports['default'];\n//# sourceMappingURL=reconnection_manager.js.map\n","/home/travis/build/npmtest/node-npmtest-pubnub/node_modules/pubnub/lib/core/endpoints/time.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getOperation = getOperation;\nexports.getURL = getURL;\nexports.getRequestTimeout = getRequestTimeout;\nexports.prepareParams = prepareParams;\nexports.isAuthSupported = isAuthSupported;\nexports.handleResponse = handleResponse;\nexports.validateParams = validateParams;\n\nvar _flow_interfaces = require('../flow_interfaces');\n\nvar _operations = require('../constants/operations');\n\nvar _operations2 = _interopRequireDefault(_operations);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getOperation() {\n  return _operations2.default.PNTimeOperation;\n}\n\nfunction getURL() {\n  return '/time/0';\n}\n\nfunction getRequestTimeout(_ref) {\n  var config = _ref.config;\n\n  return config.getTransactionTimeout();\n}\n\nfunction prepareParams() {\n  return {};\n}\n\nfunction isAuthSupported() {\n  return false;\n}\n\nfunction handleResponse(modules, serverResponse) {\n  return {\n    timetoken: serverResponse[0]\n  };\n}\n\nfunction validateParams() {}\n//# sourceMappingURL=time.js.map\n","/home/travis/build/npmtest/node-npmtest-pubnub/node_modules/pubnub/lib/core/constants/operations.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  PNTimeOperation: 'PNTimeOperation',\n\n  PNHistoryOperation: 'PNHistoryOperation',\n  PNFetchMessagesOperation: 'PNFetchMessagesOperation',\n\n  PNSubscribeOperation: 'PNSubscribeOperation',\n  PNUnsubscribeOperation: 'PNUnsubscribeOperation',\n  PNPublishOperation: 'PNPublishOperation',\n\n  PNPushNotificationEnabledChannelsOperation: 'PNPushNotificationEnabledChannelsOperation',\n  PNRemoveAllPushNotificationsOperation: 'PNRemoveAllPushNotificationsOperation',\n\n  PNWhereNowOperation: 'PNWhereNowOperation',\n  PNSetStateOperation: 'PNSetStateOperation',\n  PNHereNowOperation: 'PNHereNowOperation',\n  PNGetStateOperation: 'PNGetStateOperation',\n  PNHeartbeatOperation: 'PNHeartbeatOperation',\n\n  PNChannelGroupsOperation: 'PNChannelGroupsOperation',\n  PNRemoveGroupOperation: 'PNRemoveGroupOperation',\n  PNChannelsForGroupOperation: 'PNChannelsForGroupOperation',\n  PNAddChannelsToGroupOperation: 'PNAddChannelsToGroupOperation',\n  PNRemoveChannelsFromGroupOperation: 'PNRemoveChannelsFromGroupOperation',\n\n  PNAccessManagerGrant: 'PNAccessManagerGrant',\n  PNAccessManagerAudit: 'PNAccessManagerAudit'\n};\nmodule.exports = exports['default'];\n//# sourceMappingURL=operations.js.map\n","/home/travis/build/npmtest/node-npmtest-pubnub/node_modules/pubnub/lib/core/utils.js":"'use strict';\n\nfunction objectToList(o) {\n  var l = [];\n  Object.keys(o).forEach(function (key) {\n    return l.push(key);\n  });\n  return l;\n}\n\nfunction encodeString(input) {\n  return encodeURIComponent(input).replace(/[!~*'()]/g, function (x) {\n    return '%' + x.charCodeAt(0).toString(16).toUpperCase();\n  });\n}\n\nfunction objectToListSorted(o) {\n  return objectToList(o).sort();\n}\n\nfunction signPamFromParams(params) {\n  var l = objectToListSorted(params);\n  return l.map(function (paramKey) {\n    return paramKey + '=' + encodeString(params[paramKey]);\n  }).join('&');\n}\n\nfunction endsWith(searchString, suffix) {\n  return searchString.indexOf(suffix, this.length - suffix.length) !== -1;\n}\n\nfunction createPromise() {\n  var successResolve = void 0;\n  var failureResolve = void 0;\n  var promise = new Promise(function (fulfill, reject) {\n    successResolve = fulfill;\n    failureResolve = reject;\n  });\n\n  return { promise: promise, reject: failureResolve, fulfill: successResolve };\n}\n\nmodule.exports = { signPamFromParams: signPamFromParams, endsWith: endsWith, createPromise: createPromise, encodeString: encodeString };\n//# sourceMappingURL=utils.js.map\n","/home/travis/build/npmtest/node-npmtest-pubnub/node_modules/pubnub/lib/core/components/endpoint.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (modules, endpoint) {\n  var networking = modules.networking,\n      config = modules.config;\n\n  var callback = null;\n  var promiseComponent = null;\n  var incomingParams = {};\n\n  if (endpoint.getOperation() === _operations2.default.PNTimeOperation || endpoint.getOperation() === _operations2.default.PNChannelGroupsOperation) {\n    callback = arguments.length <= 2 ? undefined : arguments[2];\n  } else {\n    incomingParams = arguments.length <= 2 ? undefined : arguments[2];\n    callback = arguments.length <= 3 ? undefined : arguments[3];\n  }\n\n  if (typeof Promise !== 'undefined' && !callback) {\n    promiseComponent = _utils2.default.createPromise();\n  }\n\n  var validationResult = endpoint.validateParams(modules, incomingParams);\n\n  if (validationResult) {\n    if (callback) {\n      return callback(createValidationError(validationResult));\n    } else if (promiseComponent) {\n      promiseComponent.reject(new PubNubError('Validation failed, check status for details', createValidationError(validationResult)));\n      return promiseComponent.promise;\n    }\n    return;\n  }\n\n  var outgoingParams = endpoint.prepareParams(modules, incomingParams);\n  var url = decideURL(endpoint, modules, incomingParams);\n  var callInstance = void 0;\n  var networkingParams = { url: url,\n    operation: endpoint.getOperation(),\n    timeout: endpoint.getRequestTimeout(modules)\n  };\n\n  outgoingParams.uuid = config.UUID;\n  outgoingParams.pnsdk = generatePNSDK(config);\n\n  if (config.useInstanceId) {\n    outgoingParams.instanceid = config.instanceId;\n  }\n\n  if (config.useRequestId) {\n    outgoingParams.requestid = _uuid2.default.v4();\n  }\n\n  if (endpoint.isAuthSupported() && config.getAuthKey()) {\n    outgoingParams.auth = config.getAuthKey();\n  }\n\n  if (config.secretKey) {\n    signRequest(modules, url, outgoingParams);\n  }\n\n  var onResponse = function onResponse(status, payload) {\n    if (status.error) {\n      if (callback) {\n        callback(status);\n      } else if (promiseComponent) {\n        promiseComponent.reject(new PubNubError('PubNub call failed, check status for details', status));\n      }\n      return;\n    }\n\n    var parsedPayload = endpoint.handleResponse(modules, payload, incomingParams);\n\n    if (callback) {\n      callback(status, parsedPayload);\n    } else if (promiseComponent) {\n      promiseComponent.fulfill(parsedPayload);\n    }\n  };\n\n  if (endpoint.usePost && endpoint.usePost(modules, incomingParams)) {\n    var payload = endpoint.postPayload(modules, incomingParams);\n    callInstance = networking.POST(outgoingParams, payload, networkingParams, onResponse);\n  } else {\n    callInstance = networking.GET(outgoingParams, networkingParams, onResponse);\n  }\n\n  if (endpoint.getOperation() === _operations2.default.PNSubscribeOperation) {\n    return callInstance;\n  }\n\n  if (promiseComponent) {\n    return promiseComponent.promise;\n  }\n};\n\nvar _uuid = require('uuid');\n\nvar _uuid2 = _interopRequireDefault(_uuid);\n\nvar _flow_interfaces = require('../flow_interfaces');\n\nvar _utils = require('../utils');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _config = require('./config');\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _operations = require('../constants/operations');\n\nvar _operations2 = _interopRequireDefault(_operations);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar PubNubError = function (_Error) {\n  _inherits(PubNubError, _Error);\n\n  function PubNubError(message, status) {\n    _classCallCheck(this, PubNubError);\n\n    var _this = _possibleConstructorReturn(this, (PubNubError.__proto__ || Object.getPrototypeOf(PubNubError)).call(this, message));\n\n    _this.name = _this.constructor.name;\n    _this.status = status;\n    _this.message = message;\n    return _this;\n  }\n\n  return PubNubError;\n}(Error);\n\nfunction createError(errorPayload, type) {\n  errorPayload.type = type;\n  errorPayload.error = true;\n  return errorPayload;\n}\n\nfunction createValidationError(message) {\n  return createError({ message: message }, 'validationError');\n}\n\nfunction decideURL(endpoint, modules, incomingParams) {\n  if (endpoint.usePost && endpoint.usePost(modules, incomingParams)) {\n    return endpoint.postURL(modules, incomingParams);\n  } else {\n    return endpoint.getURL(modules, incomingParams);\n  }\n}\n\nfunction generatePNSDK(config) {\n  var base = 'PubNub-JS-' + config.sdkFamily;\n\n  if (config.partnerId) {\n    base += '-' + config.partnerId;\n  }\n\n  base += '/' + config.getVersion();\n\n  return base;\n}\n\nfunction signRequest(modules, url, outgoingParams) {\n  var config = modules.config,\n      crypto = modules.crypto;\n\n\n  outgoingParams.timestamp = Math.floor(new Date().getTime() / 1000);\n  var signInput = config.subscribeKey + '\\n' + config.publishKey + '\\n' + url + '\\n';\n  signInput += _utils2.default.signPamFromParams(outgoingParams);\n\n  var signature = crypto.HMACSHA256(signInput);\n  signature = signature.replace(/\\+/g, '-');\n  signature = signature.replace(/\\//g, '_');\n\n  outgoingParams.signature = signature;\n}\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=endpoint.js.map\n","/home/travis/build/npmtest/node-npmtest-pubnub/node_modules/pubnub/lib/core/endpoints/channel_groups/add_channels.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getOperation = getOperation;\nexports.validateParams = validateParams;\nexports.getURL = getURL;\nexports.getRequestTimeout = getRequestTimeout;\nexports.isAuthSupported = isAuthSupported;\nexports.prepareParams = prepareParams;\nexports.handleResponse = handleResponse;\n\nvar _flow_interfaces = require('../../flow_interfaces');\n\nvar _operations = require('../../constants/operations');\n\nvar _operations2 = _interopRequireDefault(_operations);\n\nvar _utils = require('../../utils');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getOperation() {\n  return _operations2.default.PNAddChannelsToGroupOperation;\n}\n\nfunction validateParams(modules, incomingParams) {\n  var channels = incomingParams.channels,\n      channelGroup = incomingParams.channelGroup;\n  var config = modules.config;\n\n\n  if (!channelGroup) return 'Missing Channel Group';\n  if (!channels || channels.length === 0) return 'Missing Channels';\n  if (!config.subscribeKey) return 'Missing Subscribe Key';\n}\n\nfunction getURL(modules, incomingParams) {\n  var channelGroup = incomingParams.channelGroup;\n  var config = modules.config;\n\n  return '/v1/channel-registration/sub-key/' + config.subscribeKey + '/channel-group/' + _utils2.default.encodeString(channelGroup);\n}\n\nfunction getRequestTimeout(_ref) {\n  var config = _ref.config;\n\n  return config.getTransactionTimeout();\n}\n\nfunction isAuthSupported() {\n  return true;\n}\n\nfunction prepareParams(modules, incomingParams) {\n  var _incomingParams$chann = incomingParams.channels,\n      channels = _incomingParams$chann === undefined ? [] : _incomingParams$chann;\n\n\n  return {\n    add: channels.join(',')\n  };\n}\n\nfunction handleResponse() {\n  return {};\n}\n//# sourceMappingURL=add_channels.js.map\n","/home/travis/build/npmtest/node-npmtest-pubnub/node_modules/pubnub/lib/core/endpoints/channel_groups/remove_channels.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getOperation = getOperation;\nexports.validateParams = validateParams;\nexports.getURL = getURL;\nexports.getRequestTimeout = getRequestTimeout;\nexports.isAuthSupported = isAuthSupported;\nexports.prepareParams = prepareParams;\nexports.handleResponse = handleResponse;\n\nvar _flow_interfaces = require('../../flow_interfaces');\n\nvar _operations = require('../../constants/operations');\n\nvar _operations2 = _interopRequireDefault(_operations);\n\nvar _utils = require('../../utils');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getOperation() {\n  return _operations2.default.PNRemoveChannelsFromGroupOperation;\n}\n\nfunction validateParams(modules, incomingParams) {\n  var channels = incomingParams.channels,\n      channelGroup = incomingParams.channelGroup;\n  var config = modules.config;\n\n\n  if (!channelGroup) return 'Missing Channel Group';\n  if (!channels || channels.length === 0) return 'Missing Channels';\n  if (!config.subscribeKey) return 'Missing Subscribe Key';\n}\n\nfunction getURL(modules, incomingParams) {\n  var channelGroup = incomingParams.channelGroup;\n  var config = modules.config;\n\n  return '/v1/channel-registration/sub-key/' + config.subscribeKey + '/channel-group/' + _utils2.default.encodeString(channelGroup);\n}\n\nfunction getRequestTimeout(_ref) {\n  var config = _ref.config;\n\n  return config.getTransactionTimeout();\n}\n\nfunction isAuthSupported() {\n  return true;\n}\n\nfunction prepareParams(modules, incomingParams) {\n  var _incomingParams$chann = incomingParams.channels,\n      channels = _incomingParams$chann === undefined ? [] : _incomingParams$chann;\n\n\n  return {\n    remove: channels.join(',')\n  };\n}\n\nfunction handleResponse() {\n  return {};\n}\n//# sourceMappingURL=remove_channels.js.map\n","/home/travis/build/npmtest/node-npmtest-pubnub/node_modules/pubnub/lib/core/endpoints/channel_groups/delete_group.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getOperation = getOperation;\nexports.validateParams = validateParams;\nexports.getURL = getURL;\nexports.isAuthSupported = isAuthSupported;\nexports.getRequestTimeout = getRequestTimeout;\nexports.prepareParams = prepareParams;\nexports.handleResponse = handleResponse;\n\nvar _flow_interfaces = require('../../flow_interfaces');\n\nvar _operations = require('../../constants/operations');\n\nvar _operations2 = _interopRequireDefault(_operations);\n\nvar _utils = require('../../utils');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getOperation() {\n  return _operations2.default.PNRemoveGroupOperation;\n}\n\nfunction validateParams(modules, incomingParams) {\n  var channelGroup = incomingParams.channelGroup;\n  var config = modules.config;\n\n\n  if (!channelGroup) return 'Missing Channel Group';\n  if (!config.subscribeKey) return 'Missing Subscribe Key';\n}\n\nfunction getURL(modules, incomingParams) {\n  var channelGroup = incomingParams.channelGroup;\n  var config = modules.config;\n\n  return '/v1/channel-registration/sub-key/' + config.subscribeKey + '/channel-group/' + _utils2.default.encodeString(channelGroup) + '/remove';\n}\n\nfunction isAuthSupported() {\n  return true;\n}\n\nfunction getRequestTimeout(_ref) {\n  var config = _ref.config;\n\n  return config.getTransactionTimeout();\n}\n\nfunction prepareParams() {\n  return {};\n}\n\nfunction handleResponse() {\n  return {};\n}\n//# sourceMappingURL=delete_group.js.map\n","/home/travis/build/npmtest/node-npmtest-pubnub/node_modules/pubnub/lib/core/endpoints/channel_groups/list_groups.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getOperation = getOperation;\nexports.validateParams = validateParams;\nexports.getURL = getURL;\nexports.getRequestTimeout = getRequestTimeout;\nexports.isAuthSupported = isAuthSupported;\nexports.prepareParams = prepareParams;\nexports.handleResponse = handleResponse;\n\nvar _flow_interfaces = require('../../flow_interfaces');\n\nvar _operations = require('../../constants/operations');\n\nvar _operations2 = _interopRequireDefault(_operations);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getOperation() {\n  return _operations2.default.PNChannelGroupsOperation;\n}\n\nfunction validateParams(modules) {\n  var config = modules.config;\n\n\n  if (!config.subscribeKey) return 'Missing Subscribe Key';\n}\n\nfunction getURL(modules) {\n  var config = modules.config;\n\n  return '/v1/channel-registration/sub-key/' + config.subscribeKey + '/channel-group';\n}\n\nfunction getRequestTimeout(_ref) {\n  var config = _ref.config;\n\n  return config.getTransactionTimeout();\n}\n\nfunction isAuthSupported() {\n  return true;\n}\n\nfunction prepareParams() {\n  return {};\n}\n\nfunction handleResponse(modules, serverResponse) {\n  return {\n    groups: serverResponse.payload.groups\n  };\n}\n//# sourceMappingURL=list_groups.js.map\n","/home/travis/build/npmtest/node-npmtest-pubnub/node_modules/pubnub/lib/core/endpoints/channel_groups/list_channels.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getOperation = getOperation;\nexports.validateParams = validateParams;\nexports.getURL = getURL;\nexports.getRequestTimeout = getRequestTimeout;\nexports.isAuthSupported = isAuthSupported;\nexports.prepareParams = prepareParams;\nexports.handleResponse = handleResponse;\n\nvar _flow_interfaces = require('../../flow_interfaces');\n\nvar _operations = require('../../constants/operations');\n\nvar _operations2 = _interopRequireDefault(_operations);\n\nvar _utils = require('../../utils');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getOperation() {\n  return _operations2.default.PNChannelsForGroupOperation;\n}\n\nfunction validateParams(modules, incomingParams) {\n  var channelGroup = incomingParams.channelGroup;\n  var config = modules.config;\n\n\n  if (!channelGroup) return 'Missing Channel Group';\n  if (!config.subscribeKey) return 'Missing Subscribe Key';\n}\n\nfunction getURL(modules, incomingParams) {\n  var channelGroup = incomingParams.channelGroup;\n  var config = modules.config;\n\n  return '/v1/channel-registration/sub-key/' + config.subscribeKey + '/channel-group/' + _utils2.default.encodeString(channelGroup);\n}\n\nfunction getRequestTimeout(_ref) {\n  var config = _ref.config;\n\n  return config.getTransactionTimeout();\n}\n\nfunction isAuthSupported() {\n  return true;\n}\n\nfunction prepareParams() {\n  return {};\n}\n\nfunction handleResponse(modules, serverResponse) {\n  return {\n    channels: serverResponse.payload.channels\n  };\n}\n//# sourceMappingURL=list_channels.js.map\n","/home/travis/build/npmtest/node-npmtest-pubnub/node_modules/pubnub/lib/core/endpoints/push/add_push_channels.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getOperation = getOperation;\nexports.validateParams = validateParams;\nexports.getURL = getURL;\nexports.getRequestTimeout = getRequestTimeout;\nexports.isAuthSupported = isAuthSupported;\nexports.prepareParams = prepareParams;\nexports.handleResponse = handleResponse;\n\nvar _flow_interfaces = require('../../flow_interfaces');\n\nvar _operations = require('../../constants/operations');\n\nvar _operations2 = _interopRequireDefault(_operations);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getOperation() {\n  return _operations2.default.PNPushNotificationEnabledChannelsOperation;\n}\n\nfunction validateParams(modules, incomingParams) {\n  var device = incomingParams.device,\n      pushGateway = incomingParams.pushGateway,\n      channels = incomingParams.channels;\n  var config = modules.config;\n\n\n  if (!device) return 'Missing Device ID (device)';\n  if (!pushGateway) return 'Missing GW Type (pushGateway: gcm or apns)';\n  if (!channels || channels.length === 0) return 'Missing Channels';\n  if (!config.subscribeKey) return 'Missing Subscribe Key';\n}\n\nfunction getURL(modules, incomingParams) {\n  var device = incomingParams.device;\n  var config = modules.config;\n\n  return '/v1/push/sub-key/' + config.subscribeKey + '/devices/' + device;\n}\n\nfunction getRequestTimeout(_ref) {\n  var config = _ref.config;\n\n  return config.getTransactionTimeout();\n}\n\nfunction isAuthSupported() {\n  return true;\n}\n\nfunction prepareParams(modules, incomingParams) {\n  var pushGateway = incomingParams.pushGateway,\n      _incomingParams$chann = incomingParams.channels,\n      channels = _incomingParams$chann === undefined ? [] : _incomingParams$chann;\n\n  return { type: pushGateway, add: channels.join(',') };\n}\n\nfunction handleResponse() {\n  return {};\n}\n//# sourceMappingURL=add_push_channels.js.map\n","/home/travis/build/npmtest/node-npmtest-pubnub/node_modules/pubnub/lib/core/endpoints/push/remove_push_channels.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getOperation = getOperation;\nexports.validateParams = validateParams;\nexports.getURL = getURL;\nexports.getRequestTimeout = getRequestTimeout;\nexports.isAuthSupported = isAuthSupported;\nexports.prepareParams = prepareParams;\nexports.handleResponse = handleResponse;\n\nvar _flow_interfaces = require('../../flow_interfaces');\n\nvar _operations = require('../../constants/operations');\n\nvar _operations2 = _interopRequireDefault(_operations);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getOperation() {\n  return _operations2.default.PNPushNotificationEnabledChannelsOperation;\n}\n\nfunction validateParams(modules, incomingParams) {\n  var device = incomingParams.device,\n      pushGateway = incomingParams.pushGateway,\n      channels = incomingParams.channels;\n  var config = modules.config;\n\n\n  if (!device) return 'Missing Device ID (device)';\n  if (!pushGateway) return 'Missing GW Type (pushGateway: gcm or apns)';\n  if (!channels || channels.length === 0) return 'Missing Channels';\n  if (!config.subscribeKey) return 'Missing Subscribe Key';\n}\n\nfunction getURL(modules, incomingParams) {\n  var device = incomingParams.device;\n  var config = modules.config;\n\n  return '/v1/push/sub-key/' + config.subscribeKey + '/devices/' + device;\n}\n\nfunction getRequestTimeout(_ref) {\n  var config = _ref.config;\n\n  return config.getTransactionTimeout();\n}\n\nfunction isAuthSupported() {\n  return true;\n}\n\nfunction prepareParams(modules, incomingParams) {\n  var pushGateway = incomingParams.pushGateway,\n      _incomingParams$chann = incomingParams.channels,\n      channels = _incomingParams$chann === undefined ? [] : _incomingParams$chann;\n\n  return { type: pushGateway, remove: channels.join(',') };\n}\n\nfunction handleResponse() {\n  return {};\n}\n//# sourceMappingURL=remove_push_channels.js.map\n","/home/travis/build/npmtest/node-npmtest-pubnub/node_modules/pubnub/lib/core/endpoints/push/list_push_channels.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getOperation = getOperation;\nexports.validateParams = validateParams;\nexports.getURL = getURL;\nexports.getRequestTimeout = getRequestTimeout;\nexports.isAuthSupported = isAuthSupported;\nexports.prepareParams = prepareParams;\nexports.handleResponse = handleResponse;\n\nvar _flow_interfaces = require('../../flow_interfaces');\n\nvar _operations = require('../../constants/operations');\n\nvar _operations2 = _interopRequireDefault(_operations);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getOperation() {\n  return _operations2.default.PNPushNotificationEnabledChannelsOperation;\n}\n\nfunction validateParams(modules, incomingParams) {\n  var device = incomingParams.device,\n      pushGateway = incomingParams.pushGateway;\n  var config = modules.config;\n\n\n  if (!device) return 'Missing Device ID (device)';\n  if (!pushGateway) return 'Missing GW Type (pushGateway: gcm or apns)';\n  if (!config.subscribeKey) return 'Missing Subscribe Key';\n}\n\nfunction getURL(modules, incomingParams) {\n  var device = incomingParams.device;\n  var config = modules.config;\n\n  return '/v1/push/sub-key/' + config.subscribeKey + '/devices/' + device;\n}\n\nfunction getRequestTimeout(_ref) {\n  var config = _ref.config;\n\n  return config.getTransactionTimeout();\n}\n\nfunction isAuthSupported() {\n  return true;\n}\n\nfunction prepareParams(modules, incomingParams) {\n  var pushGateway = incomingParams.pushGateway;\n\n  return { type: pushGateway };\n}\n\nfunction handleResponse(modules, serverResponse) {\n  return { channels: serverResponse };\n}\n//# sourceMappingURL=list_push_channels.js.map\n","/home/travis/build/npmtest/node-npmtest-pubnub/node_modules/pubnub/lib/core/endpoints/push/remove_device.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getOperation = getOperation;\nexports.validateParams = validateParams;\nexports.getURL = getURL;\nexports.getRequestTimeout = getRequestTimeout;\nexports.isAuthSupported = isAuthSupported;\nexports.prepareParams = prepareParams;\nexports.handleResponse = handleResponse;\n\nvar _flow_interfaces = require('../../flow_interfaces');\n\nvar _operations = require('../../constants/operations');\n\nvar _operations2 = _interopRequireDefault(_operations);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getOperation() {\n  return _operations2.default.PNRemoveAllPushNotificationsOperation;\n}\n\nfunction validateParams(modules, incomingParams) {\n  var device = incomingParams.device,\n      pushGateway = incomingParams.pushGateway;\n  var config = modules.config;\n\n\n  if (!device) return 'Missing Device ID (device)';\n  if (!pushGateway) return 'Missing GW Type (pushGateway: gcm or apns)';\n  if (!config.subscribeKey) return 'Missing Subscribe Key';\n}\n\nfunction getURL(modules, incomingParams) {\n  var device = incomingParams.device;\n  var config = modules.config;\n\n  return '/v1/push/sub-key/' + config.subscribeKey + '/devices/' + device + '/remove';\n}\n\nfunction getRequestTimeout(_ref) {\n  var config = _ref.config;\n\n  return config.getTransactionTimeout();\n}\n\nfunction isAuthSupported() {\n  return true;\n}\n\nfunction prepareParams(modules, incomingParams) {\n  var pushGateway = incomingParams.pushGateway;\n\n  return { type: pushGateway };\n}\n\nfunction handleResponse() {\n  return {};\n}\n//# sourceMappingURL=remove_device.js.map\n","/home/travis/build/npmtest/node-npmtest-pubnub/node_modules/pubnub/lib/core/endpoints/presence/leave.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getOperation = getOperation;\nexports.validateParams = validateParams;\nexports.getURL = getURL;\nexports.getRequestTimeout = getRequestTimeout;\nexports.isAuthSupported = isAuthSupported;\nexports.prepareParams = prepareParams;\nexports.handleResponse = handleResponse;\n\nvar _flow_interfaces = require('../../flow_interfaces');\n\nvar _operations = require('../../constants/operations');\n\nvar _operations2 = _interopRequireDefault(_operations);\n\nvar _utils = require('../../utils');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getOperation() {\n  return _operations2.default.PNUnsubscribeOperation;\n}\n\nfunction validateParams(modules) {\n  var config = modules.config;\n\n\n  if (!config.subscribeKey) return 'Missing Subscribe Key';\n}\n\nfunction getURL(modules, incomingParams) {\n  var config = modules.config;\n  var _incomingParams$chann = incomingParams.channels,\n      channels = _incomingParams$chann === undefined ? [] : _incomingParams$chann;\n\n  var stringifiedChannels = channels.length > 0 ? channels.join(',') : ',';\n  return '/v2/presence/sub-key/' + config.subscribeKey + '/channel/' + _utils2.default.encodeString(stringifiedChannels) + '/leave';\n}\n\nfunction getRequestTimeout(_ref) {\n  var config = _ref.config;\n\n  return config.getTransactionTimeout();\n}\n\nfunction isAuthSupported() {\n  return true;\n}\n\nfunction prepareParams(modules, incomingParams) {\n  var _incomingParams$chann2 = incomingParams.channelGroups,\n      channelGroups = _incomingParams$chann2 === undefined ? [] : _incomingParams$chann2;\n\n  var params = {};\n\n  if (channelGroups.length > 0) {\n    params['channel-group'] = channelGroups.join(',');\n  }\n\n  return params;\n}\n\nfunction handleResponse() {\n  return {};\n}\n//# sourceMappingURL=leave.js.map\n","/home/travis/build/npmtest/node-npmtest-pubnub/node_modules/pubnub/lib/core/endpoints/presence/where_now.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getOperation = getOperation;\nexports.validateParams = validateParams;\nexports.getURL = getURL;\nexports.getRequestTimeout = getRequestTimeout;\nexports.isAuthSupported = isAuthSupported;\nexports.prepareParams = prepareParams;\nexports.handleResponse = handleResponse;\n\nvar _flow_interfaces = require('../../flow_interfaces');\n\nvar _operations = require('../../constants/operations');\n\nvar _operations2 = _interopRequireDefault(_operations);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getOperation() {\n  return _operations2.default.PNWhereNowOperation;\n}\n\nfunction validateParams(modules) {\n  var config = modules.config;\n\n\n  if (!config.subscribeKey) return 'Missing Subscribe Key';\n}\n\nfunction getURL(modules, incomingParams) {\n  var config = modules.config;\n  var _incomingParams$uuid = incomingParams.uuid,\n      uuid = _incomingParams$uuid === undefined ? config.UUID : _incomingParams$uuid;\n\n  return '/v2/presence/sub-key/' + config.subscribeKey + '/uuid/' + uuid;\n}\n\nfunction getRequestTimeout(_ref) {\n  var config = _ref.config;\n\n  return config.getTransactionTimeout();\n}\n\nfunction isAuthSupported() {\n  return true;\n}\n\nfunction prepareParams() {\n  return {};\n}\n\nfunction handleResponse(modules, serverResponse) {\n  return { channels: serverResponse.payload.channels };\n}\n//# sourceMappingURL=where_now.js.map\n","/home/travis/build/npmtest/node-npmtest-pubnub/node_modules/pubnub/lib/core/endpoints/presence/heartbeat.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getOperation = getOperation;\nexports.validateParams = validateParams;\nexports.getURL = getURL;\nexports.isAuthSupported = isAuthSupported;\nexports.getRequestTimeout = getRequestTimeout;\nexports.prepareParams = prepareParams;\nexports.handleResponse = handleResponse;\n\nvar _flow_interfaces = require('../../flow_interfaces');\n\nvar _operations = require('../../constants/operations');\n\nvar _operations2 = _interopRequireDefault(_operations);\n\nvar _utils = require('../../utils');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getOperation() {\n  return _operations2.default.PNHeartbeatOperation;\n}\n\nfunction validateParams(modules) {\n  var config = modules.config;\n\n\n  if (!config.subscribeKey) return 'Missing Subscribe Key';\n}\n\nfunction getURL(modules, incomingParams) {\n  var config = modules.config;\n  var _incomingParams$chann = incomingParams.channels,\n      channels = _incomingParams$chann === undefined ? [] : _incomingParams$chann;\n\n  var stringifiedChannels = channels.length > 0 ? channels.join(',') : ',';\n  return '/v2/presence/sub-key/' + config.subscribeKey + '/channel/' + _utils2.default.encodeString(stringifiedChannels) + '/heartbeat';\n}\n\nfunction isAuthSupported() {\n  return true;\n}\n\nfunction getRequestTimeout(_ref) {\n  var config = _ref.config;\n\n  return config.getTransactionTimeout();\n}\n\nfunction prepareParams(modules, incomingParams) {\n  var _incomingParams$chann2 = incomingParams.channelGroups,\n      channelGroups = _incomingParams$chann2 === undefined ? [] : _incomingParams$chann2,\n      _incomingParams$state = incomingParams.state,\n      state = _incomingParams$state === undefined ? {} : _incomingParams$state;\n  var config = modules.config;\n\n  var params = {};\n\n  if (channelGroups.length > 0) {\n    params['channel-group'] = channelGroups.join(',');\n  }\n\n  params.state = JSON.stringify(state);\n  params.heartbeat = config.getPresenceTimeout();\n  return params;\n}\n\nfunction handleResponse() {\n  return {};\n}\n//# sourceMappingURL=heartbeat.js.map\n","/home/travis/build/npmtest/node-npmtest-pubnub/node_modules/pubnub/lib/core/endpoints/presence/get_state.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getOperation = getOperation;\nexports.validateParams = validateParams;\nexports.getURL = getURL;\nexports.getRequestTimeout = getRequestTimeout;\nexports.isAuthSupported = isAuthSupported;\nexports.prepareParams = prepareParams;\nexports.handleResponse = handleResponse;\n\nvar _flow_interfaces = require('../../flow_interfaces');\n\nvar _operations = require('../../constants/operations');\n\nvar _operations2 = _interopRequireDefault(_operations);\n\nvar _utils = require('../../utils');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getOperation() {\n  return _operations2.default.PNGetStateOperation;\n}\n\nfunction validateParams(modules) {\n  var config = modules.config;\n\n\n  if (!config.subscribeKey) return 'Missing Subscribe Key';\n}\n\nfunction getURL(modules, incomingParams) {\n  var config = modules.config;\n  var _incomingParams$uuid = incomingParams.uuid,\n      uuid = _incomingParams$uuid === undefined ? config.UUID : _incomingParams$uuid,\n      _incomingParams$chann = incomingParams.channels,\n      channels = _incomingParams$chann === undefined ? [] : _incomingParams$chann;\n\n  var stringifiedChannels = channels.length > 0 ? channels.join(',') : ',';\n  return '/v2/presence/sub-key/' + config.subscribeKey + '/channel/' + _utils2.default.encodeString(stringifiedChannels) + '/uuid/' + uuid;\n}\n\nfunction getRequestTimeout(_ref) {\n  var config = _ref.config;\n\n  return config.getTransactionTimeout();\n}\n\nfunction isAuthSupported() {\n  return true;\n}\n\nfunction prepareParams(modules, incomingParams) {\n  var _incomingParams$chann2 = incomingParams.channelGroups,\n      channelGroups = _incomingParams$chann2 === undefined ? [] : _incomingParams$chann2;\n\n  var params = {};\n\n  if (channelGroups.length > 0) {\n    params['channel-group'] = channelGroups.join(',');\n  }\n\n  return params;\n}\n\nfunction handleResponse(modules, serverResponse, incomingParams) {\n  var _incomingParams$chann3 = incomingParams.channels,\n      channels = _incomingParams$chann3 === undefined ? [] : _incomingParams$chann3,\n      _incomingParams$chann4 = incomingParams.channelGroups,\n      channelGroups = _incomingParams$chann4 === undefined ? [] : _incomingParams$chann4;\n\n  var channelsResponse = {};\n\n  if (channels.length === 1 && channelGroups.length === 0) {\n    channelsResponse[channels[0]] = serverResponse.payload;\n  } else {\n    channelsResponse = serverResponse.payload;\n  }\n\n  return { channels: channelsResponse };\n}\n//# sourceMappingURL=get_state.js.map\n","/home/travis/build/npmtest/node-npmtest-pubnub/node_modules/pubnub/lib/core/endpoints/presence/set_state.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getOperation = getOperation;\nexports.validateParams = validateParams;\nexports.getURL = getURL;\nexports.getRequestTimeout = getRequestTimeout;\nexports.isAuthSupported = isAuthSupported;\nexports.prepareParams = prepareParams;\nexports.handleResponse = handleResponse;\n\nvar _flow_interfaces = require('../../flow_interfaces');\n\nvar _operations = require('../../constants/operations');\n\nvar _operations2 = _interopRequireDefault(_operations);\n\nvar _utils = require('../../utils');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getOperation() {\n  return _operations2.default.PNSetStateOperation;\n}\n\nfunction validateParams(modules, incomingParams) {\n  var config = modules.config;\n  var state = incomingParams.state,\n      _incomingParams$chann = incomingParams.channels,\n      channels = _incomingParams$chann === undefined ? [] : _incomingParams$chann,\n      _incomingParams$chann2 = incomingParams.channelGroups,\n      channelGroups = _incomingParams$chann2 === undefined ? [] : _incomingParams$chann2;\n\n\n  if (!state) return 'Missing State';\n  if (!config.subscribeKey) return 'Missing Subscribe Key';\n  if (channels.length === 0 && channelGroups.length === 0) return 'Please provide a list of channels and/or channel-groups';\n}\n\nfunction getURL(modules, incomingParams) {\n  var config = modules.config;\n  var _incomingParams$chann3 = incomingParams.channels,\n      channels = _incomingParams$chann3 === undefined ? [] : _incomingParams$chann3;\n\n  var stringifiedChannels = channels.length > 0 ? channels.join(',') : ',';\n  return '/v2/presence/sub-key/' + config.subscribeKey + '/channel/' + _utils2.default.encodeString(stringifiedChannels) + '/uuid/' + config.UUID + '/data';\n}\n\nfunction getRequestTimeout(_ref) {\n  var config = _ref.config;\n\n  return config.getTransactionTimeout();\n}\n\nfunction isAuthSupported() {\n  return true;\n}\n\nfunction prepareParams(modules, incomingParams) {\n  var state = incomingParams.state,\n      _incomingParams$chann4 = incomingParams.channelGroups,\n      channelGroups = _incomingParams$chann4 === undefined ? [] : _incomingParams$chann4;\n\n  var params = {};\n\n  params.state = JSON.stringify(state);\n\n  if (channelGroups.length > 0) {\n    params['channel-group'] = channelGroups.join(',');\n  }\n\n  return params;\n}\n\nfunction handleResponse(modules, serverResponse) {\n  return { state: serverResponse.payload };\n}\n//# sourceMappingURL=set_state.js.map\n","/home/travis/build/npmtest/node-npmtest-pubnub/node_modules/pubnub/lib/core/endpoints/presence/here_now.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getOperation = getOperation;\nexports.validateParams = validateParams;\nexports.getURL = getURL;\nexports.getRequestTimeout = getRequestTimeout;\nexports.isAuthSupported = isAuthSupported;\nexports.prepareParams = prepareParams;\nexports.handleResponse = handleResponse;\n\nvar _flow_interfaces = require('../../flow_interfaces');\n\nvar _operations = require('../../constants/operations');\n\nvar _operations2 = _interopRequireDefault(_operations);\n\nvar _utils = require('../../utils');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getOperation() {\n  return _operations2.default.PNHereNowOperation;\n}\n\nfunction validateParams(modules) {\n  var config = modules.config;\n\n\n  if (!config.subscribeKey) return 'Missing Subscribe Key';\n}\n\nfunction getURL(modules, incomingParams) {\n  var config = modules.config;\n  var _incomingParams$chann = incomingParams.channels,\n      channels = _incomingParams$chann === undefined ? [] : _incomingParams$chann,\n      _incomingParams$chann2 = incomingParams.channelGroups,\n      channelGroups = _incomingParams$chann2 === undefined ? [] : _incomingParams$chann2;\n\n  var baseURL = '/v2/presence/sub-key/' + config.subscribeKey;\n\n  if (channels.length > 0 || channelGroups.length > 0) {\n    var stringifiedChannels = channels.length > 0 ? channels.join(',') : ',';\n    baseURL += '/channel/' + _utils2.default.encodeString(stringifiedChannels);\n  }\n\n  return baseURL;\n}\n\nfunction getRequestTimeout(_ref) {\n  var config = _ref.config;\n\n  return config.getTransactionTimeout();\n}\n\nfunction isAuthSupported() {\n  return true;\n}\n\nfunction prepareParams(modules, incomingParams) {\n  var _incomingParams$chann3 = incomingParams.channelGroups,\n      channelGroups = _incomingParams$chann3 === undefined ? [] : _incomingParams$chann3,\n      _incomingParams$inclu = incomingParams.includeUUIDs,\n      includeUUIDs = _incomingParams$inclu === undefined ? true : _incomingParams$inclu,\n      _incomingParams$inclu2 = incomingParams.includeState,\n      includeState = _incomingParams$inclu2 === undefined ? false : _incomingParams$inclu2;\n\n  var params = {};\n\n  if (!includeUUIDs) params.disable_uuids = 1;\n  if (includeState) params.state = 1;\n\n  if (channelGroups.length > 0) {\n    params['channel-group'] = channelGroups.join(',');\n  }\n\n  return params;\n}\n\nfunction handleResponse(modules, serverResponse, incomingParams) {\n  var _incomingParams$chann4 = incomingParams.channels,\n      channels = _incomingParams$chann4 === undefined ? [] : _incomingParams$chann4,\n      _incomingParams$chann5 = incomingParams.channelGroups,\n      channelGroups = _incomingParams$chann5 === undefined ? [] : _incomingParams$chann5,\n      _incomingParams$inclu3 = incomingParams.includeUUIDs,\n      includeUUIDs = _incomingParams$inclu3 === undefined ? true : _incomingParams$inclu3,\n      _incomingParams$inclu4 = incomingParams.includeState,\n      includeState = _incomingParams$inclu4 === undefined ? false : _incomingParams$inclu4;\n\n\n  var prepareSingularChannel = function prepareSingularChannel() {\n    var response = {};\n    var occupantsList = [];\n    response.totalChannels = 1;\n    response.totalOccupancy = serverResponse.occupancy;\n    response.channels = {};\n    response.channels[channels[0]] = {\n      occupants: occupantsList,\n      name: channels[0],\n      occupancy: serverResponse.occupancy\n    };\n\n    if (includeUUIDs) {\n      serverResponse.uuids.forEach(function (uuidEntry) {\n        if (includeState) {\n          occupantsList.push({ state: uuidEntry.state, uuid: uuidEntry.uuid });\n        } else {\n          occupantsList.push({ state: null, uuid: uuidEntry });\n        }\n      });\n    }\n\n    return response;\n  };\n\n  var prepareMultipleChannel = function prepareMultipleChannel() {\n    var response = {};\n    response.totalChannels = serverResponse.payload.total_channels;\n    response.totalOccupancy = serverResponse.payload.total_occupancy;\n    response.channels = {};\n\n    Object.keys(serverResponse.payload.channels).forEach(function (channelName) {\n      var channelEntry = serverResponse.payload.channels[channelName];\n      var occupantsList = [];\n      response.channels[channelName] = {\n        occupants: occupantsList,\n        name: channelName,\n        occupancy: channelEntry.occupancy\n      };\n\n      if (includeUUIDs) {\n        channelEntry.uuids.forEach(function (uuidEntry) {\n          if (includeState) {\n            occupantsList.push({ state: uuidEntry.state, uuid: uuidEntry.uuid });\n          } else {\n            occupantsList.push({ state: null, uuid: uuidEntry });\n          }\n        });\n      }\n\n      return response;\n    });\n\n    return response;\n  };\n\n  var response = void 0;\n  if (channels.length > 1 || channelGroups.length > 0 || channelGroups.length === 0 && channels.length === 0) {\n    response = prepareMultipleChannel();\n  } else {\n    response = prepareSingularChannel();\n  }\n\n  return response;\n}\n//# sourceMappingURL=here_now.js.map\n","/home/travis/build/npmtest/node-npmtest-pubnub/node_modules/pubnub/lib/core/endpoints/access_manager/audit.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getOperation = getOperation;\nexports.validateParams = validateParams;\nexports.getURL = getURL;\nexports.getRequestTimeout = getRequestTimeout;\nexports.isAuthSupported = isAuthSupported;\nexports.prepareParams = prepareParams;\nexports.handleResponse = handleResponse;\n\nvar _flow_interfaces = require('../../flow_interfaces');\n\nvar _operations = require('../../constants/operations');\n\nvar _operations2 = _interopRequireDefault(_operations);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getOperation() {\n  return _operations2.default.PNAccessManagerAudit;\n}\n\nfunction validateParams(modules) {\n  var config = modules.config;\n\n\n  if (!config.subscribeKey) return 'Missing Subscribe Key';\n}\n\nfunction getURL(modules) {\n  var config = modules.config;\n\n  return '/v2/auth/audit/sub-key/' + config.subscribeKey;\n}\n\nfunction getRequestTimeout(_ref) {\n  var config = _ref.config;\n\n  return config.getTransactionTimeout();\n}\n\nfunction isAuthSupported() {\n  return false;\n}\n\nfunction prepareParams(modules, incomingParams) {\n  var channel = incomingParams.channel,\n      channelGroup = incomingParams.channelGroup,\n      _incomingParams$authK = incomingParams.authKeys,\n      authKeys = _incomingParams$authK === undefined ? [] : _incomingParams$authK;\n\n  var params = {};\n\n  if (channel) {\n    params.channel = channel;\n  }\n\n  if (channelGroup) {\n    params['channel-group'] = channelGroup;\n  }\n\n  if (authKeys.length > 0) {\n    params.auth = authKeys.join(',');\n  }\n\n  return params;\n}\n\nfunction handleResponse(modules, serverResponse) {\n  return serverResponse.payload;\n}\n//# sourceMappingURL=audit.js.map\n","/home/travis/build/npmtest/node-npmtest-pubnub/node_modules/pubnub/lib/core/endpoints/access_manager/grant.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getOperation = getOperation;\nexports.validateParams = validateParams;\nexports.getURL = getURL;\nexports.getRequestTimeout = getRequestTimeout;\nexports.isAuthSupported = isAuthSupported;\nexports.prepareParams = prepareParams;\nexports.handleResponse = handleResponse;\n\nvar _flow_interfaces = require('../../flow_interfaces');\n\nvar _operations = require('../../constants/operations');\n\nvar _operations2 = _interopRequireDefault(_operations);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getOperation() {\n  return _operations2.default.PNAccessManagerGrant;\n}\n\nfunction validateParams(modules) {\n  var config = modules.config;\n\n\n  if (!config.subscribeKey) return 'Missing Subscribe Key';\n  if (!config.publishKey) return 'Missing Publish Key';\n  if (!config.secretKey) return 'Missing Secret Key';\n}\n\nfunction getURL(modules) {\n  var config = modules.config;\n\n  return '/v2/auth/grant/sub-key/' + config.subscribeKey;\n}\n\nfunction getRequestTimeout(_ref) {\n  var config = _ref.config;\n\n  return config.getTransactionTimeout();\n}\n\nfunction isAuthSupported() {\n  return false;\n}\n\nfunction prepareParams(modules, incomingParams) {\n  var _incomingParams$chann = incomingParams.channels,\n      channels = _incomingParams$chann === undefined ? [] : _incomingParams$chann,\n      _incomingParams$chann2 = incomingParams.channelGroups,\n      channelGroups = _incomingParams$chann2 === undefined ? [] : _incomingParams$chann2,\n      ttl = incomingParams.ttl,\n      _incomingParams$read = incomingParams.read,\n      read = _incomingParams$read === undefined ? false : _incomingParams$read,\n      _incomingParams$write = incomingParams.write,\n      write = _incomingParams$write === undefined ? false : _incomingParams$write,\n      _incomingParams$manag = incomingParams.manage,\n      manage = _incomingParams$manag === undefined ? false : _incomingParams$manag,\n      _incomingParams$authK = incomingParams.authKeys,\n      authKeys = _incomingParams$authK === undefined ? [] : _incomingParams$authK;\n\n  var params = {};\n\n  params.r = read ? '1' : '0';\n  params.w = write ? '1' : '0';\n  params.m = manage ? '1' : '0';\n\n  if (channels.length > 0) {\n    params.channel = channels.join(',');\n  }\n\n  if (channelGroups.length > 0) {\n    params['channel-group'] = channelGroups.join(',');\n  }\n\n  if (authKeys.length > 0) {\n    params.auth = authKeys.join(',');\n  }\n\n  if (ttl || ttl === 0) {\n    params.ttl = ttl;\n  }\n\n  return params;\n}\n\nfunction handleResponse() {\n  return {};\n}\n//# sourceMappingURL=grant.js.map\n","/home/travis/build/npmtest/node-npmtest-pubnub/node_modules/pubnub/lib/core/endpoints/publish.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.getOperation = getOperation;\nexports.validateParams = validateParams;\nexports.usePost = usePost;\nexports.getURL = getURL;\nexports.postURL = postURL;\nexports.getRequestTimeout = getRequestTimeout;\nexports.isAuthSupported = isAuthSupported;\nexports.postPayload = postPayload;\nexports.prepareParams = prepareParams;\nexports.handleResponse = handleResponse;\n\nvar _flow_interfaces = require('../flow_interfaces');\n\nvar _operations = require('../constants/operations');\n\nvar _operations2 = _interopRequireDefault(_operations);\n\nvar _utils = require('../utils');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction prepareMessagePayload(modules, messagePayload) {\n  var crypto = modules.crypto,\n      config = modules.config;\n\n  var stringifiedPayload = JSON.stringify(messagePayload);\n\n  if (config.cipherKey) {\n    stringifiedPayload = crypto.encrypt(stringifiedPayload);\n    stringifiedPayload = JSON.stringify(stringifiedPayload);\n  }\n\n  return stringifiedPayload;\n}\n\nfunction getOperation() {\n  return _operations2.default.PNPublishOperation;\n}\n\nfunction validateParams(_ref, incomingParams) {\n  var config = _ref.config;\n  var message = incomingParams.message,\n      channel = incomingParams.channel;\n\n\n  if (!channel) return 'Missing Channel';\n  if (!message) return 'Missing Message';\n  if (!config.subscribeKey) return 'Missing Subscribe Key';\n}\n\nfunction usePost(modules, incomingParams) {\n  var _incomingParams$sendB = incomingParams.sendByPost,\n      sendByPost = _incomingParams$sendB === undefined ? false : _incomingParams$sendB;\n\n  return sendByPost;\n}\n\nfunction getURL(modules, incomingParams) {\n  var config = modules.config;\n  var channel = incomingParams.channel,\n      message = incomingParams.message;\n\n  var stringifiedPayload = prepareMessagePayload(modules, message);\n  return '/publish/' + config.publishKey + '/' + config.subscribeKey + '/0/' + _utils2.default.encodeString(channel) + '/0/' + _utils2.default.encodeString(stringifiedPayload);\n}\n\nfunction postURL(modules, incomingParams) {\n  var config = modules.config;\n  var channel = incomingParams.channel;\n\n  return '/publish/' + config.publishKey + '/' + config.subscribeKey + '/0/' + _utils2.default.encodeString(channel) + '/0';\n}\n\nfunction getRequestTimeout(_ref2) {\n  var config = _ref2.config;\n\n  return config.getTransactionTimeout();\n}\n\nfunction isAuthSupported() {\n  return true;\n}\n\nfunction postPayload(modules, incomingParams) {\n  var message = incomingParams.message;\n\n  return prepareMessagePayload(modules, message);\n}\n\nfunction prepareParams(modules, incomingParams) {\n  var meta = incomingParams.meta,\n      _incomingParams$repli = incomingParams.replicate,\n      replicate = _incomingParams$repli === undefined ? true : _incomingParams$repli,\n      storeInHistory = incomingParams.storeInHistory,\n      ttl = incomingParams.ttl;\n\n  var params = {};\n\n  if (storeInHistory != null) {\n    if (storeInHistory) {\n      params.store = '1';\n    } else {\n      params.store = '0';\n    }\n  }\n\n  if (ttl) {\n    params.ttl = ttl;\n  }\n\n  if (replicate === false) {\n    params.norep = 'true';\n  }\n\n  if (meta && (typeof meta === 'undefined' ? 'undefined' : _typeof(meta)) === 'object') {\n    params.meta = JSON.stringify(meta);\n  }\n\n  return params;\n}\n\nfunction handleResponse(modules, serverResponse) {\n  return { timetoken: serverResponse[2] };\n}\n//# sourceMappingURL=publish.js.map\n","/home/travis/build/npmtest/node-npmtest-pubnub/node_modules/pubnub/lib/core/endpoints/history.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getOperation = getOperation;\nexports.validateParams = validateParams;\nexports.getURL = getURL;\nexports.getRequestTimeout = getRequestTimeout;\nexports.isAuthSupported = isAuthSupported;\nexports.prepareParams = prepareParams;\nexports.handleResponse = handleResponse;\n\nvar _flow_interfaces = require('../flow_interfaces');\n\nvar _operations = require('../constants/operations');\n\nvar _operations2 = _interopRequireDefault(_operations);\n\nvar _utils = require('../utils');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction __processMessage(modules, message) {\n  var config = modules.config,\n      crypto = modules.crypto;\n\n  if (!config.cipherKey) return message;\n\n  try {\n    return crypto.decrypt(message);\n  } catch (e) {\n    return message;\n  }\n}\n\nfunction getOperation() {\n  return _operations2.default.PNHistoryOperation;\n}\n\nfunction validateParams(modules, incomingParams) {\n  var channel = incomingParams.channel;\n  var config = modules.config;\n\n\n  if (!channel) return 'Missing channel';\n  if (!config.subscribeKey) return 'Missing Subscribe Key';\n}\n\nfunction getURL(modules, incomingParams) {\n  var channel = incomingParams.channel;\n  var config = modules.config;\n\n  return '/v2/history/sub-key/' + config.subscribeKey + '/channel/' + _utils2.default.encodeString(channel);\n}\n\nfunction getRequestTimeout(_ref) {\n  var config = _ref.config;\n\n  return config.getTransactionTimeout();\n}\n\nfunction isAuthSupported() {\n  return true;\n}\n\nfunction prepareParams(modules, incomingParams) {\n  var start = incomingParams.start,\n      end = incomingParams.end,\n      reverse = incomingParams.reverse,\n      _incomingParams$count = incomingParams.count,\n      count = _incomingParams$count === undefined ? 100 : _incomingParams$count,\n      _incomingParams$strin = incomingParams.stringifiedTimeToken,\n      stringifiedTimeToken = _incomingParams$strin === undefined ? false : _incomingParams$strin;\n\n  var outgoingParams = {\n    include_token: 'true'\n  };\n\n  outgoingParams.count = count;\n  if (start) outgoingParams.start = start;\n  if (end) outgoingParams.end = end;\n  if (stringifiedTimeToken) outgoingParams.string_message_token = 'true';\n  if (reverse != null) outgoingParams.reverse = reverse.toString();\n\n  return outgoingParams;\n}\n\nfunction handleResponse(modules, serverResponse) {\n  var response = {\n    messages: [],\n    startTimeToken: serverResponse[1],\n    endTimeToken: serverResponse[2]\n  };\n\n  serverResponse[0].forEach(function (serverHistoryItem) {\n    var item = {\n      timetoken: serverHistoryItem.timetoken,\n      entry: __processMessage(modules, serverHistoryItem.message)\n    };\n\n    response.messages.push(item);\n  });\n\n  return response;\n}\n//# sourceMappingURL=history.js.map\n","/home/travis/build/npmtest/node-npmtest-pubnub/node_modules/pubnub/lib/core/endpoints/fetch_messages.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getOperation = getOperation;\nexports.validateParams = validateParams;\nexports.getURL = getURL;\nexports.getRequestTimeout = getRequestTimeout;\nexports.isAuthSupported = isAuthSupported;\nexports.prepareParams = prepareParams;\nexports.handleResponse = handleResponse;\n\nvar _flow_interfaces = require('../flow_interfaces');\n\nvar _operations = require('../constants/operations');\n\nvar _operations2 = _interopRequireDefault(_operations);\n\nvar _utils = require('../utils');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction __processMessage(modules, message) {\n  var config = modules.config,\n      crypto = modules.crypto;\n\n  if (!config.cipherKey) return message;\n\n  try {\n    return crypto.decrypt(message);\n  } catch (e) {\n    return message;\n  }\n}\n\nfunction getOperation() {\n  return _operations2.default.PNFetchMessagesOperation;\n}\n\nfunction validateParams(modules, incomingParams) {\n  var channels = incomingParams.channels;\n  var config = modules.config;\n\n\n  if (!channels || channels.length === 0) return 'Missing channels';\n  if (!config.subscribeKey) return 'Missing Subscribe Key';\n}\n\nfunction getURL(modules, incomingParams) {\n  var _incomingParams$chann = incomingParams.channels,\n      channels = _incomingParams$chann === undefined ? [] : _incomingParams$chann;\n  var config = modules.config;\n\n\n  var stringifiedChannels = channels.length > 0 ? channels.join(',') : ',';\n  return '/v3/history/sub-key/' + config.subscribeKey + '/channel/' + _utils2.default.encodeString(stringifiedChannels);\n}\n\nfunction getRequestTimeout(_ref) {\n  var config = _ref.config;\n\n  return config.getTransactionTimeout();\n}\n\nfunction isAuthSupported() {\n  return true;\n}\n\nfunction prepareParams(modules, incomingParams) {\n  var start = incomingParams.start,\n      end = incomingParams.end,\n      count = incomingParams.count;\n\n  var outgoingParams = {};\n\n  if (count) outgoingParams.max = count;\n  if (start) outgoingParams.start = start;\n  if (end) outgoingParams.end = end;\n\n  return outgoingParams;\n}\n\nfunction handleResponse(modules, serverResponse) {\n  var response = {\n    channels: {}\n  };\n\n  Object.keys(serverResponse.channels || {}).forEach(function (channelName) {\n    response.channels[channelName] = [];\n\n    (serverResponse.channels[channelName] || []).forEach(function (messageEnvelope) {\n      var announce = {};\n      announce.channel = channelName;\n      announce.subscription = null;\n      announce.timetoken = messageEnvelope.timetoken;\n      announce.message = __processMessage(modules, messageEnvelope.message);\n      response.channels[channelName].push(announce);\n    });\n  });\n\n  return response;\n}\n//# sourceMappingURL=fetch_messages.js.map\n","/home/travis/build/npmtest/node-npmtest-pubnub/node_modules/pubnub/lib/core/endpoints/subscribe.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getOperation = getOperation;\nexports.validateParams = validateParams;\nexports.getURL = getURL;\nexports.getRequestTimeout = getRequestTimeout;\nexports.isAuthSupported = isAuthSupported;\nexports.prepareParams = prepareParams;\nexports.handleResponse = handleResponse;\n\nvar _flow_interfaces = require('../flow_interfaces');\n\nvar _operations = require('../constants/operations');\n\nvar _operations2 = _interopRequireDefault(_operations);\n\nvar _utils = require('../utils');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getOperation() {\n  return _operations2.default.PNSubscribeOperation;\n}\n\nfunction validateParams(modules) {\n  var config = modules.config;\n\n\n  if (!config.subscribeKey) return 'Missing Subscribe Key';\n}\n\nfunction getURL(modules, incomingParams) {\n  var config = modules.config;\n  var _incomingParams$chann = incomingParams.channels,\n      channels = _incomingParams$chann === undefined ? [] : _incomingParams$chann;\n\n  var stringifiedChannels = channels.length > 0 ? channels.join(',') : ',';\n  return '/v2/subscribe/' + config.subscribeKey + '/' + _utils2.default.encodeString(stringifiedChannels) + '/0';\n}\n\nfunction getRequestTimeout(_ref) {\n  var config = _ref.config;\n\n  return config.getSubscribeTimeout();\n}\n\nfunction isAuthSupported() {\n  return true;\n}\n\nfunction prepareParams(_ref2, incomingParams) {\n  var config = _ref2.config;\n  var _incomingParams$chann2 = incomingParams.channelGroups,\n      channelGroups = _incomingParams$chann2 === undefined ? [] : _incomingParams$chann2,\n      timetoken = incomingParams.timetoken,\n      filterExpression = incomingParams.filterExpression,\n      region = incomingParams.region;\n\n  var params = {\n    heartbeat: config.getPresenceTimeout()\n  };\n\n  if (channelGroups.length > 0) {\n    params['channel-group'] = channelGroups.join(',');\n  }\n\n  if (filterExpression && filterExpression.length > 0) {\n    params['filter-expr'] = filterExpression;\n  }\n\n  if (timetoken) {\n    params.tt = timetoken;\n  }\n\n  if (region) {\n    params.tr = region;\n  }\n\n  return params;\n}\n\nfunction handleResponse(modules, serverResponse) {\n  var messages = [];\n\n  serverResponse.m.forEach(function (rawMessage) {\n    var publishMetaData = {\n      publishTimetoken: rawMessage.p.t,\n      region: rawMessage.p.r\n    };\n    var parsedMessage = {\n      shard: parseInt(rawMessage.a, 10),\n      subscriptionMatch: rawMessage.b,\n      channel: rawMessage.c,\n      payload: rawMessage.d,\n      flags: rawMessage.f,\n      issuingClientId: rawMessage.i,\n      subscribeKey: rawMessage.k,\n      originationTimetoken: rawMessage.o,\n      publishMetaData: publishMetaData\n    };\n    messages.push(parsedMessage);\n  });\n\n  var metadata = {\n    timetoken: serverResponse.t.t,\n    region: serverResponse.t.r\n  };\n\n  return { messages: messages, metadata: metadata };\n}\n//# sourceMappingURL=subscribe.js.map\n","/home/travis/build/npmtest/node-npmtest-pubnub/node_modules/pubnub/lib/networking/index.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _config = require('../core/components/config');\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _categories = require('../core/constants/categories');\n\nvar _categories2 = _interopRequireDefault(_categories);\n\nvar _flow_interfaces = require('../core/flow_interfaces');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar _class = function () {\n  function _class(modules) {\n    var _this = this;\n\n    _classCallCheck(this, _class);\n\n    this._modules = {};\n\n    Object.keys(modules).forEach(function (key) {\n      _this._modules[key] = modules[key].bind(_this);\n    });\n  }\n\n  _createClass(_class, [{\n    key: 'init',\n    value: function init(config) {\n      this._config = config;\n\n      this._maxSubDomain = 20;\n      this._currentSubDomain = Math.floor(Math.random() * this._maxSubDomain);\n      this._providedFQDN = (this._config.secure ? 'https://' : 'http://') + this._config.origin;\n      this._coreParams = {};\n\n      this.shiftStandardOrigin();\n    }\n  }, {\n    key: 'nextOrigin',\n    value: function nextOrigin() {\n      if (this._providedFQDN.indexOf('pubsub.') === -1) {\n        return this._providedFQDN;\n      }\n\n      var newSubDomain = void 0;\n\n      this._currentSubDomain = this._currentSubDomain + 1;\n\n      if (this._currentSubDomain >= this._maxSubDomain) {\n        this._currentSubDomain = 1;\n      }\n\n      newSubDomain = this._currentSubDomain.toString();\n\n      return this._providedFQDN.replace('pubsub', 'ps' + newSubDomain);\n    }\n  }, {\n    key: 'shiftStandardOrigin',\n    value: function shiftStandardOrigin() {\n      var failover = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      this._standardOrigin = this.nextOrigin(failover);\n\n      return this._standardOrigin;\n    }\n  }, {\n    key: 'getStandardOrigin',\n    value: function getStandardOrigin() {\n      return this._standardOrigin;\n    }\n  }, {\n    key: 'POST',\n    value: function POST(params, body, endpoint, callback) {\n      return this._modules.post(params, body, endpoint, callback);\n    }\n  }, {\n    key: 'GET',\n    value: function GET(params, endpoint, callback) {\n      return this._modules.get(params, endpoint, callback);\n    }\n  }, {\n    key: '_detectErrorCategory',\n    value: function _detectErrorCategory(err) {\n      if (err.code === 'ENOTFOUND') return _categories2.default.PNNetworkIssuesCategory;\n      if (err.code === 'ECONNREFUSED') return _categories2.default.PNNetworkIssuesCategory;\n      if (err.code === 'ECONNRESET') return _categories2.default.PNNetworkIssuesCategory;\n      if (err.code === 'EAI_AGAIN') return _categories2.default.PNNetworkIssuesCategory;\n\n      if (err.status === 0 || err.hasOwnProperty('status') && typeof err.status === 'undefined') return _categories2.default.PNNetworkIssuesCategory;\n      if (err.timeout) return _categories2.default.PNTimeoutCategory;\n\n      if (err.response) {\n        if (err.response.badRequest) return _categories2.default.PNBadRequestCategory;\n        if (err.response.forbidden) return _categories2.default.PNAccessDeniedCategory;\n      }\n\n      return _categories2.default.PNUnknownCategory;\n    }\n  }]);\n\n  return _class;\n}();\n\nexports.default = _class;\nmodule.exports = exports['default'];\n//# sourceMappingURL=index.js.map\n","/home/travis/build/npmtest/node-npmtest-pubnub/node_modules/pubnub/lib/db/common.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar _class = function () {\n  function _class() {\n    _classCallCheck(this, _class);\n\n    this.storage = {};\n  }\n\n  _createClass(_class, [{\n    key: \"get\",\n    value: function get(key) {\n      return this.storage[key];\n    }\n  }, {\n    key: \"set\",\n    value: function set(key, value) {\n      this.storage[key] = value;\n    }\n  }]);\n\n  return _class;\n}();\n\nexports.default = _class;\nmodule.exports = exports[\"default\"];\n//# sourceMappingURL=common.js.map\n","/home/travis/build/npmtest/node-npmtest-pubnub/node_modules/pubnub/lib/networking/modules/web-node.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.get = get;\nexports.post = post;\n\nvar _superagent = require('superagent');\n\nvar _superagent2 = _interopRequireDefault(_superagent);\n\nvar _flow_interfaces = require('../../core/flow_interfaces');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction log(req) {\n  var _pickLogger = function _pickLogger() {\n    if (console && console.log) return console;\n    if (window && window.console && window.console.log) return window.console;\n    return console;\n  };\n\n  var start = new Date().getTime();\n  var timestamp = new Date().toISOString();\n  var logger = _pickLogger();\n  logger.log('<<<<<');\n  logger.log('[' + timestamp + ']', '\\n', req.url, '\\n', req.qs);\n  logger.log('-----');\n\n  req.on('response', function (res) {\n    var now = new Date().getTime();\n    var elapsed = now - start;\n    var timestampDone = new Date().toISOString();\n\n    logger.log('>>>>>>');\n    logger.log('[' + timestampDone + ' / ' + elapsed + ']', '\\n', req.url, '\\n', req.qs, '\\n', res.text);\n    logger.log('-----');\n  });\n}\n\nfunction xdr(superagentConstruct, endpoint, callback) {\n  var _this = this;\n\n  if (this._config.logVerbosity) {\n    superagentConstruct = superagentConstruct.use(log);\n  }\n\n  if (this._config.proxy && this._modules.proxy) {\n    superagentConstruct = this._modules.proxy.call(this, superagentConstruct);\n  }\n\n  if (this._config.keepAlive && this._modules.keepAlive) {\n    superagentConstruct = this._module.keepAlive(superagentConstruct);\n  }\n\n  return superagentConstruct.timeout(endpoint.timeout).end(function (err, resp) {\n    var status = {};\n    status.error = err !== null;\n    status.operation = endpoint.operation;\n\n    if (resp && resp.status) {\n      status.statusCode = resp.status;\n    }\n\n    if (err) {\n      status.errorData = err;\n      status.category = _this._detectErrorCategory(err);\n      return callback(status, null);\n    }\n\n    var parsedResponse = JSON.parse(resp.text);\n    return callback(status, parsedResponse);\n  });\n}\n\nfunction get(params, endpoint, callback) {\n  var superagentConstruct = _superagent2.default.get(this.getStandardOrigin() + endpoint.url).query(params);\n  return xdr.call(this, superagentConstruct, endpoint, callback);\n}\n\nfunction post(params, body, endpoint, callback) {\n  var superagentConstruct = _superagent2.default.post(this.getStandardOrigin() + endpoint.url).query(params).send(body);\n  return xdr.call(this, superagentConstruct, endpoint, callback);\n}\n//# sourceMappingURL=web-node.js.map\n","/home/travis/build/npmtest/node-npmtest-pubnub/node_modules/pubnub/lib/networking/modules/node.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.proxy = proxy;\nexports.keepAlive = keepAlive;\n\nvar _superagent = require('superagent');\n\nvar _superagent2 = _interopRequireDefault(_superagent);\n\nvar _superagentProxy = require('superagent-proxy');\n\nvar _superagentProxy2 = _interopRequireDefault(_superagentProxy);\n\nvar _agentkeepalive = require('agentkeepalive');\n\nvar _agentkeepalive2 = _interopRequireDefault(_agentkeepalive);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n(0, _superagentProxy2.default)(_superagent2.default);\n\nfunction proxy(superagentConstruct) {\n  return superagentConstruct.proxy(this._config.proxy);\n}\n\nfunction keepAlive(superagentConstruct) {\n  var AgentClass = null;\n  var agent = null;\n\n  if (this._config.secure) {\n    AgentClass = _agentkeepalive2.default.HttpsAgent;\n  } else {\n    AgentClass = _agentkeepalive2.default;\n  }\n\n  if (this._config.keepAliveSettings) {\n    agent = new AgentClass(this._config.keepAliveSettings);\n  } else {\n    agent = new AgentClass();\n  }\n\n  return superagentConstruct.agent(agent);\n}\n//# sourceMappingURL=node.js.map\n","/home/travis/build/npmtest/node-npmtest-pubnub/node_modules/pubnub/gulpfile.babel.js":"/* eslint no-console: 0, arrow-body-style: 0 */\n\nconst gulp = require('gulp');\nconst path = require('path');\nconst babel = require('gulp-babel');\nconst clean = require('gulp-clean');\nconst gulpWebpack = require('webpack-stream');\nconst webpackConfig = require('./webpack.config');\nconst eslint = require('gulp-eslint');\nconst uglify = require('gulp-uglify');\nconst rename = require('gulp-rename');\nconst exec = require('child_process').exec;\nconst Karma = require('karma').Server;\nconst mocha = require('gulp-mocha');\nconst runSequence = require('run-sequence');\nconst gulpIstanbul = require('gulp-istanbul');\nconst isparta = require('isparta');\nconst sourcemaps = require('gulp-sourcemaps');\nconst packageJSON = require('./package.json');\nconst gzip = require('gulp-gzip');\nconst unzip = require('gulp-unzip');\n\ngulp.task('clean', () => {\n  return gulp.src(['lib', 'dist', 'coverage', 'upload'], { read: false })\n    .pipe(clean());\n});\n\ngulp.task('babel', () => {\n  return gulp.src('src/**/*.js')\n    .pipe(sourcemaps.init())\n    .pipe(babel())\n    .pipe(sourcemaps.write('.'))\n    .pipe(gulp.dest('lib'));\n});\n\ngulp.task('unzip_titanium_sdk', () => {\n  return gulp.src('resources/titanium.zip')\n    .pipe(unzip())\n    .pipe(gulp.dest('resources/'));\n});\n\ngulp.task('compile_web', () => {\n  return gulp.src('src/web/index.js')\n    .pipe(gulpWebpack(webpackConfig))\n    .pipe(gulp.dest('dist/web'));\n});\n\ngulp.task('compile_titanium', () => {\n  return gulp.src('src/titanium/index.js')\n    .pipe(gulpWebpack(webpackConfig))\n    .pipe(gulp.dest('dist/titanium'));\n});\n\ngulp.task('create_version', () => {\n  return gulp.src('dist/web/pubnub.js')\n    .pipe(rename(`pubnub.${packageJSON.version}.js`))\n    .pipe(gulp.dest('upload/normal'));\n});\n\ngulp.task('create_version_gzip', () => {\n  return gulp.src('upload/normal/*.js')\n    .pipe(gzip({ append: false }))\n    .pipe(gulp.dest('upload/gzip'));\n});\n\ngulp.task('uglify_web', () => {\n  return gulp.src('dist/web/pubnub.js')\n    .pipe(uglify({ mangle: true, compress: true }))\n\n    .pipe(rename('pubnub.min.js'))\n    .pipe(gulp.dest('dist/web'))\n\n    .pipe(rename(`pubnub.${packageJSON.version}.min.js`))\n    .pipe(gulp.dest('upload/normal'));\n});\n\ngulp.task('uglify_titanium', () => {\n  return gulp.src('dist/titanium/pubnub.js')\n    .pipe(uglify({ mangle: true, compress: true }))\n    .pipe(rename('pubnub.min.js'))\n    .pipe(gulp.dest('dist/titanium'));\n});\n\ngulp.task('lint_code', [], () => {\n  return gulp.src(['src/**/*.js'])\n      .pipe(eslint())\n      .pipe(eslint.format())\n      .pipe(eslint.failAfterError());\n});\n\ngulp.task('lint_tests', [], () => {\n  return gulp.src(['test/**/*.js', '!test/dist/*.js'])\n      .pipe(eslint())\n      .pipe(eslint.format())\n      .pipe(eslint.failAfterError());\n});\n\ngulp.task('lint', ['lint_code', 'lint_tests']);\n\ngulp.task('flow', (cb) => {\n  return exec('./node_modules/.bin/flow --show-all-errors', (err, stdout, stderr) => {\n    console.log(stdout);\n    console.log(stderr);\n    cb(err);\n  });\n});\n\ngulp.task('validate', ['lint', 'flow']);\n\ngulp.task('pre-test', () => {\n  return gulp.src(['src/**/*.js'])\n    .pipe(gulpIstanbul({ instrumenter: isparta.Instrumenter, includeAllSources: true }))\n    .pipe(gulpIstanbul.hookRequire());\n});\n\ngulp.task('test_web', (done) => {\n  new Karma({\n    configFile: path.join(__dirname, '/karma/web.config.js'),\n  }, done).start();\n});\n\ngulp.task('test_node', () => {\n  return gulp.src(['test/**/*.test.js', '!test/dist/*.js'], { read: false })\n    .pipe(mocha({ reporter: 'spec' }))\n    .pipe(gulpIstanbul.writeReports({ reporters: ['json', 'lcov', 'text'] }));\n});\n\ngulp.task('test_titanium', ['unzip_titanium_sdk'], (done) => {\n  new Karma({\n    configFile: path.join(__dirname, '/karma/titanium.config.js'),\n  }, done).start();\n});\n\ngulp.task('test_release', () => {\n  return gulp.src('test/release/**/*.test.js', { read: false })\n    .pipe(mocha({ reporter: 'spec' }));\n});\n\ngulp.task('test', (done) => {\n  runSequence('pre-test', 'test_node', 'test_web', 'test_titanium', 'test_release', 'validate', done);\n});\n\ngulp.task('webpack', (done) => {\n  runSequence('compile_web', 'compile_titanium', done);\n});\n\ngulp.task('compile', (done) => {\n  runSequence('clean', 'babel', 'webpack', 'uglify_web', 'uglify_titanium', 'create_version', 'create_version_gzip', done);\n});\n","/home/travis/build/npmtest/node-npmtest-pubnub/node_modules/pubnub/webpack.config.js":"let webpack = require('webpack');\nlet StatsPlugin = require('stats-webpack-plugin');\n\nconst packageJSON = require('./package.json');\n\nlet config = {\n  module: {\n    loaders: [\n      { test: /\\.json/, loader: 'json' },\n      { test: /\\.js$/, exclude: /(node_modules|bower_components)/, loader: 'babel' }\n    ],\n  },\n  node: {\n    fs: 'empty',\n    net: 'empty',\n    tls: 'empty',\n    formidable: 'empty',\n  },\n  output: {\n    filename: 'pubnub.js',\n    library: 'PubNub',\n    libraryTarget: 'umd',\n  },\n  plugins: [\n    new webpack.BannerPlugin(`${packageJSON.version} / Consumer `, {\n      raw: false, entryOnly: true,\n    }),\n    new StatsPlugin('stats.json', {\n      chunkModules: true,\n      exclude: ['node_modules']\n    })\n  ],\n  externals: [],\n  profile: true\n};\n\nmodule.exports = config;\n","/home/travis/build/npmtest/node-npmtest-pubnub/node_modules/pubnub/karma/titanium.config.js":"// Karma configuration\n// Generated on Tue Mar 24 2015 04:20:15 GMT-0700 (Pacific Daylight Time)\n// TODO: copy test file from javascript repo and invoke it in angular environment\nexport default (config) => {\n  config.set({\n\n    // base path that will be used to resolve all patterns (eg. files, exclude)\n    basePath: '',\n\n\n    // frameworks to use\n    // available frameworks: https://npmjs.org/browse/keyword/karma-adapter\n    frameworks: ['mocha', 'chai', 'sinon-chai'],\n\n\n    // list of files / patterns to load in the browser\n    files: [\n      '../dist/titanium/pubnub.js',\n      '../resources/titanium/titanium.js',\n      '../test/dist/web-titanium.test.js'\n    ],\n\n    // list of files to exclude\n    exclude: [\n    ],\n\n\n    // preprocess matching files before serving them to the browser\n    // available preprocessors: https://npmjs.org/browse/keyword/karma-preprocessor\n    preprocessors: { 'dist/*.js': ['coverage'] },\n\n    // test results reporter to use\n    // possible values: 'dots', 'progress'\n    // available reporters: https://npmjs.org/browse/keyword/karma-reporter\n    reporters: ['spec', 'coverage'],\n\n\n    // web server port\n    port: 9898,\n\n\n    // enable / disable colors in the output (reporters and logs)\n    colors: true,\n\n\n    // level of logging\n    // possible values: config.LOG_DISABLE || config.LOG_ERROR || config.LOG_WARN || config.LOG_INFO || config.LOG_DEBUG\n    logLevel: config.LOG_INFO,\n\n\n    // enable / disable watching file and executing tests whenever any file changes\n    autoWatch: false,\n\n\n    // start these browsers\n    // available browser launchers: https://npmjs.org/browse/keyword/karma-launcher\n    browsers: ['PhantomJS'],\n\n\n    // Continuous Integration mode\n    // if true, Karma captures browsers, runs the tests and exits\n    singleRun: true,\n\n    browserDisconnectTimeout: 20000,\n    browserNoActivityTimeout: 20000,\n\n    coverageReporter: {\n      // specify a common output directory\n      dir: 'coverage',\n      reporters: [\n        // reporters not supporting the `file` property\n        { type: 'html' },\n        { type: 'text-summary' },\n        { type: 'lcov' }\n      ]\n    }\n  });\n};\n","/home/travis/build/npmtest/node-npmtest-pubnub/node_modules/pubnub/karma/web.config.js":"// Karma configuration\n// Generated on Tue Mar 24 2015 04:20:15 GMT-0700 (Pacific Daylight Time)\n// TODO: copy test file from javascript repo and invoke it in angular environment\nexport default (config) => {\n  config.set({\n\n    // base path that will be used to resolve all patterns (eg. files, exclude)\n    basePath: '',\n\n\n    // frameworks to use\n    // available frameworks: https://npmjs.org/browse/keyword/karma-adapter\n    frameworks: ['mocha', 'chai', 'sinon-chai'],\n\n\n    // list of files / patterns to load in the browser\n    files: [\n      '../dist/web/pubnub.js',\n      '../test/dist/web-titanium.test.js'\n    ],\n\n    // list of files to exclude\n    exclude: [\n    ],\n\n\n    // preprocess matching files before serving them to the browser\n    // available preprocessors: https://npmjs.org/browse/keyword/karma-preprocessor\n    preprocessors: { 'dist/*.js': ['coverage'] },\n\n    // test results reporter to use\n    // possible values: 'dots', 'progress'\n    // available reporters: https://npmjs.org/browse/keyword/karma-reporter\n    reporters: ['spec', 'coverage'],\n\n\n    // web server port\n    port: 9898,\n\n\n    // enable / disable colors in the output (reporters and logs)\n    colors: true,\n\n\n    // level of logging\n    // possible values: config.LOG_DISABLE || config.LOG_ERROR || config.LOG_WARN || config.LOG_INFO || config.LOG_DEBUG\n    logLevel: config.LOG_INFO,\n\n\n    // enable / disable watching file and executing tests whenever any file changes\n    autoWatch: false,\n\n\n    // start these browsers\n    // available browser launchers: https://npmjs.org/browse/keyword/karma-launcher\n    browsers: ['PhantomJS'],\n\n\n    // Continuous Integration mode\n    // if true, Karma captures browsers, runs the tests and exits\n    singleRun: true,\n\n    browserDisconnectTimeout: 20000,\n    browserNoActivityTimeout: 20000,\n\n    coverageReporter: {\n      // specify a common output directory\n      dir: 'coverage',\n      reporters: [\n        // reporters not supporting the `file` property\n        { type: 'html' },\n        { type: 'text-summary' },\n        { type: 'lcov' }\n      ]\n    }\n  });\n};\n","/home/travis/build/npmtest/node-npmtest-pubnub/node_modules/pubnub/lib/db/web.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  get: function get(key) {\n    try {\n      return localStorage.getItem(key);\n    } catch (e) {\n      return null;\n    }\n  },\n  set: function set(key, data) {\n    try {\n      return localStorage.setItem(key, data);\n    } catch (e) {\n      return null;\n    }\n  }\n};\nmodule.exports = exports[\"default\"];\n//# sourceMappingURL=web.js.map\n","/home/travis/build/npmtest/node-npmtest-pubnub/node_modules/pubnub/resources/titanium/titanium.js":"/**\n * WARNING: this is generated code and will be lost if changes are made.\n * This generated source code is Copyright (c) 2010- by Appcelerator, Inc. All Rights Reserved.\n */\nvar require = {\n\tapp: {\n\t\tanalytics: true,\n\t\tcopyright: \"not specified\",\n\t\tdeployType: \"development\",\n\t\tdescription: \"\",\n\t\tguid: \"25705bdb-68d6-4e67-ae5a-1a37af8696da\",\n\t\tid: \"com.pubnub.javascript\",\n\t\tname: \"javascript\",\n\t\tnames: {},\n\t\tpublisher: \"PubNub\",\n\t\turl: \"\",\n\t\tversion: \"1.0\"\n\t},\n\thas: {\n\t\t\"native-localstorage\": function (g) {\n\t\t\treturn \"localStorage\" in g && \"setItem\" in localStorage;\n\t\t},\n\t\t\"js-btoa\": function (g) {\n\t\t\treturn \"btoa\" in g;\n\t\t},\n\t\t\"opera\": typeof opera === \"undefined\" || opera.toString() != \"[object Opera]\",\n\t\t\"ti-analytics-use-xhr\": false,\n\t\t\"ti-show-errors\": true,\n\t\t\"ti-instrumentation\": function(g) {\n\t\t\t\treturn false && g.instrumentation;\n\t\t},\n\t\t\"touch\": function (g) {\n\t\t\treturn true && 'ontouchstart' in g;\n\t\t}\n\t},\n\tlocales: [],\n\tpackages: [{\"name\":\"Ti\",\"location\":\"./titanium\",\"main\":\"./Ti\"}],\n\tproject: {\n\t\tid: \"com.pubnub.javascript\",\n\t\tname: \"javascript\"\n\t},\n\tti: {\n\t\tanalyticsPlatformName: \"mobileweb\",\n\t\tbuildHash: \"3c5806f\",\n\t\tbuildDate: \"2/24/2017 19:26\",\n\t\tbuildType: \"\",\n\t\tcolorsModule: \"Ti/_/colors\",\n\t\tfilesystem: {\n\t\t\tregistry: \"ondemand\"\n\t\t},\n\t\tosName: \"mobileweb\",\n\t\tplatformName: \"mobileweb\",\n\t\ttheme: \"default\",\n\t\tversion: \"6.0.2\"\n\t},\n\tvendorPrefixes: {\n\t\tcss: [\"\", \"-webkit-\", \"-moz-\", \"-ms-\", \"-o-\", \"-khtml-\"],\n\t\tdom: [\"\", \"Webkit\", \"Moz\", \"ms\", \"O\", \"Khtml\"]\n\t}\n};\n\n/**\n * This file contains source code from the following:\n *\n * Dojo Toolkit\n * Copyright (c) 2005-2011, The Dojo Foundation\n * New BSD License\n * <http://dojotoolkit.org>\n *\n * require.js\n * Copyright (c) 2010-2011, The Dojo Foundation\n * New BSD License / MIT License\n * <http://requirejs.org>\n *\n * curl.js\n * Copyright (c) 2011 unscriptable.com / John Hann\n * MIT License\n * <https://github.com/unscriptable/curl>\n */\n\n(function(global) {\n\n\t\"use strict\";\n\n\tvar w, x, y, z,\n\n\t\t// cached useful regexes\n\t\treservedModuleIdsRegExp = /exports|module/,\n\t\tpluginRegExp = /^(.+?)\\!(.*)$/,\n\t\tnotModuleRegExp = /\\:|^\\/\\/|\\.js$/,\n\t\trelativeRegExp = /^\\./,\n\t\tabsoluteRegExp = /^\\.\\./,\n\t\tstartingSlashRegExp = /^\\//,\n\t\tendingSlashRegExp = /\\/$/,\n\t\tpackageNameRegExp = /([^\\/]+)\\/?(.*)/,\n\t\turlRegExp = /^url\\:(.+)/,\n\t\tjsFileRegExp = /\\.js$/,\n\n\t\t// the global config settings\n\t\tcfg = global.require || {},\n\n\t\t// the number of seconds to wait for a script to load before timing out\n\t\twaitSeconds = (cfg.waitSeconds || 7) * 1000,\n\n\t\t// a base url to be prepended to all urls\n\t\tbaseUrl = cfg.baseUrl || \"./\",\n\n\t\t// a timeout to fetch a remote resource, defaults to 2 seconds\n\t\ttimeout = cfg.timeout || 2000,\n\n\t\t// CommonJS paths\n\t\tpaths = cfg.paths || {},\n\n\t\t// a queue of module definitions to evaluate once a module has loaded\n\t\tdefQ = [],\n\n\t\t// map of module ids to functions containing an entire module, which could\n\t\t// include multiple defines. when a dependency is not defined, the loader\n\t\t// will check the cache to see if it exists first before fetching from the\n\t\t// server. this is used when the build system bundles modules into the\n\t\t// minified javascript files.\n\t\tdefCache = {},\n\n\t\t// map of package names to package resource definitions\n\t\tpackages = {},\n\n\t\t// module states\n\t\t// default state unloaded = 0\n\t\tREQUESTED = 1, // module is being downloaded\n\t\tLOADED    = 2, // module is downloaded, but not executing/executed\n\t\tEXECUTING = 3, // module is resolving dependencies and being evaluated\n\t\tEXECUTED  = 4, // module is fully executed\n\t\tBADMODULE = 5, // module errored out\n\n\t\t// map of module ids to module resource definitions that are being loaded and processed\n\t\twaiting = {},\n\n\t\t// map of module ids to module resource definitions\n\t\tmodules = {},\n\n\t\t// mixin of common functions\n\t\tfnMixin;\n\n\t/******************************************************************************\n\t * Utility functions\n\t *****************************************************************************/\n\n\tfunction noop() {}\n\n\tfunction mix(dest) {\n\t\t// summary:\n\t\t//\t\tCopies properties by reference from a source object to a destination\n\t\t//\t\tobject, then returns the destination object. To be clear, this will\n\t\t//\t\tmodify the dest being passed in.\n\t\tvar i = 1,\n\t\t\tl = arguments.length,\n\t\t\tp,\n\t\t\tsrc;\n\t\tdest || (dest = {});\n\t\twhile (i < l) {\n\t\t\tsrc = arguments[i++];\n\t\t\tfor (p in src) {\n\t\t\t\tsrc.hasOwnProperty(p) && (dest[p] = src[p]);\n\t\t\t}\n\t\t}\n\t\treturn dest;\n\t}\n\n\tfunction is(it, type) {\n\t\t// summary:\n\t\t//\t\tTests if \"it\" is a specific \"type\". If type is omitted, then\n\t\t//\t\tit will return the type.\n\t\t//\n\t\t// returns:\n\t\t//\t\tBoolean if type is passed in\n\t\t//\t\tString of type if type is not passed in\n\t\tvar t = Object.prototype.toString.call(it),\n\t\t\tv = it === void 0 ? \"Undefined\" : t.substring(8, t.length - 1);\n\t\treturn type ? type === v : v;\n\t}\n\n\tfunction isEmpty(it) {\n\t\t// summary:\n\t\t//\t\tChecks if an object is empty.\n\t\tvar p;\n\t\tfor (p in it) {\n\t\t\tbreak;\n\t\t}\n\t\treturn !it || (!it.call && !p);\n\t}\n\n\tfunction evaluate(code, sandboxVariables, globally) {\n\t\t// summary:\n\t\t//\t\tEvaluates code globally or in a sandbox.\n\t\t//\n\t\t// code: String\n\t\t//\t\tThe code to evaluate\n\t\t//\n\t\t// sandboxVariables: Object?\n\t\t//\t\tWhen \"globally\" is false, an object of names => values to initialize in\n\t\t//\t\tthe sandbox. The variable names must NOT contain '-' characters.\n\t\t//\n\t\t// globally: Boolean?\n\t\t//\t\tWhen true, evaluates the code in the global namespace, generally \"window\".\n\t\t//\t\tIf false, then it will evaluate the code in a sandbox.\n\n\t\tvar i,\n\t\t\tvars = [],\n\t\t\tvals = [],\n\t\t\tr;\n\n\t\tif (globally) {\n\t\t\tr = global.eval(code);\n\t\t} else {\n\t\t\tfor (i in sandboxVariables) {\n\t\t\t\tvars.push(i + \"=__vars.\" + i);\n\t\t\t\tvals.push(i + \":\" + i);\n\t\t\t}\n\t\t\tr = (new Function(\"__vars\", (vars.length ? \"var \" + vars.join(',') + \";\\n\" : '') + code + \"\\n;return {\" + vals.join(',') + \"};\"))(sandboxVariables);\n\t\t}\n\n\t\t// if the last line of a module is a console.*() call, Firebug for some reason\n\t\t// sometimes returns \"_firebugIgnore\" instead of undefined or null\n\t\treturn r === \"_firebugIgnore\" ? null : r;\n\t}\n\n\tfunction collapsePath(path) {\n\t\tvar result = [],\n\t\t\tsegment,\n\t\t\tlastSegment;\n\t\tpath = path.replace(/\\\\/g, '/').split('/');\n\t\twhile (path.length) {\n\t\t\tsegment = path.shift();\n\t\t\tif (segment === \"..\" && result.length && lastSegment !== \"..\") {\n\t\t\t\tresult.pop();\n\t\t\t\tlastSegment = result[result.length - 1];\n\t\t\t} else if (segment !== \".\") {\n\t\t\t\tresult.push(lastSegment = segment);\n\t\t\t}\n\t\t}\n\t\treturn result.join(\"/\");\n\t}\n\n\t/******************************************************************************\n\t * Event handling\n\t *****************************************************************************/\n\n\tfunction on(target, type, context, listener) {\n\t\t// summary:\n\t\t//\t\tConnects a listener to an event on the specified target.\n\t\t//\n\t\t// target: Object|DomNode\n\t\t//\t\tThe target to add the event listener to.\n\t\t//\n\t\t// type: String\n\t\t//\t\tThe event to listen for.\n\t\t//\n\t\t// context: Object|Function\n\t\t//\t\tWhen listener is defined, the context is the scope in which the listener\n\t\t//\t\tis executed.\n\t\t//\n\t\t// listener: Function?|String?\n\t\t//\t\tOptional. When present, the context is used as the scope.\n\t\t//\n\t\t// example:\n\t\t//\t\tAttaching to a click event:\n\t\t//\t\t|\ton(myButton, \"click\", function() {\n\t\t//\t\t|\t\talert(\"Howdy!\");\n\t\t//\t\t|\t});\n\t\t//\n\t\t// example:\n\t\t//\t\tAttaching to a click event within a declared class method:\n\t\t//\t\t|\t...\n\t\t//\t\t|\tconstructor: function() {\n\t\t//\t\t|\t\trequire.on(myButton, \"click\", this, \"onButtonClick\");\n\t\t//\t\t|\t},\n\t\t//\t\t|\tonButtonClick: function() {\n\t\t//\t\t|\t\talert(\"Howdy from \" + this.declaredClass + \"!\");\n\t\t//\t\t|\t}\n\t\t//\t\t|\t...\n\t\t//\n\t\t// example:\n\t\t//\t\tAttaching to a click event with an anonymous function in a declared class:\n\t\t//\t\t|\t...\n\t\t//\t\t|\tconstructor: function() {\n\t\t//\t\t|\t\trequire.on(myButton, \"click\", this, function() {\n\t\t//\t\t|\t\t\talert(\"Howdy from \" + this.declaredClass + \"!\");\n\t\t//\t\t|\t\t});\n\t\t//\t\t|\t}\n\t\t//\t\t|\t...\n\n\t\tvar cb = is(listener, \"Function\") ? function() {\n\t\t\treturn listener.apply(context, arguments);\n\t\t} : is(listener, \"String\") ? function() {\n\t\t\treturn context[listener].apply(context, arguments);\n\t\t} : context;\n\n\t\ttarget.addEventListener(type, cb, false);\n\t\treturn function() {\n\t\t\ttarget.removeEventListener(type, cb, false);\n\t\t};\n\t}\n\n\ton.once = function(target, type, listener) {\n\t\tvar h = on(target, type, function() {\n\t\t\th && h(); // do the disconnect\n\t\t\treturn listener.apply(this, arguments);\n\t\t});\n\t\treturn h;\n\t};\n\n\t/******************************************************************************\n\t * Promise\n\t *****************************************************************************/\n\n\tfunction Promise() {\n\t\tthis.thens = arguments.length ? [arguments] : [];\n\t}\n\n\tmix(Promise.prototype, {\n\n\t\tthen: function promiseThen() {\n\t\t\tthis.thens.push(arguments);\n\t\t\treturn this;\n\t\t},\n\n\t\tresolve: function promiseResolve() {\n\t\t\tthis._complete(0, arguments);\n\t\t},\n\n\t\treject: function promiseReject(ex) {\n\t\t\tthis._complete(1, ex instanceof Error ? ex : new Error(ex));\n\t\t},\n\n\t\t_complete: function promiseComplete(fnIdx, result) {\n\t\t\tthis.then = fnIdx ? function promiseCompleteReject(resolved, rejected) { rejected && rejected(result); }\n\t\t\t                   : function promiseCompleteResolve(resolved) { resolved && resolved.apply(null, result); };\n\t\t\tthis._complete = noop;\n\n\t\t\tfor (var i = 0, thens = this.thens, len = thens.length, fn; i < len;) {\n\t\t\t\tfn = thens[i++][fnIdx];\n\t\t\t\tfn && fn[fnIdx ? \"call\" : \"apply\"](null, result);\n\t\t\t}\n\n\t\t\tdelete this.thens;\n\t\t}\n\n\t});\n\n\t/******************************************************************************\n\t * Configuration processing\n\t *****************************************************************************/\n\n\t// make sure baseUrl ends with a slash\n\tif (!endingSlashRegExp.test(baseUrl)) {\n\t\tbaseUrl += \"/\";\n\t}\n\n\tfunction configPackage(/*String|Object*/pkg, /*String?*/dir) {\n\t\t// summary:\n\t\t//\t\tAn internal helper function to configure a package and add it to the array\n\t\t//\t\tof packages.\n\t\t//\n\t\t// pkg: String|Object\n\t\t//\t\tThe name of the package (if a string) or an object containing at a minimum\n\t\t//\t\tthe package's name, but possibly also the package's location and main\n\t\t//\t\tsource file\n\t\t//\n\t\t// dir: String?\n\t\t//\t\tOptional. A base URL to prepend to the package location\n\n\t\tpkg = pkg.name ? pkg : { name: pkg };\n\t\tpkg.location = (/^\\/\\/|\\:/.test(dir) ? dir : '') + (pkg.location || pkg.name);\n\t\tpkg.main = (pkg.main || \"main\").replace(/^\\.\\/|\\.js$/g, '');\n\t\tpackages[pkg.name] = pkg;\n\t}\n\n\t// first init all packages from the config\n\tif (y = cfg.packages) {\n\t\tfor (x = y.length - 1; x >= 0;) {\n\t\t\tconfigPackage(y[x--]);\n\t\t}\n\t\tdelete cfg.packages;\n\t}\n\n\t// second init all package paths and their packages from the config\n\tfor (x in w = cfg.packagePaths) {\n\t\tfor (y = w[x], z = y.length - 1; z >= 0;) {\n\t\t\tconfigPackage(y[z--], x + '/');\n\t\t}\n\t}\n\tdelete cfg.packagePaths;\n\n\t/******************************************************************************\n\t * Module functionality\n\t *****************************************************************************/\n\n\tfunction ResourceDef(name, refModule, deps, rawDef) {\n\t\t// summary:\n\t\t//\t\tA resource definition that describes a file or module being loaded.\n\t\t//\n\t\t// description:\n\t\t//\t\tA resource is anything that is \"required\" such as applications calling\n\t\t//\t\trequire() or a define() with dependencies.\n\t\t//\n\t\t//\t\tThis loader supports resources that define multiple modules, hence this\n\t\t//\t\tobject.\n\t\t//\n\t\t//\t\tIn addition, this object tracks the state of the resource (loaded,\n\t\t//\t\texecuted, etc) as well as loads a resource and executes the defintions.\n\t\t//\n\t\t// name: String\n\t\t//\t\tThe module id.\n\t\t//\n\t\t// deps: Array?\n\t\t//\t\tAn array of dependencies.\n\t\t//\n\t\t// rawDef: Object? | Function? | String?\n\t\t//\t\tThe object, function, or string that defines the resource.\n\t\t//\n\t\t// refModule: Object?\n\t\t//\t\tA reference map used for resolving module URLs.\n\n\t\tvar _t = this,\n\t\t\tmatch = name && name.match(pluginRegExp),\n\t\t\tisRelative = relativeRegExp.test(name),\n\t\t\tnotModule = notModuleRegExp.test(name),\n\t\t\texports = {},\n\t\t\tpkg = null,\n\t\t\tcjs,\n\t\t\ti,\n\t\t\tm,\n\t\t\tp,\n\t\t\turl = baseUrl,\n\t\t\tslice = Array.prototype.slice;\n\n\t\t// name could be:\n\t\t//  - a plugin\t\ttext!/some/file.html or include!/some/file.js\n\t\t//  - a module\t\tsome/module, /some/module, ./some/module, ../some/module\n\t\t//  - a js file\t\t/some/file.js\n\t\t//  - a url\t\t\thttp://www.google.com/some/file, //google.com/some/file\n\n\t\t_t.name = name;\n\t\t_t.deps = deps || [];\n\t\t_t.plugin = null;\n\t\t_t.rawDef = rawDef;\n\t\t_t.state = rawDef ? LOADED : 0;\n\t\t_t.refModule = refModule;\n\n\t\tif (!match && (notModule || (isRelative && !refModule))) {\n\t\t\t_t.url = name;\n\t\t} else {\n\t\t\tif (match) {\n\t\t\t\t_t.plugin = _t.deps.length;\n\t\t\t\t_t.pluginArgs = match[2];\n\t\t\t\t_t.pluginCfg = cfg[match[1]];\n\t\t\t\t_t.deps.push(match[1]);\n\t\t\t} else if (name) {\n\t\t\t\tname = (isRelative ? refModule.name + \"/../\" : '') + name.replace(startingSlashRegExp, '');\n\n\t\t\t\tif (absoluteRegExp.test(name)) {\n\t\t\t\t\tthrow new Error('Irrational path \"' + name + '\"');\n\t\t\t\t}\n\n\t\t\t\tmatch = name.match(packageNameRegExp);\n\t\t\t\tm = match && match[1];\n\n\t\t\t\tif (m) {\n\t\t\t\t\tp = packages[m];\n\t\t\t\t\tif (!p && pkg === null && refModule) {\n\t\t\t\t\t\tp = packages[m = refModule.pkg];\n\t\t\t\t\t\tisRelative || (match[2] = name);\n\t\t\t\t\t}\n\t\t\t\t\tif (p) {\n\t\t\t\t\t\t// module is a package\n\t\t\t\t\t\tpkg = m;\n\t\t\t\t\t\tendingSlashRegExp.test(i = p.location) || (i += '/');\n\t\t\t\t\t\tm = match[2];\n\t\t\t\t\t\turl += collapsePath(i + (m ? (p.root ? m : name) : p.main));\n\t\t\t\t\t\tm || (name = pkg + '/' + p.main);\n\t\t\t\t\t} else if (p = paths[m]) {\n\t\t\t\t\t\t// module is a path\n\t\t\t\t\t\tpkg = '';\n\t\t\t\t\t\t// currently we only support a single path\n\t\t\t\t\t\turl = is(p, \"Array\") ? p[0] : p;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t_t.name = name = collapsePath(name);\n\n\t\t\t\t// MUST set pkg to anything other than null, even if this module isn't in a package\n\t\t\t\tif (pkg === null || (!match && notModule)) {\n\t\t\t\t\tpkg = '';\n\t\t\t\t\turl += name;\n\t\t\t\t}\n\n\t\t\t\t_t.url = url + \".js\";\n\t\t\t}\n\t\t}\n\n\t\t_t.pkg = pkg;\n\n\t\t// our scoped require()\n\t\tfunction scopedRequire() {\n\t\t\tvar args = slice.call(arguments, 0);\n\t\t\treturn req.apply(null, [\n\t\t\t\targs[0],\n\t\t\t\targs[1] || 0,\n\t\t\t\targs[2] || 0,\n\t\t\t\t_t\n\t\t\t]);\n\t\t}\n\t\tscopedRequire.toUrl = function scopedToUrl() {\n\t\t\tvar args = slice.call(arguments, 0);\n\t\t\t_t.plugin === null && (args[1] = _t);\n\t\t\treturn toUrl.apply(null, args);\n\t\t};\n\t\tmix(scopedRequire, fnMixin, {\n\t\t\tcache: req.cache\n\t\t});\n\n\t\t_t.cjs = {\n\t\t\trequire: scopedRequire,\n\t\t\texports: exports,\n\t\t\tmodule: {\n\t\t\t\texports: exports\n\t\t\t}\n\t\t};\n\t}\n\n\tResourceDef.prototype.load = function load(sync) {\n\t\t// summary:\n\t\t//\t\tRetreives a remote script and inject it either by XHR (sync) or attaching\n\t\t//\t\ta script tag to the DOM (async). Once the resource is loaded, it will be\n\t\t//\t\texecuted.\n\t\t//\n\t\t// sync: Boolean\n\t\t//\t\tIf true, uses XHR, otherwise uses a script tag.\n\n\t\tvar s,\n\t\t\txhr,\n\t\t\tscriptTag,\n\t\t\tscriptTagLoadEvent,\n\t\t\tscriptTagErrorEvent,\n\t\t\tdoc = global.document,\n\t\t\t_t = this,\n\t\t\tname = _t.name,\n\t\t\tcached = defCache[name],\n\t\t\tpromise = _t.promise = (_t.promise || new Promise),\n\t\t\ttimer;\n\n\t\tfunction cleanup() {\n\t\t\tclearTimeout(timer);\n\t\t\tif (xhr) {\n\t\t\t\txhr.abort();\n\t\t\t}\n\t\t\tif (scriptTag) {\n\t\t\t\tscriptTagLoadEvent();\n\t\t\t\tscriptTagErrorEvent();\n\t\t\t\tscriptTag.parentNode.removeChild(scriptTag);\n\t\t\t}\n\t\t}\n\n\t\tfunction onload(rawDef) {\n\t\t\tcleanup();\n\t\t\t_t.state = EXECUTING;\n\n\t\t\t// if rawDef is undefined, then we're loading async\n\t\t\tif (_t.rawDef = rawDef) {\n\t\t\t\tif (is(rawDef, \"String\")) {\n\t\t\t\t\t// if rawDef is a string, then it's either a cached string or xhr response.\n\t\t\t\t\t// the string could contain an AMD module or CommonJS module\n\t\t\t\t\tif (jsFileRegExp.test(_t.url)) {\n\t\t\t\t\t\trawDef = evaluate(rawDef, _t.cjs);\n\t\t\t\t\t\t_t.def = _t.rawDef = !isEmpty(rawDef.exports) ? rawDef.exports : (rawDef.module && !isEmpty(rawDef.module.exports) ? rawDef.module.exports : null);\n\t\t\t\t\t\t_t.def === null && (_t.rawDef = rawDef);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_t.def = rawDef;\n\t\t\t\t\t\t_t.state = EXECUTED;\n\t\t\t\t\t}\n\t\t\t\t} else if (is(rawDef, \"Function\")) {\n\t\t\t\t\t// if rawDef is a function, then it's a cached module definition\n\t\t\t\t\twaiting[name] = _t;\n\t\t\t\t\trawDef();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// we need to process the definition queue just in case the rawDef fired define()\n\t\t\tprocessDefQ(_t) || _t.execute();\n\t\t}\n\n\t\tfunction onfail(msg) {\n\t\t\tcleanup();\n\t\t\tmodules[name] = 0;\n\t\t\tdelete waiting[name];\n\t\t\t_t.state = BADMODULE;\n\t\t\tpromise.reject('Failed to load module \"'+ name + '\"' + (msg ? ': ' + msg : ''));\n\t\t}\n\n\t\t// if we don't have a url, then I suppose we're loaded\n\t\tif (_t.state === EXECUTED || !_t.url) {\n\t\t\t_t.execute();\n\n\t\t// if we're not executing and not already waiting, then fetch the module\n\t\t} else if (_t.state !== EXECUTING && !waiting[name]) {\n\n\t\t\t// if the definition has been cached, no need to load it\n\t\t\tif (_t.state === LOADED || cached) {\n\t\t\t\tdelete defCache[name];\n\t\t\t\tonload(cached);\n\n\t\t\t} else {\n\t\t\t\t// mark this module as waiting to be loaded so that anonymous modules can be identified\n\t\t\t\twaiting[name] = _t;\n\t\t\t\t_t.state = REQUESTED;\n\n\t\t\t\ttimeout && (timer = setTimeout(function() {\n\t\t\t\t\tonfail(\"request timed out\");\n\t\t\t\t}, timeout));\n\n\t\t\t\tif (_t.sync = sync) {\n\t\t\t\t\txhr = new XMLHttpRequest;\n\t\t\t\t\txhr.open(\"GET\", _t.url, false);\n\t\t\t\t\txhr.send(null);\n\n\t\t\t\t\tif (xhr.status === 200) {\n\t\t\t\t\t\tonload(xhr.responseText);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tonfail(xhr.status);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// insert the script tag, attach onload, wait\n\t\t\t\t\tscriptTag = _t.node = doc.createElement(\"script\");\n\t\t\t\t\tscriptTag.type = \"text/javascript\";\n\t\t\t\t\tscriptTag.charset = \"utf-8\";\n\t\t\t\t\tscriptTag.async = true;\n\n\t\t\t\t\tscriptTagLoadEvent = on(scriptTag, \"load\", function onScriptTagLoad(e) {\n\t\t\t\t\t\te = e || global.event;\n\t\t\t\t\t\tvar node = e.target || e.srcElement;\n\t\t\t\t\t\tif (e.type === \"load\" || /complete|loaded/.test(node.readyState)) {\n\t\t\t\t\t\t\tscriptTagLoadEvent();\n\t\t\t\t\t\t\tscriptTagErrorEvent();\n\t\t\t\t\t\t\tonload();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tscriptTagErrorEvent = on(scriptTag, \"error\", function() {\n\t\t\t\t\t\tonfail();\n\t\t\t\t\t});\n\n\t\t\t\t\t// set the source url last\n\t\t\t\t\tscriptTag.src = _t.url;\n\n\t\t\t\t\ts = doc.getElementsByTagName(\"script\")[0];\n\t\t\t\t\ts.parentNode.insertBefore(scriptTag, s);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn promise;\n\t};\n\n\tResourceDef.prototype.execute = function execute() {\n\t\t// summary:\n\t\t//\t\tExecutes the resource's rawDef which defines the module.\n\n\t\tvar _t = this,\n\t\t\tpromise = _t.promise = (_t.promise || new Promise),\n\t\t\tresolve = promise.resolve;\n\n\t\tif (_t.state === EXECUTED) {\n\t\t\tresolve.call(promise, _t);\n\t\t\treturn;\n\t\t}\n\n\t\t// first need to make sure we have all the deps loaded\n\t\treq(_t, function onExecuteDepsLoaded() {\n\t\t\tvar i,\n\t\t\t\tp,\n\t\t\t\tr = _t.rawDef,\n\t\t\t\tq = defQ.slice(0); // backup the defQ\n\n\t\t\tfunction finish() {\n\t\t\t\t_t.state = EXECUTED;\n\t\t\t\tdelete _t.deps;\n\t\t\t\tdelete _t.rawDef;\n\t\t\t\tresolve.call(promise, _t);\n\t\t\t}\n\n\t\t\t// need to wipe out the defQ\n\t\t\tdefQ = [];\n\n\t\t\t_t.def = _t.def\n\t\t\t\t||\t(r && (is(r, \"String\")\n\t\t\t\t\t\t? evaluate(r, _t.cjs)\n\t\t\t\t\t\t: is(r, \"Function\")\n\t\t\t\t\t\t\t? r.apply(null, arguments)\n\t\t\t\t\t\t\t: is(r, \"Object\")\n\t\t\t\t\t\t\t\t?\t(function(obj, vars) {\n\t\t\t\t\t\t\t\t\t\tfor (var i in vars) {\n\t\t\t\t\t\t\t\t\t\t\tthis[i] = vars[i];\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\treturn obj;\n\t\t\t\t\t\t\t\t\t}).call({}, r, _t.cjs)\n\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t|| _t.cjs.module.exports || _t.cjs.exports;\n\n\t\t\t// we might have just executed code above that could have caused a couple define()'s to queue up\n\t\t\tprocessDefQ(_t);\n\n\t\t\t// restore the defQ\n\t\t\tdefQ = q;\n\n\t\t\t// if plugin is not null, then it's the index in the deps array of the plugin to invoke\n\t\t\tif (_t.plugin !== null) {\n\t\t\t\tp = arguments[_t.plugin];\n\n\t\t\t\t// the plugin's content is dynamic, so just remove from the module cache\n\t\t\t\tif (p.dynamic) {\n\t\t\t\t\tdelete modules[_t.name];\n\t\t\t\t}\n\n\t\t\t\t// if the plugin has a load function, then invoke it!\n\t\t\t\tp.load && p.load(_t.pluginArgs, _t.cjs.require, function onPluginRun(v) {\n\t\t\t\t\t_t.def = v;\n\t\t\t\t\tfinish();\n\t\t\t\t}, _t.pluginCfg);\n\t\t\t}\n\n\t\t\t(p && p.load) || finish();\n\t\t}, function(ex) {\n\t\t\tpromise.reject(ex);\n\t\t}, _t.refModule, _t.sync);\n\t};\n\n\tfunction getResourceDef(name, refModule, deps, rawDef, dontCache, overrideCache) {\n\t\t// summary:\n\t\t//\t\tCreates a new resource definition or returns an existing one from cache.\n\n\t\tvar module = new ResourceDef(name, refModule, deps, rawDef),\n\t\t\tmoduleName = module.name;\n\n\t\tif (refModule && refModule.cjs && name in refModule.cjs) {\n\t\t\tmodule.def = refModule.cjs[name];\n\t\t\tmodule.state = EXECUTED;\n\t\t\tdontCache = 1;\n\t\t}\n\n\t\treturn dontCache || !moduleName ? module : (!modules[moduleName] || !modules[moduleName].state || overrideCache ? (modules[moduleName] = module) : modules[moduleName]);\n\t}\n\n\tfunction processDefQ(module) {\n\t\t// summary:\n\t\t//\t\tExecutes all modules sitting in the define queue.\n\t\t//\n\t\t// description:\n\t\t//\t\tWhen a resource is loaded, the remote AMD resource is fetched, it's\n\t\t//\t\tpossible that one of the define() calls was anonymous, so it should\n\t\t//\t\tbe sitting in the defQ waiting to be executed.\n\n\t\tvar m,\n\t\t\tq = defQ.slice(0),\n\t\t\tr = 0;\n\t\tdefQ = [];\n\n\t\twhile (q.length) {\n\t\t\tm = q.shift();\n\n\t\t\t// if the module is anonymous, assume this module's name\n\t\t\tm.name || (m.name = module.name);\n\n\t\t\t// if the module is this module, then modify this\n\t\t\tif (m.name === module.name) {\n\t\t\t\tmodules[m.name] = module;\n\t\t\t\tmodule.deps = m.deps;\n\t\t\t\tmodule.rawDef = m.rawDef;\n\t\t\t\tmodule.refModule = m.refModule;\n\t\t\t\tmodule.execute();\n\t\t\t\tr = 1;\n\t\t\t} else {\n\t\t\t\tmodules[m.name] = m;\n\t\t\t\tm.execute();\n\t\t\t}\n\t\t}\n\n\t\tdelete waiting[module.name];\n\t\treturn r;\n\t}\n\n\tfunction def(name, deps, rawDef) {\n\t\t// summary:\n\t\t//\t\tUsed to define a module and it's dependencies.\n\t\t//\n\t\t// description:\n\t\t//\t\tDefines a module. If the module has any dependencies, the loader will\n\t\t//\t\tresolve them before evaluating the module.\n\t\t//\n\t\t//\t\tIf any of the dependencies fail to load or the module definition causes\n\t\t//\t\tan error, the entire definition is aborted.\n\t\t//\n\t\t// name: String|Array?\n\t\t//\t\tOptional. The module name (if a string) or array of module IDs (if an array) of the module being defined.\n\t\t//\n\t\t// deps: Array?\n\t\t//\t\tOptional. An array of module IDs that the rawDef being defined requires.\n\t\t//\n\t\t// rawDef: Object|Function\n\t\t//\t\tAn object or function that returns an object defining the module.\n\t\t//\n\t\t// example:\n\t\t//\t\tAnonymous module, no deps, object definition.\n\t\t//\n\t\t//\t\tLoader tries to detect module name, fails and ignores definition if more\n\t\t//\t\tunable to determine name or there's already anonymous module tied to the\n\t\t//\t\tname found.\n\t\t//\n\t\t//\t\tIf the module name is determined, then the module definition\n\t\t//\t\tis immediately defined.\n\t\t//\n\t\t//\t\t|\tdefine({\n\t\t//\t\t|\t\tsq: function(x) { return x * x; }\n\t\t//\t\t|\t});\n\t\t//\n\t\t// example:\n\t\t//\t\tAnonymous module, no deps, rawDef definition.\n\t\t//\n\t\t//\t\tLoader tries to detect module name, fails and ignores definition if more\n\t\t//\t\tunable to determine name or there's already anonymous module tied to the\n\t\t//\t\tname found.\n\t\t//\n\t\t//\t\tSince no deps, module definition is treated as a CommonJS module and is\n\t\t//\t\tpassed in passed require, exports, and module arguments, then immediately\n\t\t//\t\tevaluated.\n\t\t//\n\t\t//\t\t|\tdefine(function(require, exports, module) {\n\t\t//\t\t|\t\treturn {\n\t\t//\t\t|\t\t\tsq: function(x) { return x * x; }\n\t\t//\t\t|\t\t};\n\t\t//\t\t|\t});\n\t\t//\n\t\t// example:\n\t\t//\t\tNamed module, no deps, object definition.\n\t\t//\n\t\t//\t\tSince no deps, the module definition is immediately defined.\n\t\t//\n\t\t//\t\t|\tdefine(\"arithmetic\", {\n\t\t//\t\t|\t\tsq: function(x) { return x * x; }\n\t\t//\t\t|\t});\n\t\t//\n\t\t// example:\n\t\t//\t\tNamed module, no deps, rawDef definition.\n\t\t//\n\t\t//\t\tSince no deps, module definition is treated as a CommonJS module and is\n\t\t//\t\tpassed in passed require, exports, and module arguments, then immediately\n\t\t//\t\tevaluated.\n\t\t//\n\t\t//\t\t|\tdefine(\"arithmetic\", function(require, exports, module) {\n\t\t//\t\t|\t\treturn {\n\t\t//\t\t|\t\t\tsq: function(x) { return x * x; }\n\t\t//\t\t|\t\t};\n\t\t//\t\t|\t});\n\t\t//\n\t\t// example:\n\t\t//\t\tAnonymous module, two deps, object definition.\n\t\t//\n\t\t//\t\tLoader tries to detect module name, fails and ignores definition if more\n\t\t//\t\tunable to determine name or there's already anonymous module tied to the\n\t\t//\t\tname found.\n\t\t//\n\t\t//\t\tIf the module name is determined, then the loader will load the two\n\t\t//\t\tdependencies, then once the dependencies are loaded, it will evaluate a\n\t\t//\t\tfunction wrapper around the module definition.\n\t\t//\n\t\t//\t\t|\tdefine([\"dep1\", \"dep2\"], {\n\t\t//\t\t|\t\tsq: function(x) { return x * x; }\n\t\t//\t\t|\t});\n\t\t//\n\t\t// example:\n\t\t//\t\tAnonymous module, two deps, function definition.\n\t\t//\n\t\t//\t\tLoader tries to detect module name, fails and ignores definition if more\n\t\t//\t\tunable to determine name or there's already anonymous module tied to the\n\t\t//\t\tname found.\n\t\t//\n\t\t//\t\tIf the module name is determined, then the loader will load the two\n\t\t//\t\tdependencies, then once the dependencies are loaded, it will evaluate\n\t\t//\t\tthe rawDef function.\n\t\t//\n\t\t//\t\t|\tdefine([\"dep1\", \"dep2\"], function(dep1, dep2) {\n\t\t//\t\t|\t\treturn {\n\t\t//\t\t|\t\t\tsq: function(x) { return x * x; }\n\t\t//\t\t|\t\t};\n\t\t//\t\t|\t});\n\t\t//\n\t\t// example:\n\t\t//\t\tName module, two deps, object definition.\n\t\t//\n\t\t//\t\tAfter the two dependencies are loaded, the loader will evaluate a\n\t\t//\t\tfunction wrapper around the module definition.\n\t\t//\n\t\t//\t\t|\tdefine(\"arithmetic\", [\"dep1\", \"dep2\"], {\n\t\t//\t\t|\t\tsq: function(x) { return x * x; }\n\t\t//\t\t|\t});\n\t\t//\n\t\t// example:\n\t\t//\t\tName module, two deps, function definition.\n\t\t//\n\t\t//\t\tAfter the two dependencies are loaded, the loader will evaluate the\n\t\t//\t\tfunction rawDef.\n\t\t//\n\t\t//\t\t|\tdefine(\"arithmetic\", [\"dep1\", \"dep2\"], function(dep1, dep2) {\n\t\t//\t\t|\t\treturn {\n\t\t//\t\t|\t\t\tsq: function(x) { return x * x; }\n\t\t//\t\t|\t\t};\n\t\t//\t\t|\t});\n\n\t\tvar i = [\"require\", \"exports\", \"module\"],\n\t\t\tmodule;\n\n\t\tif (!rawDef) {\n\t\t\trawDef = deps || name;\n\t\t\tif (typeof name !== \"string\") {\n\t\t\t\tdeps = deps ? name : i;\n\t\t\t\tname = 0;\n\t\t\t} else {\n\t\t\t\tdeps = i;\n\t\t\t}\n\t\t}\n\n\t\tif (reservedModuleIdsRegExp.test(name)) {\n\t\t\tthrow new Error('Not allowed to define reserved module id \"' + name + '\"');\n\t\t}\n\n\t\tmodule = getResourceDef(name, 0, deps, rawDef, 0, 1);\n\n\t\t// if not waiting for this module to be loaded, then the define() call was\n\t\t// possibly inline or deferred, so try fulfill dependencies, and define the\n\t\t// module right now.\n\t\tif (name && !waiting[name]) {\n\t\t\tmodule.execute();\n\n\t\t// otherwise we are definitely waiting for a script to load, eventhough we\n\t\t// may not know the name, we'll know when the script's onload fires.\n\t\t} else if (name || !isEmpty(waiting)) {\n\t\t\tdefQ.push(module);\n\n\t\t// finally, we we're ask to define something without a name and there's no\n\t\t// scripts pending, so there's no way to know what the name is. :(\n\t\t} else {\n\t\t\tthrow new Error(\"Unable to define anonymous module\");\n\t\t}\n\t}\n\n\t// set the \"amd\" property and advertise supported features\n\tdef.amd = {\n\t\tplugins: true,\n\t\tvendor: \"titanium\"\n\t};\n\n\tfunction toUrl(name, refModule) {\n\t\t// summary:\n\t\t//\t\tConverts a module name including extension to a URL path.\n\t\t//\n\t\t// name: String\n\t\t//\t\tThe module name including extension.\n\t\t//\n\t\t// returns: String\n\t\t//\t\tThe fully resolved URL.\n\t\t//\n\t\t// example:\n\t\t//\t\tReturns the URL for a HTML template file.\n\t\t//\t\t|\tdefine(function(require) {\n\t\t//\t\t|\t\tvar templatePath = require.toUrl(\"./templates/example.html\");\n\t\t//\t\t|\t});\n\n\t\tvar\tmatch = name.match(/(.+)(\\.[^\\/\\.]+?)$/),\n\t\t\tmodule = getResourceDef((match && match[1]) || name, refModule, 0, 0, 1),\n\t\t\turl = module.url;\n\n\t\tmodule.pkg !== null && (url = url.substring(0, url.length - 3));\n\t\treturn url + ((match && match[2]) || '');\n\t}\n\n\tfunction req(deps, callback, errback, refModule, sync) {\n\t\t// summary:\n\t\t//\t\tFetches a module, caches its definition, and returns the module. If an\n\t\t//\t\tarray of modules is specified, then after all of them have been\n\t\t//\t\tasynchronously loaded, an optional callback is fired.\n\t\t//\n\t\t// deps: String | Array | Object\n\t\t//\t\tA string or array of strings containing valid module identifiers.\n\t\t//\n\t\t// callback: Function?\n\t\t//\t\tOptional. A function that is fired after all dependencies have been\n\t\t//\t\tloaded. Only applicable if deps is an array.\n\t\t//\n\t\t// refModule: Object?\n\t\t//\t\tA reference map used for resolving module URLs.\n\t\t//\n\t\t// sync: Boolean?\n\t\t//\t\tForces the async path to be sync.\n\t\t//\n\t\t// returns: Object | Promise\n\t\t//\t\tIf calling with a string, it will return the corresponding module\n\t\t//\t\tdefinition, otherwise it returns a Promise for the async loading.\n\t\t//\n\t\t// example:\n\t\t//\t\tSynchronous call.\n\t\t//\t\t|\trequire(\"arithmetic\").sq(10); // returns 100\n\t\t//\n\t\t// example:\n\t\t//\t\tAsynchronous call.\n\t\t//\t\t|\trequire([\"arithmetic\", \"convert\"], function(arithmetic, convert) {\n\t\t//\t\t|\t\tconvert(arithmetic.sq(10), \"fahrenheit\", \"celsius\"); // returns 37.777\n\t\t//\t\t|\t});\n\n\t\tvar i = 0,\n\t\t\tl,\n\t\t\tcounter,\n\t\t\terrorCount = 0,\n\t\t\ttype = is(deps),\n\t\t\ts = type === \"String\",\n\t\t\tpromise = new Promise(callback, errback);\n\n\t\tif (type === \"Object\") {\n\t\t\trefModule = deps;\n\t\t\tdeps = refModule.deps || [];\n\t\t}\n\n\t\tif (s) {\n\t\t\tdeps = [deps];\n\t\t\tsync = 1;\n\t\t}\n\n\t\tfor (l = counter = deps.length; i < l;) {\n\t\t\t(function requireDepClosure(j) {\n\t\t\t\tfunction finish(m) {\n\t\t\t\t\tdeps[j] = m instanceof Error && ++errorCount ? void 0 : m.def;\n\t\t\t\t\tif (--counter === 0) {\n\t\t\t\t\t\terrorCount ? promise.reject(m) : promise.resolve.apply(promise, deps);\n\t\t\t\t\t\tcounter = -1; // prevent success from being called the 2nd time below\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tdeps[j] && getResourceDef(deps[j], refModule).load(sync).then(finish, finish);\n\t\t\t}(i++));\n\t\t}\n\n\t\tcounter === 0 && promise.resolve.apply(promise, deps);\n\n\t\treturn s ? deps[0] : promise;\n\t}\n\n\treq.toUrl = toUrl;\n\tmix(req, fnMixin = {\n\t\tconfig: cfg,\n\t\tevaluate: evaluate,\n\t\tis: is,\n\t\tisEmpty: isEmpty,\n\t\tmix: mix,\n\t\ton: on,\n\t\tPromise: Promise\n\t});\n\n\treq.cache = function requireCache(subject) {\n\t\t// summary:\n\t\t//\t\tCopies module definitions into the definition cache.\n\t\t//\n\t\t// description:\n\t\t//\t\tWhen running a build, the build will call this function and pass in an\n\t\t//\t\tobject with module id => function. Each function contains the contents\n\t\t//\t\tof the module's file.\n\t\t//\n\t\t//\t\tWhen a module is required, the loader will first see if the module has\n\t\t//\t\talready been defined.  If not, it will then check this cache and execute\n\t\t//\t\tthe module definition.  Modules not defined or cached will be fetched\n\t\t//\t\tremotely.\n\t\t//\n\t\t// subject: String | Object\n\t\t//\t\tWhen a string, returns the cached object or undefined otherwise an object\n\t\t//\t\twith module id => function where each function wraps a module.\n\t\t//\n\t\t// example:\n\t\t//\t\tThis shows what build system would generate. You should not need to do this.\n\t\t//\t\t|\trequire.cache({\n\t\t//\t\t|\t\t\"arithmetic\": function() {\n\t\t//\t\t|\t\t\tdefine([\"dep1\", \"dep2\"], function(dep1, dep2) {\n\t\t//\t\t|\t\t\t\tvar api = { sq: function(x) { return x * x; } };\n\t\t//\t\t|\t\t\t});\n\t\t//\t\t|\t\t},\n\t\t//\t\t|\t\t\"my/favorite\": function() {\n\t\t//\t\t|\t\t\tdefine({\n\t\t//\t\t|\t\t\t\tcolor: \"red\",\n\t\t//\t\t|\t\t\t\tfood: \"pizza\"\n\t\t//\t\t|\t\t\t});\n\t\t//\t\t|\t\t}\n\t\t//\t\t|\t});\n\t\tvar p, m;\n\t\tif (is(subject, \"String\")) {\n\t\t\treturn defCache[subject];\n\t\t} else {\n\t\t\tfor (p in subject) {\n\t\t\t\tm = p.match(urlRegExp);\n\t\t\t\tif (m) {\n\t\t\t\t\tdefCache[toUrl(m[1])] = subject[p];\n\t\t\t\t} else {\n\t\t\t\t\tm = getResourceDef(p, 0, 0, subject[p], 1);\n\t\t\t\t\tdefCache[m.name] = m.rawDef;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t// expose require() and define() to the global namespace\n\tglobal.require = req;\n\tglobal.define = def;\n\n}(window));\n\nrequire.cache({\n\"Ti\":function(){\n/* /titanium/Ti.js */\n\n/**\n * This file contains source code from the following:\n *\n * es5-shim\n * Copyright 2009, 2010 Kristopher Michael Kowal\n * MIT License\n * <https://github.com/kriskowal/es5-shim>\n *\n * Dojo Toolkit\n * Copyright (c) 2005-2011, The Dojo Foundation\n * New BSD License\n * <http://dojotoolkit.org>\n */\n\ndefine(\n\t[\"Ti/_\", \"Ti/API\", \"Ti/_/analytics\", \"Ti/App\", \"Ti/_/Evented\", \"Ti/_/has\", \"Ti/_/lang\", \"Ti/_/ready\", \"Ti/_/style\", \"Ti/Buffer\", \"Ti/Platform\", \"Ti/UI\", \"Ti/Locale\", \"Ti/_/include\"],\n\tfunction(_, API, analytics, App, Evented, has, lang, ready, style, Buffer, Platform, UI) {\n\n\tvar global = window,\n\t\treq = require,\n\t\tcfg = req.config,\n\t\tdeployType = App.deployType,\n\t\tver = cfg.ti.version,\n\t\tis = req.is,\n\t\ton = req.on,\n\t\tloaded,\n\t\tunloaded,\n\t\tshowingError,\n\t\twaiting = [],\n\t\tTi = lang.setObject(\"Ti\", Evented, {\n\t\t\tconstants: {\n\t\t\t\tbuildDate: cfg.ti.buildDate,\n\t\t\t\tbuildHash: cfg.ti.buildHash,\n\t\t\t\tversion: ver\n\t\t\t},\n\n\t\t\tproperties: {\n\t\t\t\tuserAgent: function() {\n\t\t\t\t\treturn navigator.userAgent;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tcreateBuffer: function(args) {\n\t\t\t\treturn new Buffer(args);\n\t\t\t},\n\t\t\tinclude: function(files) {\n\t\t\t\ttypeof files === \"array\" || (files = [].concat(Array.prototype.slice.call(arguments, 0)));\n\t\t\t\tfiles.forEach(function(f) {\n\t\t\t\t\trequire(\"Ti/_/include!\" + f);\n\t\t\t\t});\n\t\t\t},\n\t\t\tdeferStart: function() {\n\t\t\t\tif (loaded) {\n\t\t\t\t\tAPI.warn(\"app.js already loaded!\");\n\t\t\t\t} else {\n\t\t\t\t\tvar n = Math.round(Math.random()*1e12);\n\t\t\t\t\twaiting.push(n);\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\tvar p = waiting.indexOf(n);\n\t\t\t\t\t\t~p && waiting.splice(p, 1);\n\t\t\t\t\t\tloaded = 1;\n\t\t\t\t\t\tif (!waiting.length) {\n\t\t\t\t\t\t\thas(\"ti-instrumentation\") && instrumentation.stopTest(instrumentation.systemLoadTimeTest);\n\t\t\t\t\t\t\trequire(cfg.main || [\"//test/titanium/app.test.js\"]);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t}),\n\t\tloadAppjs = Ti.deferStart();\n\n\tif (!has(\"js-btoa\")) {\n\t\tvar tab = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",\n\t\t\tfromCharCode = String.fromCharCode;\n\n\t\tglobal.btoa = function(bytes) {\n\t\t\tvar ascii = [],\n\t\t\t\tchr1, chr2, chr3,\n\t\t\t\tenc1, enc2, enc3, enc4,\n\t\t\t\ti = 0,\n\t\t\t\tlen = bytes.length;\n\n\t\t\twhile (i < len) {\n\t\t\t\tchr1 = bytes.charCodeAt(i++);\n\t\t\t\tchr2 = bytes.charCodeAt(i++);\n\t\t\t\tchr3 = bytes.charCodeAt(i++);\n\n\t\t\t\tenc1 = chr1 >> 2;\n\t\t\t\tenc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\n\t\t\t\tenc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\n\t\t\t\tenc4 = chr3 & 63;\n\n\t\t\t\tif (isNaN(chr2)) {\n\t\t\t\t\tenc3 = enc4 = 64;\n\t\t\t\t} else if (isNaN(chr3)) {\n\t\t\t\t\tenc4 = 64;\n\t\t\t\t}\n\n\t\t\t\tascii.push(tab.charAt(enc1) + tab.charAt(enc2) + tab.charAt(enc3) + tab.charAt(enc4));\n\t\t\t}\n\n\t\t\treturn ascii.join('');\n\t\t};\n\n\t\tglobal.atob = function(ascii) {\n\t\t\tvar bytes = [],\n\t\t\t\tenc1, enc2, enc3, enc4,\n\t\t\t\ti = 0,\n\t\t\t\tlen = ascii.length;\n\n\t\t\tascii = ascii.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\n\n\t\t\twhile (i < len) {\n\t\t\t\tenc1 = tab.indexOf(ascii.charAt(i++));\n\t\t\t\tenc2 = tab.indexOf(ascii.charAt(i++));\n\t\t\t\tenc3 = tab.indexOf(ascii.charAt(i++));\n\t\t\t\tenc4 = tab.indexOf(ascii.charAt(i++));\n\n\t\t\t\tbytes.push(fromCharCode((enc1 << 2) | (enc2 >> 4)));\n\n\t\t\t\tenc3 !== 64 && bytes.push(fromCharCode(((enc2 & 15) << 4) | (enc3 >> 2)));\n\t\t\t\tenc4 !== 64 && bytes.push(fromCharCode(((enc3 & 3) << 6) | enc4));\n\t\t\t}\n\n\t\t\treturn bytes.join('');\n\t\t};\n\t}\n\n\t// protect global titanium object\n\tObject.defineProperty(global, \"Ti\", { value: Ti, writable: false });\n\tObject.defineProperty(global, \"Titanium\", { value: Ti, writable: false });\n\n\tAPI.info(\"Appcelerator Titanium \" + ver + \" Mobile Web\");\n\n\t// make sure we have some vendor prefixes defined\n\tcfg.vendorPrefixes || (cfg.vendorPrefixes = [\"\", \"Moz\", \"Webkit\", \"O\", \"ms\"]);\n\n\tfunction shutdown() {\n\t\tif (!unloaded) {\n\t\t\tunloaded = 1;\n\t\t\tApp.fireEvent(\"close\");\n\t\t\tanalytics.add(\"ti.end\", \"ti.end\");\n\t\t}\n\t}\n\n\ton(global, \"beforeunload\", shutdown);\n\ton(global, \"unload\", shutdown);\n\n\tif (has(\"ti-show-errors\")) {\n\t\ton(global, \"error\", function(e) {\n\t\t\tif (!showingError) {\n\t\t\t\tshowingError = 1;\n\n\t\t\t\tvar f = e.filename || \"\",\n\t\t\t\t\tmatch = f.match(/:\\/\\/.+(\\/.*)/),\n\t\t\t\t\tfilename = match ? match[1] : e.filename,\n\t\t\t\t\tline = e.lineno,\n\t\t\t\t\twin = UI.createWindow({\n\t\t\t\t\t\tbackgroundColor: \"#f00\",\n\t\t\t\t\t\ttop: \"100%\",\n\t\t\t\t\t\theight: \"100%\",\n\t\t\t\t\t\tlayout: UI._LAYOUT_CONSTRAINING_VERTICAL\n\t\t\t\t\t}),\n\t\t\t\t\tview,\n\t\t\t\t\tbutton;\n\n\t\t\t\tfunction makeLabel(text, height, color, fontSize) {\n\t\t\t\t\twin.add(UI.createLabel({\n\t\t\t\t\t\tcolor: color,\n\t\t\t\t\t\tfont: { fontSize: fontSize, fontWeight: \"bold\" },\n\t\t\t\t\t\theight: height,\n\t\t\t\t\t\tleft: 10,\n\t\t\t\t\t\tright: 10,\n\t\t\t\t\t\ttextAlign: UI.TEXT_ALIGNMENT_CENTER,\n\t\t\t\t\t\ttext: text\n\t\t\t\t\t}));\n\t\t\t\t}\n\n\t\t\t\tmakeLabel(\"Application Error\", \"15%\", \"#0f0\", \"24pt\");\n\t\t\t\tmakeLabel((e.message || \"Unknown error\").trim() + (filename && filename !== \"undefined\" ? \" at \" + filename : \"\") + (line ? \" (line \" + line + \")\" : \"\"), \"45%\", \"#fff\", \"16pt\");\n\n\t\t\t\twin.add(view = UI.createView({ height: \"12%\" }));\n\t\t\t\tview.add(button = UI.createButton({ title: \"Dismiss\" }));\n\t\t\t\twin.addEventListener(\"close\", function() { win.destroy(); });\n\t\t\t\tbutton.addEventListener(\"singletap\", function() {\n\t\t\t\t\twin.animate({\n\t\t\t\t\t\tduration: 500,\n\t\t\t\t\t\ttop: \"100%\"\n\t\t\t\t\t}, function() {\n\t\t\t\t\t\twin.close();\n\t\t\t\t\t\tshowingError = 0;\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tmakeLabel(\"Error messages will only be displayed during development. When your app is packaged for final distribution, no error screen will appear. Test your code!\", \"28%\", \"#000\", \"10pt\");\n\n\t\t\t\ton.once(win,\"postlayout\", function() {\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\twin.animate({\n\t\t\t\t\t\t\tduration: 500,\n\t\t\t\t\t\t\ttop: 0\n\t\t\t\t\t\t}, function() {\n\t\t\t\t\t\t\twin.top = 0;\n\t\t\t\t\t\t\twin.height = \"100%\";\n\t\t\t\t\t\t});\n\t\t\t\t\t}, 100);\n\t\t\t\t});\n\n\t\t\t\twin.open();\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\t}\n\n\tready(function() {\n\t\tstyle.set(document.body, {\n\t\t\tmargin: 0,\n\t\t\tpadding: 0\n\t\t});\n\n\t\tif (App.analytics) {\n\t\t\tvar analyticsPlatformName = require.config.ti.analyticsPlatformName;\n\n\t\t\t// enroll event\n\t\t\tif (localStorage.getItem(\"ti:enrolled\") === null) {\n\t\t\t\t// setup enroll event\n\t\t\t\tanalytics.add(\"ti.enroll\", \"ti.enroll\", {\n\t\t\t\t\tapp_name: App.name,\n\t\t\t\t\tapp_version: App.version,\n\t\t\t\t\toscpu: 1,\n\t\t\t\t\tmac_addr: null,\n\t\t\t\t\tdeploytype: deployType,\n\t\t\t\t\tostype: Platform.osname,\n\t\t\t\t\tosarch: null,\n\t\t\t\t\tapp_id: App.id,\n\t\t\t\t\tplatform: analyticsPlatformName,\n\t\t\t\t\tmodel: Platform.model\n\t\t\t\t});\n\t\t\t\tlocalStorage.setItem(\"ti:enrolled\", true)\n\t\t\t}\n\n\t\t\t// app start event\n\t\t\tanalytics.add(\"ti.start\", \"ti.start\", {\n\t\t\t\ttz: (new Date).getTimezoneOffset(),\n\t\t\t\tdeploytype: deployType,\n\t\t\t\tos: Platform.osname,\n\t\t\t\tosver: Platform.ostype,\n\t\t\t\tversion: cfg.ti.version,\n\t\t\t\tplatform: analyticsPlatformName,\n\t\t\t\tmodel: Platform.model,\n\t\t\t\tun: null,\n\t\t\t\tapp_version: App.version,\n\t\t\t\tnettype: null\n\t\t\t});\n\n\t\t\t// try to sent previously sent analytics events on app load\n\t\t\tanalytics.send();\n\t\t}\n\n\t\t// load app.js when ti and dom is ready\n\t\tsetTimeout(loadAppjs, 1);\n\t});\n\n\treturn Ti;\n\n});\n\n},\n\"Ti/_\":function(){\n/* /titanium/Ti/_.js */\n\ndefine([\"Ti/_/lang\"], function(lang) {\n\t// Pre-calculate the screen DPI\n\tvar body = document.body,\n\t\tmeasureDiv = document.createElement('div'),\n\t\tdpi;\n\n\tmeasureDiv.style.width = \"1in\";\n\tmeasureDiv.style.visibility = \"hidden\";\n\tbody.appendChild(measureDiv);\n\tdpi = parseInt(measureDiv.clientWidth);\n\tbody.removeChild(measureDiv);\n\n\treturn lang.setObject(\"Ti._\", {\n\t\tassert: function(test, msg) {\n\t\t\tif (!test) {\n\t\t\t\tthrow new Error(msg);\n\t\t\t}\n\t\t},\n\t\tdpi: dpi,\n\t\tescapeHtmlEntities: function(html) {\n\t\t\treturn (\"\"+html).replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\");\n\t\t},\n\t\tgetAbsolutePath: function(path) {\n\t\t\t/^app\\:\\/\\//.test(path) && (path = path.substring(6));\n\t\t\t/^\\//.test(path) && (path = path.substring(1));\n\n\t\t\t// check if we have an external url\n\t\t\tif (/^\\/\\//.test(path) || ~path.indexOf(\"://\")) {\n\t\t\t\treturn path;\n\t\t\t}\n\n\t\t\tvar pn = location.pathname;\n\n\t\t\t// if we're dealing with windows phone, then location.pathname does not have a beginning slash and we need to add one\n\t\t\t!/^\\//.test(pn) && location.protocol == 'x-wmapp0:' && (pn = '/' + pn);\n\n\t\t\t// strip everything after the last '/' and add the path\n\t\t\treturn pn.replace(/(.*)\\/.*/, '$1') + '/' + path;\n\t\t},\n\t\tisBinaryMimeType: function(type) {\n\t\t\treturn /^(application|image|audio|video)\\/(?!javascript|x\\-javascript|atom\\+xml|rss\\+xml|json)/.test(type);\n\t\t},\n\t\tuuid: function() {\n\t\t\t/**\n\t\t\t * Math.uuid.js (v1.4)\n\t\t\t * Copyright (c) 2010 Robert Kieffer\n\t\t\t * Dual licensed under the MIT and GPL licenses.\n\t\t\t * <http://www.broofa.com>\n\t\t\t * mailto:robert@broofa.com\n\t\t\t */\n\t\t\t// RFC4122v4 solution:\n\t\t\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n\t\t\t\tvar r = Math.random() * 16 | 0,\n\t\t\t\t\tv = c == 'x' ? r : (r & 0x3 | 0x8);\n\t\t\t\treturn v.toString(16);\n\t\t\t}).toUpperCase();\n\t\t}\n\t});\n});\n},\n\"Ti/_/lang\":function(){\n/* /titanium/Ti/_/lang.js */\n\n/**\n * hitch() and setObject() functionality based on code from Dojo Toolkit.\n *\n * Dojo Toolkit\n * Copyright (c) 2005-2011, The Dojo Foundation\n * New BSD License\n * <http://dojotoolkit.org>\n */\n\ndefine(['Ti/_/has'], function (has) {\n\tvar global = this,\n\t\thitch,\n\t\tis = require.is;\n\n\tfunction toArray(obj, offset) {\n\t\treturn [].concat(Array.prototype.slice.call(obj, offset||0));\n\t}\n\n\tfunction hitchArgs(scope, method) {\n\t\tvar pre = toArray(arguments, 2),\n\t\t\tnamed = typeof method == 'string';\n\t\treturn function () {\n\t\t\tvar s = scope || global,\n\t\t\t\tf = named ? s[method] : method;\n\t\t\treturn f && f.apply(s, pre.concat(toArray(arguments)));\n\t\t};\n\t}\n\n\treturn {\n\t\thitch: hitch = function (scope, method) {\n\t\t\tif (arguments.length > 2) {\n\t\t\t\treturn hitchArgs.apply(global, arguments);\n\t\t\t}\n\t\t\tif (!method) {\n\t\t\t\tmethod = scope;\n\t\t\t\tscope = null;\n\t\t\t}\n\t\t\tif (typeof method == 'string') {\n\t\t\t\tscope = scope || global;\n\t\t\t\tif (!scope[method]) {\n\t\t\t\t\tthrow(['hitch: scope[\"', method, '\"] is null (scope=\"', scope, '\")'].join(''));\n\t\t\t\t}\n\t\t\t\treturn function () {\n\t\t\t\t\treturn scope[method].apply(scope, arguments || []);\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn !scope ? method : function () {\n\t\t\t\treturn method.apply(scope, arguments || []);\n\t\t\t};\n\t\t},\n\n\t\tisDef: function (it) {\n\t\t\treturn it !== void 0;\n\t\t},\n\n\t\tmixProps: function (dest, src, setDefaults, copyDefs) {\n\t\t\tvar prop, propObj, name, destDef, destExists,\n\t\t\t\tsrcDef = src.__def__,\n\t\t\t\tsource = srcDef || src,\n\t\t\t\tignore = /^constructor|__values__|__def__|declaredClass$/,\n\t\t\t\tspecial = { properties: 1, constants: 0 };\n\n\t\t\t// copyDefs is only true if declare() is mixing in a superclass\n\t\t\tcopyDefs && dest.__def__ || (dest.__def__ = {});\n\n\t\t\tfor (prop in source) {\n\t\t\t\tif (source.hasOwnProperty(prop) && !ignore.test(prop)) {\n\t\t\t\t\t// check if this prop is \"properties\" or \"constants\"\n\t\t\t\t\tif (special.hasOwnProperty(prop)) {\n\t\t\t\t\t\t// this is where we store original source property's definition\n\t\t\t\t\t\tdestDef = dest.__def__[prop] || (dest.__def__[prop] = {});\n\n\t\t\t\t\t\t// loop over each prop in the source\n\t\t\t\t\t\tpropObj = source[prop];\n\t\t\t\t\t\tfor (name in propObj) {\n\t\t\t\t\t\t\tdestExists = destDef.hasOwnProperty(name);\n\n\t\t\t\t\t\t\t// don't copy props that already exist in the destination\n\t\t\t\t\t\t\tif (!srcDef || !destExists) {\n\t\t\t\t\t\t\t\t// copy the original source property's definition\n\t\t\t\t\t\t\t\tdestExists || (destDef[name] = propObj[name]);\n\n\t\t\t\t\t\t\t\t// define and call the function that wires up the properties\n\t\t\t\t\t\t\t\t(function (type, property, /* setter/getter, getter, or value */ descriptor, capitalizedName, writable) {\n\t\t\t\t\t\t\t\t\tvar isObj = descriptor && typeof descriptor == 'object',\n\t\t\t\t\t\t\t\t\t\tgetter = isObj && descriptor.get,\n\t\t\t\t\t\t\t\t\t\tsetter = isObj && descriptor.set,\n\t\t\t\t\t\t\t\t\t\tpost = isObj && descriptor.post,\n\t\t\t\t\t\t\t\t\t\tdesc = {\n\t\t\t\t\t\t\t\t\t\t\tget: function () {\n\t\t\t\t\t\t\t\t\t\t\t\tvar v = this.__values__[type][property];\n\t\t\t\t\t\t\t\t\t\t\t\treturn getter ? (typeof getter == 'string' ? this[getter] : getter).call(this, v) : v;\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tset: function (v) {\n\t\t\t\t\t\t\t\t\t\t\t\tif (!writable) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthrow new Error('Property \"' + property + '\" is read only');\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tvar d = this.__values__[type],\n\t\t\t\t\t\t\t\t\t\t\t\t\targs = [v, d[property], property];\n\t\t\t\t\t\t\t\t\t\t\t\targs[0] = d[property] = setter ? (typeof setter == 'string' ? this[setter] : setter).apply(this, args) : v;\n\t\t\t\t\t\t\t\t\t\t\t\tpost && (typeof post == 'function' ? post : this[post]).apply(this, args);\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tconfigurable: true,\n\t\t\t\t\t\t\t\t\t\t\tenumerable: true\n\t\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\tif (isObj && (getter || setter || post)) {\n\t\t\t\t\t\t\t\t\t\tsetDefaults && (dest.__values__[type][property] = descriptor.value);\n\t\t\t\t\t\t\t\t\t} else if (typeof descriptor == 'function') {\n\t\t\t\t\t\t\t\t\t\tgetter = descriptor;\n\t\t\t\t\t\t\t\t\t} else if (setDefaults) {\n\t\t\t\t\t\t\t\t\t\tdest.__values__[type][property] = descriptor;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tObject.defineProperty(dest, property, desc);\n\n\t\t\t\t\t\t\t\t\t// if it's writable or it's not an uppercase constant name, create the getter/setter\n\t\t\t\t\t\t\t\t\tif (writable || property.toUpperCase() !== property) {\n\t\t\t\t\t\t\t\t\t\tdest['get' + capitalizedName] = desc.get;\n\t\t\t\t\t\t\t\t\t\twritable && (dest['set' + capitalizedName] = desc.set);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}(prop, name, propObj[name], name.substring(0, 1).toUpperCase() + name.substring(1), special[prop]));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (!srcDef || ((!srcDef.properties || !srcDef.properties.hasOwnProperty(prop)) && (!srcDef.constants || !srcDef.constants.hasOwnProperty(prop)))) {\n\t\t\t\t\t\tcopyDefs && dest.__def__.hasOwnProperty(prop) || (dest.__def__[prop] = source[prop]);\n\t\t\t\t\t\tdest[prop] = source[prop];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn dest;\n\t\t},\n\n\t\tgenerateAccessors: function (definition, readOnlyProps, props) {\n\t\t\tfunction generateGetter(prop) {\n\t\t\t\tvar getterName = 'get' + prop.substring(0, 1).toUpperCase() + prop.substring(1);\n\t\t\t\tif (!(getterName in definition.prototype)) {\n\t\t\t\t\tdefinition.prototype[getterName] = function () {\n\t\t\t\t\t\treturn this[prop];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tfunction generateSetter(prop) {\n\t\t\t\tvar setterName = 'set' + prop.substring(0, 1).toUpperCase() + prop.substring(1);\n\t\t\t\tif (!(setterName in definition.prototype)) {\n\t\t\t\t\tdefinition.prototype[setterName] = function (value) {\n\t\t\t\t\t\treturn this[prop] = value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\treadOnlyProps && readOnlyProps.split(',').forEach(generateGetter);\n\t\t\tprops && props.split(',').forEach(function (prop) {\n\t\t\t\tgenerateGetter(prop);\n\t\t\t\tgenerateSetter(prop);\n\t\t\t});\n\t\t},\n\n\t\tsetObject: function (name) {\n\t\t\tvar parts = name.split('.'),\n\t\t\t\tq = parts.pop(),\n\t\t\t\tobj = window,\n\t\t\t\ti = 0,\n\t\t\t\tp = parts[i++],\n\t\t\t\ta,\n\t\t\t\tr;\n\n\t\t\tif (p) {\n\t\t\t\tdo {\n\t\t\t\t\tobj = p in obj ? obj[p] : (obj[p] = {});\n\t\t\t\t} while (obj && (p = parts[i++]));\n\t\t\t}\n\n\t\t\tif (obj && q) {\n\t\t\t\tr = q in obj ? obj[q] : {};\n\t\t\t\t// need to mix args into values\n\t\t\t\tfor (i = 1; i < arguments.length; i++) {\n\t\t\t\t\ta = arguments[i];\n\t\t\t\t\tif (a && typeof a == 'object') {\n\t\t\t\t\t\t// if the destination is a plain object, then we need to initialize the property store\n\t\t\t\t\t\tr.__values__ || (r.__values__ = { constants:{}, properties:{} });\n\n\t\t\t\t\t\t// mix the props\n\t\t\t\t\t\tthis.mixProps(r, a, 1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tr = a;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn obj[q] = r;\n\t\t},\n\n\t\ttoArray: toArray,\n\n\t\turlEncode: function (obj) {\n\t\t\tvar enc = encodeURIComponent,\n\t\t\t\tpairs = [],\n\t\t\t\tprop,\n\t\t\t\tvalue,\n\t\t\t\ti,\n\t\t\t\tl;\n\n\t\t\tfor (prop in obj) {\n\t\t\t\tif (obj.hasOwnProperty(prop)) {\n\t\t\t\t\tArray.isArray(value = obj[prop]) || (value = [value]);\n\t\t\t\t\tprop = enc(prop) + '=';\n\t\t\t\t\tfor (i = 0, l = value.length; i < l;) {\n\t\t\t\t\t\tpairs.push(prop + enc(value[i++]));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn pairs.join('&');\n\t\t},\n\n\t\tval: function (originalValue, defaultValue) {\n\t\t\treturn originalValue === void 0 ? defaultValue : originalValue;\n\t\t}\n\t};\n});\n},\n\"Ti/_/has\":function(){\n/* /titanium/Ti/_/has.js */\n\ndefine(function() {\n\n\tvar cfg = require.config,\n\t\thasCache = cfg.hasCache || {},\n\t\tglobal = window,\n\t\tdoc = global.document,\n\t\tel = doc.createElement(\"div\"),\n\t\ti;\n\n\tfunction has(name) {\n\t\t// summary:\n\t\t//\t\tDetermines of a specific feature is supported.\n\t\t//\n\t\t// name: String\n\t\t//\t\tThe name of the test.\n\t\t//\n\t\t// returns: Boolean (truthy/falsey)\n\t\t//\t\tWhether or not the feature has been detected.\n\n\t\tvar fn = hasCache[name];\n\t\trequire.is(fn, \"Function\") && (fn = hasCache[name] = fn(global, doc, el));\n\t\treturn fn;\n\t}\n\n\thas.add = function hasAdd(name, test, now, force){\n\t\t// summary:\n\t\t//\t\tAdds a feature test.\n\t\t//\n\t\t// name: String\n\t\t//\t\tThe name of the test.\n\t\t//\n\t\t// test: Function\n\t\t//\t\tThe function that tests for a feature.\n\t\t//\n\t\t// now: Boolean?\n\t\t//\t\tIf true, runs the test immediately.\n\t\t//\n\t\t// force: Boolean?\n\t\t//\t\tIf true, forces the test to override an existing test.\n\n\t\tif (hasCache[name] === void 0 || force) {\n\t\t\thasCache[name] = test;\n\t\t}\n\t\treturn now && has(name);\n\t};\n\n\t// run all feature detection tests\n\tfor (i in cfg.has) {\n\t\thas.add(i, cfg.has[i], 0, true);\n\t}\n\tdelete cfg.has;\n\n\treturn has;\n\n});\n\n},\n\"Ti/API\":function(){\n/* /titanium/Ti/API.js */\n\n/*global define, window*/\ndefine(['Ti/_/Evented', 'Ti/_/lang'], function(Evented, lang) {\n\n\tvar api = {},\n\t\tglobal = window,\n\t\tcon = global.console,\n\t\ti = 0,\n\t\tlast,\n\n\t\t// the order of these DOES matter... it uses the last known function\n\t\t// (i.e. if trace() does not exist, it'll use debug() for trace)\n\t\tfns = ['debug', 'trace', 'error', 'fatal', 'critical', 'notice', 'warn', 'info'],\n\t\tlen = fns.length;\n\n\t// console.*() shim\n\tcon === void 0 && (con = global.console = {});\n\n\t// make sure 'log' is always at the end\n\tfns.forEach(function(c) {\n\t\tcon[c] || (con[c] = ('log' in con) ? function () {\n\t\t\t\tvar a = Array.apply({}, arguments);\n\t\t\t\ta.unshift(c + ':');\n\t\t\t\tcon.log(a.join(' '));\n\t\t\t} : function () {}\n\t\t);\n\t});\n\n\tcon.trace = 0; // need to undefine trace() since it does something completely different\n\n\tfor (; i < len; i++) {\n\t\t(function(fn) {\n\t\t\tvar ls = last = console[fn] ? fn : last;\n\t\t\tapi[fn] = function() {\n\t\t\t\tconsole[ls]('[' + fn.toUpperCase() + '] ' + lang.toArray(arguments).map(function(a) {\n\t\t\t\t\treturn require.is(a, 'Object') ? a.hasOwnProperty('toString') ? a.toString() : JSON.stringify(a) : a === null ? 'null' : a === void 0 ? 'undefined' : a;\n\t\t\t\t}).join(' '));\n\t\t\t};\n\t\t})(fns[i]);\n\t}\n\n\tapi.log = function () {\n\t\tvar a = lang.toArray(arguments);\n\t\tvar fn = ~fns.indexOf(('' + a[0]).toLowerCase()) && a.shift().toLowerCase();\n\t\tapi[fn||'info'].apply(this, a);\n\t};\n\n\treturn lang.setObject('Ti.API', Evented, api);\n\n});\n},\n\"Ti/_/Evented\":function(){\n/* /titanium/Ti/_/Evented.js */\n\n/*global define*/\ndefine(function() {\n\n\tvar mix = require.mix;\n\n\treturn {\n\t\tdestroy: function() {\n\t\t\tfor (var i in this) {\n\t\t\t\tdelete this[i];\n\t\t\t}\n\t\t\tthis._alive = 0;\n\t\t},\n\n\t\taddEventListener: function(name, handler) {\n\t\t\tthis.listeners || (this.listeners = {});\n\t\t\t(this.listeners[name] = this.listeners[name] || []).push(handler);\n\t\t},\n\n\t\tremoveEventListener: function(name, handler) {\n\t\t\tif (this.listeners) {\n\t\t\t\tif (handler) {\n\t\t\t\t\tvar i = 0,\n\t\t\t\t\t\tevents = this.listeners[name],\n\t\t\t\t\t\tl = events && events.length || 0;\n\n\t\t\t\t\tfor (; i < l; i++) {\n\t\t\t\t\t\tevents[i] === handler && events.splice(i, 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tdelete this.listeners[name];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tfireEvent: function(name, data) {\n\t\t\tvar i = 0,\n\t\t\t\tmodifiers = this._modifiers && this._modifiers[name],\n\t\t\t\tlisteners = this.listeners && this.listeners[name],\n\t\t\t\tl = modifiers && modifiers.length;\n\n\t\t\tdata = data || {};\n\t\t\tmix(data, {\n\t\t\t\tsource: data.source || this,\n\t\t\t\ttype: name\n\t\t\t});\n\n\t\t\twhile (i < l) {\n\t\t\t\tmodifiers[i++].call(this, data);\n\t\t\t}\n\n\t\t\tif (listeners) {\n\t\t\t\t// We deep copy the listeners because the original list can change in the middle of a callback\n\t\t\t\tlisteners = [].concat(listeners);\n\t\t\t\ti = 0;\n\t\t\t\tl = listeners.length;\n\t\t\t\twhile (i < l) {\n\t\t\t\t\tlisteners[i++].call(this, data);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tapplyProperties: function(props) {\n\t\t\tmix(this, props);\n\t\t},\n\n\t\t_addEventModifier: function(name, handler) {\n\t\t\tthis._modifiers || (this._modifiers = {});\n\t\t\t(Array.isArray(name) ? name : [name]).forEach(function(n) {\n\t\t\t\t(this._modifiers[n] = this._modifiers[n] || []).push(handler);\n\t\t\t}, this);\n\t\t},\n\n\t\tconstants: {\n\t\t\tapiName: {\n\t\t\t\tget: function() {\n\t\t\t\t\treturn this.declaredClass;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n});\n},\n\"Ti/_/analytics\":function(){\n/* /titanium/Ti/_/analytics.js */\n\ndefine([\"Ti/_\", \"Ti/_/dom\", \"Ti/_/has\", \"Ti/_/lang\", \"Ti/App\", \"Ti/Platform\"],\n\tfunction(_, dom, has, lang, App, Platform) {\n\n\tvar global = window,\n\t\tis = require.is,\n\t\tanalyticsEnabled = App.analytics,\n\t\tanalyticsLastSent = null,\n\t\tanalyticsUrl = \"https://api.appcelerator.com/p/v3/mobile-web-track/\" + App.guid,\n\t\tpending = {},\n\t\tsendTimer,\n\t\tsendDelay = 60000,\n\t\tanalytics = {\n\t\t\tadd: function(type, event, data, isUrgent) {\n\t\t\t\tif (analyticsEnabled) {\n\t\t\t\t\t// store event\n\t\t\t\t\tvar storage = getStorage();\n\n\t\t\t\t\tstorage.push({\n\t\t\t\t\t\tid: _.uuid(),\n\t\t\t\t\t\ttype: type,\n\t\t\t\t\t\tevt: event,\n\t\t\t\t\t\tts: (new Date).toISOString().replace('Z', \"+0000\"),\n\t\t\t\t\t\tdata: data\n\t\t\t\t\t});\n\n\t\t\t\t\tsetStorage(storage);\n\t\t\t\t\tthis.send(isUrgent);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tsend: function(isUrgent) {\n\t\t\t\tif (analyticsEnabled) {\n\t\t\t\t\tvar rand = Math.floor(Math.random() * 1e6),\n\t\t\t\t\t\tnow = Date.now(),\n\t\t\t\t\t\tids = [],\n\t\t\t\t\t\tpayload = [],\n\t\t\t\t\t\tsessionId = sessionStorage.getItem(\"ti:sessionId\"),\n\t\t\t\t\t\tseqId = sessionStorage.getItem(\"ti:analyticsSeqId\"),\n\t\t\t\t\t\tevents = getStorage(),\n\t\t\t\t\t\ti = 0,\n\t\t\t\t\t\tlen = events.length,\n\t\t\t\t\t\tevt,\n\t\t\t\t\t\teventData,\n\t\t\t\t\t\tbuildType = require.config.ti.buildType;\n\n\t\t\t\t\ttypeof seqId == 'string' && (seqId = JSON.parse(seqId));\n\n\t\t\t\t\tclearTimeout(sendTimer);\n\n\t\t\t\t\tif (len && (isUrgent || analyticsLastSent == null || now - analyticsLastSent >= sendDelay)) {\n\t\t\t\t\t\tsessionId || (sessionId = _.uuid());\n\t\t\t\t\t\tseqId == null && (seqId = 0);\n\n\t\t\t\t\t\twhile (i < len) {\n\t\t\t\t\t\t\tevt = events[i++];\n\n\t\t\t\t\t\t\tids.push(evt.id);\n\n\t\t\t\t\t\t\tpayload.push(eventData = {\n\t\t\t\t\t\t\t\tid: evt.id,\n\t\t\t\t\t\t\t\tmid: Platform.id,\n\t\t\t\t\t\t\t\trdu: null,\n\t\t\t\t\t\t\t\ttype: evt.type,\n\t\t\t\t\t\t\t\taguid: App.guid,\n\t\t\t\t\t\t\t\tevent: evt.evt,\n\t\t\t\t\t\t\t\tseq: seqId++,\n\t\t\t\t\t\t\t\tver: \"2\",\n\t\t\t\t\t\t\t\tdeploytype: App.deployType,\n\t\t\t\t\t\t\t\tsid: sessionId,\n\t\t\t\t\t\t\t\tts: evt.ts,\n\t\t\t\t\t\t\t\tdata: evt.data\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tbuildType && (eventData.buildType = buildType);\n\n\t\t\t\t\t\t\tif (evt.type == 'ti.end') {\n\t\t\t\t\t\t\t\tseqId = 0;\n\t\t\t\t\t\t\t\tsessionId = _.uuid();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tsessionStorage.setItem(\"ti:sessionId\", sessionId);\n\t\t\t\t\t\tsessionStorage.setItem(\"ti:analyticsSeqId\", seqId);\n\n\t\t\t\t\t\tpending[rand] = ids;\n\t\t\t\t\t\tanalyticsLastSent = now;\n\t\t\t\t\t\tpayload = JSON.stringify(payload);\n\n\t\t\t\t\t\tif (has('ti-analytics-use-xhr')) {\n\t\t\t\t\t\t\tvar xhr = new XMLHttpRequest;\n\t\t\t\t\t\t\txhr.onreadystatechange = function() {\n\t\t\t\t\t\t\t\tif (xhr.readyState == 4 && xhr.status == 200) {\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\tvar data = JSON.parse(xhr.responseText);\n\t\t\t\t\t\t\t\t\t\tdata.callback = rand;\n\t\t\t\t\t\t\t\t\t\tonSuccess(data);\n\t\t\t\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\txhr.open(\"POST\", analyticsUrl, true);\n\t\t\t\t\t\t\txhr.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\n\t\t\t\t\t\t\txhr.send('content=' + encodeURIComponent(payload));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar body = document.body,\n\t\t\t\t\t\t\t\tiframeName = \"analytics\" + rand,\n\t\t\t\t\t\t\t\tiframe = dom.create(\"iframe\", {\n\t\t\t\t\t\t\t\t\tid: iframeName,\n\t\t\t\t\t\t\t\t\tname: iframeName,\n\t\t\t\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t\t\t\tdisplay: \"none\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}, body),\n\t\t\t\t\t\t\t\tform = dom.create(\"form\", {\n\t\t\t\t\t\t\t\t\taction: analyticsUrl + \"?callback=\" + rand + \"&output=html\",\n\t\t\t\t\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t\t\t\tdisplay: \"none\"\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\ttarget: iframeName\n\t\t\t\t\t\t\t\t}, body);\n\n\t\t\t\t\t\t\tdom.create(\"input\", {\n\t\t\t\t\t\t\t\tname: \"content\",\n\t\t\t\t\t\t\t\ttype: \"hidden\",\n\t\t\t\t\t\t\t\tvalue: payload\n\t\t\t\t\t\t\t}, form);\n\n\t\t\t\t\t\t\t// need to delay attaching of iframe events so they aren't prematurely called\n\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\tfunction onIframeLoaded() {\n\t\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\t\tdom.destroy(form);\n\t\t\t\t\t\t\t\t\t\tdom.destroy(iframe);\n\t\t\t\t\t\t\t\t\t}, 1);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tiframe.onload = onIframeLoaded;\n\t\t\t\t\t\t\t\tiframe.onerror = onIframeLoaded;\n\t\t\t\t\t\t\t\tform.submit();\n\t\t\t\t\t\t\t}, 25);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tsendTimer = setTimeout(function() {\n\t\t\t\t\t\tanalytics.send(1);\n\t\t\t\t\t}, sendDelay);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\tfunction getStorage() {\n\t\tvar s = localStorage.getItem(\"ti:analyticsEvents\");\n\t\treturn s ? JSON.parse(s) : [];\n\t}\n\n\tfunction setStorage(data) {\n\t\tlocalStorage.setItem(\"ti:analyticsEvents\", JSON.stringify(data));\n\t}\n\n\tfunction onSuccess(data) {\n\t\tif (data && typeof data == 'object' && data.success) {\n\t\t\tvar ids = pending[data.callback],\n\t\t\t\tkeepers = [],\n\t\t\t\tevents = getStorage(),\n\t\t\t\ti = 0,\n\t\t\t\tlen = events.length,\n\t\t\t\tevt;\n\n\t\t\tif (ids) {\n\t\t\t\twhile (i < len) {\n\t\t\t\t\tevt = events[i++];\n\t\t\t\t\t~ids.indexOf(evt.id) || keepers.push(evt);\n\t\t\t\t}\n\t\t\t\tsetStorage(keepers);\n\t\t\t}\n\t\t}\n\t}\n\n\trequire.on(global, 'message', function (response) {\n\t\tonSuccess(response.data);\n\t});\n\n\treturn analytics;\n\n});\n},\n\"Ti/_/dom\":function(){\n/* /titanium/Ti/_/dom.js */\n\n/**\n * create(), attr(), place(), & remove() functionality based on code from Dojo Toolkit.\n *\n * Dojo Toolkit\n * Copyright (c) 2005-2011, The Dojo Foundation\n * New BSD License\n * <http://dojotoolkit.org>\n */\n\ndefine([\"Ti/_\", \"Ti/API\", \"Ti/_/style\"], function(_, API, style) {\n\tvar is = require.is,\n\t\tforcePropNames = {\n\t\t\tinnerHTML:\t1,\n\t\t\tclassName:\t1,\n\t\t\tvalue:\t\t1\n\t\t},\n\t\tattrNames = {\n\t\t\t// original attribute names\n\t\t\tclassname: \"class\",\n\t\t\thtmlfor: \"for\",\n\t\t\t// for IE\n\t\t\ttabindex: \"tabIndex\",\n\t\t\treadonly: \"readOnly\"\n\t\t},\n\t\tnames = {\n\t\t\t// properties renamed to avoid clashes with reserved words\n\t\t\t\"class\": \"className\",\n\t\t\t\"for\": \"htmlFor\",\n\t\t\t// properties written as camelCase\n\t\t\ttabindex: \"tabIndex\",\n\t\t\treadonly: \"readOnly\",\n\t\t\tcolspan: \"colSpan\",\n\t\t\tframeborder: \"frameBorder\",\n\t\t\trowspan: \"rowSpan\",\n\t\t\tvaluetype: \"valueType\"\n\t\t},\n\t\tattr = {\n\t\t\tset: function(node, name, value) {\n\t\t\t\tif (arguments.length === 2) {\n\t\t\t\t\t// the object form of setter: the 2nd argument is a dictionary\n\t\t\t\t\tfor (var x in name) {\n\t\t\t\t\t\tattr.set(node, x, name[x]);\n\t\t\t\t\t}\n\t\t\t\t\treturn node;\n\t\t\t\t}\n\n\t\t\t\tvar lc = name.toLowerCase(),\n\t\t\t\t\tpropName = names[lc] || name,\n\t\t\t\t\tforceProp = forcePropNames[propName],\n\t\t\t\t\tattrId, h;\n\n\t\t\t\tif (propName === \"style\" && !require.is(value, \"String\")) {\n\t\t\t\t\treturn style.set(node, value);\n\t\t\t\t}\n\n\t\t\t\tif (forceProp || is(value, \"Boolean\") || is(value, \"Function\")) {\n\t\t\t\t\tnode[name] = value;\n\t\t\t\t\treturn node;\n\t\t\t\t}\n\n\t\t\t\t// node's attribute\n\t\t\t\tnode.setAttribute(attrNames[lc] || name, value);\n\t\t\t\treturn node;\n\t\t\t},\n\t\t\tremove: function(node, name) {\n\t\t\t\tnode.removeAttribute(name);\n\t\t\t\treturn node;\n\t\t\t}\n\t\t};\n\n\treturn {\n\t\tcreate: function(tag, attrs, refNode, pos) {\n\t\t\tvar doc = refNode ? refNode.ownerDocument : document;\n\t\t\tis(tag, \"String\") && (tag = doc.createElement(tag));\n\t\t\tattrs && attr.set(tag, attrs);\n\t\t\trefNode && this.place(tag, refNode, pos);\n\t\t\treturn tag;\n\t\t},\n\n\t\tattr: attr,\n\n\t\tplace: function(node, refNode, pos) {\n\t\t\trefNode.appendChild(node);\n\t\t\treturn node;\n\t\t},\n\n\t\tdetach: function(node) {\n\t\t\treturn node.parentNode && node.parentNode.removeChild(node);\n\t\t},\n\n\t\tdestroy: function(node) {\n\t\t\ttry {\n\t\t\t\tvar destroyContainer = node.ownerDocument.createElement(\"div\");\n\t\t\t\tdestroyContainer.appendChild(this.detach(node) || node);\n\t\t\t\tdestroyContainer.innerHTML = \"\";\n\t\t\t} catch(e) {\n\t\t\t\t/* squelch */\n\t\t\t}\n\t\t},\n\n\t\tcalculateDistance: function(ax, ay, bx, by) {\n\t\t\treturn Math.sqrt(Math.pow(ax - bx,2) + Math.pow(ay - by, 2));\n\t\t},\n\n\t\tunitize: function(x) {\n\t\t\treturn isNaN(x-0) || x-0 != x ? x : x + \"px\"; // note: must be != and not !==\n\t\t},\n\n\t\tcomputeSize: function(x, totalLength, convertSizeToUndef) {\n\t\t\tif (is(x,\"Number\") && isNaN(x)) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tvar type = require.is(x);\n\t\t\tif (type === \"String\") {\n\t\t\t\tvar UI = require(\"Ti/UI\");\n\t\t\t\tif (x === UI.SIZE) {\n\t\t\t\t\tconvertSizeToUndef && (x = void 0);\n\t\t\t\t} else {\n\t\t\t\t\tvar value = parseFloat(x),\n\t\t\t\t\t\tunits = x.match(/.*(%|mm|cm|em|pt|in|px|dp)$/);\n\t\t\t\t\tif (units) {\n\t\t\t\t\t\tunits = units[1];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tunits = \"px\";\n\t\t\t\t\t}\n\n\t\t\t\t\tswitch(units) {\n\t\t\t\t\t\tcase \"%\":\n\t\t\t\t\t\t\tif(totalLength == UI.SIZE) {\n\t\t\t\t\t\t\t\tconvertSizeToUndef ? void 0 : UI.SIZE;\n\t\t\t\t\t\t\t} else if (!require.is(totalLength,\"Number\")) {\n\t\t\t\t\t\t\t\tAPI.error(\"Could not compute percentage size/position of element.\");\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\treturn value / 100 * totalLength;\n\t\t\t\t\t\tcase \"mm\":\n\t\t\t\t\t\t\tvalue /= 10;\n\t\t\t\t\t\tcase \"cm\":\n\t\t\t\t\t\t\treturn value * 0.393700787 * _.dpi;\n\t\t\t\t\t\tcase \"em\":\n\t\t\t\t\t\tcase \"pt\":\n\t\t\t\t\t\t\tvalue /= 12;\n\t\t\t\t\t\tcase \"pc\":\n\t\t\t\t\t\t\tvalue /= 6;\n\t\t\t\t\t\tcase \"in\":\n\t\t\t\t\t\t\treturn value * _.dpi;\n\t\t\t\t\t\tcase \"px\":\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\tcase \"dp\":\n\t\t\t\t\t\t\treturn value * _.dpi / 96;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (type !== \"Number\") {\n\t\t\t\tx = void 0;\n\t\t\t}\n\n\t\t\treturn x;\n\t\t}\n\t};\n});\n},\n\"Ti/_/style\":function(){\n/* /titanium/Ti/_/style.js */\n\ndefine([\"Ti/_\", \"Ti/_/string\", \"Ti/Filesystem\"], function(_, string, Filesystem) {\n\n\tvar vp = require.config.vendorPrefixes.dom,\n\t\tis = require.is,\n\t\tdummyNode = document.createElement(\"p\");\n\n\tfunction set(node, name, value) {\n\t\tvar i = 0,\n\t\t\tx,\n\t\t\tuc;\n\t\tif (node) {\n\t\t\tif (arguments.length > 2) {\n\t\t\t\twhile (i < vp.length) {\n\t\t\t\t\tx = vp[i++];\n\t\t\t\t\tx += x ? uc || (uc = string.capitalize(name)) : name;\n\t\t\t\t\tif (x in node.style) {\n\t\t\t\t\t\t(is(value, \"Array\") ? value : [value]).forEach(function(v) { node.style[x] = v; });\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (x in name) {\n\t\t\t\t\tset(node, x, name[x]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn node;\n\t}\n\n\treturn {\n\t\tdiscover: function(name, node) {\n\t\t\tvar i = 0,\n\t\t\t\tx,\n\t\t\t\tuc;\n\n\t\t\tnode || (node = dummyNode);\n\n\t\t\twhile (i < vp.length) {\n\t\t\t\tx = vp[i++];\n\t\t\t\tx += x ? uc || (uc = string.capitalize(name)) : name;\n\t\t\t\tif (x in node.style) {\n\t\t\t\t\treturn x;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn name;\n\t\t},\n\n\t\tget: function(node, name) {\n\t\t\treturn node.style[this.discover(name, node)];\n\t\t},\n\n\t\tset: set,\n\n\t\tsupports: function(name, node) {\n\t\t\tvar x = this.discover(name, node);\n\t\t\treturn x in node.style;\n\t\t},\n\n\t\turl: function(/*String|Blob*/url) {\n\t\t\tif (url && url.declaredClass === \"Ti.Blob\") {\n\t\t\t\treturn \"url(\" + url.toString() + \")\";\n\t\t\t}\n\n\t\t\tvar match = url && url.match(/^(.+):\\/\\//),\n\t\t\t\tfile = match && ~Filesystem.protocols.indexOf(match[1]) && Filesystem.getFile(url);\n\n\t\t\treturn file && file.exists()\n\t\t\t\t? \"url(\" + file.read().toString() + \")\"\n\t\t\t\t: !url || url === \"none\"\n\t\t\t\t\t? \"\"\n\t\t\t\t\t: /^url\\(/.test(url)\n\t\t\t\t\t\t? url\n\t\t\t\t\t\t: \"url(\" + (require.cache(url) || _.getAbsolutePath(url)) + \")\";\n\t\t}\n\t};\n});\n},\n\"Ti/_/string\":function(){\n/* /titanium/Ti/_/string.js */\n\n/**\n * String.format() functionality based on dojox.string code from Dojo Toolkit.\n *\n * Dojo Toolkit\n * Copyright (c) 2005-2011, The Dojo Foundation\n * New BSD License\n * <http://dojotoolkit.org>\n */\n\ndefine([\"Ti/_\", \"Ti/_/has\", \"Ti/_/lang\"], function(_, has, lang) {\n\n\tvar assert = _.assert,\n\t\tis = require.is,\n\t\tmix = require.mix,\n\t\tisOpera = has(\"opera\"),\n\t\tzeros10 = \"0000000000\",\n\t\tspaces10 = \"          \",\n\t\tspecifiers = {\n\t\t\tb: {\n\t\t\t\tbase: 2,\n\t\t\t\tisInt: 1\n\t\t\t},\n\t\t\to: {\n\t\t\t\tbase: 8,\n\t\t\t\tisInt: 1\n\t\t\t},\n\t\t\tx: {\n\t\t\t\tbase: 16,\n\t\t\t\tisInt: 1\n\t\t\t},\n\t\t\tX: {\n\t\t\t\textend: [\"x\"],\n\t\t\t\ttoUpper: 1\n\t\t\t},\n\t\t\td: {\n\t\t\t\tbase: 10,\n\t\t\t\tisInt: 1\n\t\t\t},\n\t\t\ti: {\n\t\t\t\textend: [\"d\"]\n\t\t\t},\n\t\t\tu: {\n\t\t\t\textend: [\"d\"],\n\t\t\t\tisUnsigned: 1\n\t\t\t},\n\t\t\tc: {\n\t\t\t\tsetArg: function(token) {\n\t\t\t\t\tif (!isNaN(token.arg)) {\n\t\t\t\t\t\tvar num = parseInt(token.arg);\n\t\t\t\t\t\tassert(num < 0 || num > 127, \"Invalid character code passed to %c in sprintf\");\n\t\t\t\t\t\ttoken.arg = isNaN(num) ? \"\" + num : String.fromCharCode(num);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\ts: {\n\t\t\t\tsetMaxWidth: function(token) {\n\t\t\t\t\ttoken.maxWidth = token.period === \".\" ? token.precision : -1;\n\t\t\t\t}\n\t\t\t},\n\t\t\te: {\n\t\t\t\tisDouble: 1\n\t\t\t},\n\t\t\tE: {\n\t\t\t\textend: [\"e\"],\n\t\t\t\ttoUpper: 1\n\t\t\t},\n\t\t\tf: {\n\t\t\t\tisDouble: 1\n\t\t\t},\n\t\t\tF: {\n\t\t\t\textend: [\"f\"]\n\t\t\t},\n\t\t\tg: {\n\t\t\t\tisDouble: 1\n\t\t\t},\n\t\t\tG: {\n\t\t\t\textend: [\"g\"],\n\t\t\t\ttoUpper: 1\n\t\t\t}\n\t\t};\n\n\tfunction pad(token, length, padding) {\n\t\tvar tenless = length - 10,\n\t\t\tpad;\n\n\t\tis(token.arg, \"String\") || (token.arg = \"\" + token.arg);\n\n\t\twhile (token.arg.length < tenless) {\n\t\t\ttoken.arg = token.rightJustify ? token.arg + padding : padding + token.arg;\n\t\t}\n\n\t\tpad = length - token.arg.length;\n\t\ttoken.arg = token.rightJustify ? token.arg + padding.substring(0, pad) : padding.substring(0, pad) + token.arg;\n\t}\n\n\tfunction zeroPad(token, length) {\n\t\tpad(token, lang.val(length, token.precision), zeros10);\n\t}\n\n\tfunction spacePad(token, length) {\n\t\tpad(token, lang.val(length, token.minWidth), spaces10);\n\t}\n\n\tfunction fitField(token) {\n\t\ttoken.maxWidth >= 0 && token.arg.length > token.maxWidth ? token.arg.substring(0, token.maxWidth) : token.zeroPad ? zeroPad(token, token.minWidth) : spacePad(token);\n\t}\n\n\tfunction formatInt(token) {\n\t\tvar i = parseInt(token.arg);\n\n\t\tif (!isFinite(i)) {\n\t\t\t// allow this only if arg is number\n\t\t\tassert(!is(token.arg, \"Number\"), \"Format argument '\" + token.arg + \"' not an integer; parseInt returned \" + i);\n\t\t\ti = 0;\n\t\t}\n\n\t\t// if not base 10, make negatives be positive\n\t\t// otherwise, (-10).toString(16) is '-a' instead of 'fffffff6'\n\t\ti < 0 && (token.isUnsigned || token.base != 10) && (i = 0xffffffff + i + 1);\n\n\t\tif (i < 0) {\n\t\t\ttoken.arg = (-i).toString(token.base);\n\t\t\tzeroPad(token);\n\t\t\ttoken.arg = \"-\" + token.arg;\n\t\t} else {\n\t\t\ttoken.arg = i.toString(token.base);\n\t\t\t// need to make sure that argument 0 with precision==0 is formatted as ''\n\t\t\ti || token.precision ? zeroPad(token) : (token.arg = \"\");\n\t\t\ttoken.sign && (token.arg = token.sign + token.arg);\n\t\t}\n\t\tif (token.base === 16) {\n\t\t\ttoken.alternative && (token.arg = '0x' + token.arg);\n\t\t\ttoken.arg = token.toUpper ? token.arg.toUpperCase() : token.arg.toLowerCase();\n\t\t}\n\t\ttoken.base === 8 && token.alternative && token.arg.charAt(0) != '0' && (token.arg = '0' + token.arg);\n\t}\n\n\tfunction formatDouble(token) {\n\t\tvar f = parseFloat(token.arg);\n\n\t\tif (!isFinite(f)) {\n\t\t\t// allow this only if arg is number\n\t\t\tassert(!is(token.arg, \"Number\"), \"Format argument '\" + token.arg + \"' not a float; parseFloat returned \" + f);\n\t\t\t// C99 says that for 'f':\n\t\t\t//   infinity -> '[-]inf' or '[-]infinity' ('[-]INF' or '[-]INFINITY' for 'F')\n\t\t\t//   NaN -> a string  starting with 'nan' ('NAN' for 'F')\n\t\t\t// this is not commonly implemented though.\n\t\t\tf = 0;\n\t\t}\n\n\t\tswitch (token.specifier) {\n\t\t\tcase 'e':\n\t\t\t\ttoken.arg = f.toExponential(token.precision);\n\t\t\t\tbreak;\n\t\t\tcase 'f':\n\t\t\t\ttoken.arg = f.toFixed(token.precision);\n\t\t\t\tbreak;\n\t\t\tcase 'g':\n\t\t\t\t// C says use 'e' notation if exponent is < -4 or is >= prec\n\t\t\t\t// ECMAScript for toPrecision says use exponential notation if exponent is >= prec,\n\t\t\t\t// though step 17 of toPrecision indicates a test for < -6 to force exponential.\n\t\t\t\tif(Math.abs(f) < 0.0001){\n\t\t\t\t\t//print(\"forcing exponential notation for f=\" + f);\n\t\t\t\t\ttoken.arg = f.toExponential(token.precision > 0 ? token.precision - 1 : token.precision);\n\t\t\t\t}else{\n\t\t\t\t\ttoken.arg = f.toPrecision(token.precision);\n\t\t\t\t}\n\n\t\t\t\t// In C, unlike 'f', 'gG' removes trailing 0s from fractional part, unless alternative format flag (\"#\").\n\t\t\t\t// But ECMAScript formats toPrecision as 0.00100000. So remove trailing 0s.\n\t\t\t\tif(!token.alternative){\n\t\t\t\t\t//print(\"replacing trailing 0 in '\" + s + \"'\");\n\t\t\t\t\ttoken.arg = token.arg.replace(/(\\..*[^0])0*/, \"$1\");\n\t\t\t\t\t// if fractional part is entirely 0, remove it and decimal point\n\t\t\t\t\ttoken.arg = token.arg.replace(/\\.0*e/, 'e').replace(/\\.0$/,'');\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow new Error(\"Unexpected double notation '\" + token.doubleNotation + \"'\");\n\t\t}\n\n\t\t// C says that exponent must have at least two digits.\n\t\t// But ECMAScript does not; toExponential results in things like \"1.000000e-8\" and \"1.000000e+8\".\n\t\t// Note that s.replace(/e([\\+\\-])(\\d)/, \"e$10$2\") won't work because of the \"$10\" instead of \"$1\".\n\t\t// And replace(re, func) isn't supported on IE50 or Safari1.\n\t\ttoken.arg = token.arg.replace(/e\\+(\\d)$/, \"e+0$1\").replace(/e\\-(\\d)$/, \"e-0$1\");\n\n\t\t// Ensure a '0' before the period.\n\t\t// Opera implements (0.001).toString() as '0.001', but (0.001).toFixed(1) is '.001'\n\t\tisOpera && (token.arg = token.arg.replace(/^\\./, '0.'));\n\n\t\t// if alt, ensure a decimal point\n\t\tif (token.alternative) {\n\t\t\ttoken.arg = token.arg.replace(/^(\\d+)$/,\"$1.\");\n\t\t\ttoken.arg = token.arg.replace(/^(\\d+)e/,\"$1.e\");\n\t\t}\n\n\t\tf >= 0 && token.sign && (token.arg = token.sign + token.arg);\n\t\ttoken.arg = token.toUpper ? token.arg.toUpperCase() : token.arg.toLowerCase();\n\t}\n\n\tString.format = function(format) {\n\t\tvar args = lang.toArray(arguments),\n\t\t\tre = /\\%(?:\\(([\\w_]+)\\)|([1-9]\\d*)\\$)?([0 +\\-\\#]*)(\\*|\\d+)?(\\.)?(\\*|\\d+)?[hlL]?([\\%scdeEfFgGiouxX])/g,\n\t\t\ttokens = [],\n\t\t\tsequence,\n\t\t\tmapped = 0,\n\t\t\tmatch,\n\t\t\tcopy,\n\t\t\tcontent,\n\t\t\tlastIndex = 0,\n\t\t\tposition = 0,\n\t\t\tstr = \"\",\n\t\t\tkeys = [\"mapping\", \"intmapping\", \"flags\", \"_minWidth\", \"period\", \"_precision\", \"specifier\"];\n\n\t\t// tokenize\n\t\twhile (match = re.exec(format)) {\n\t\t\tcontent = format.slice(lastIndex, re.lastIndex - match[0].length);\n\t\t\tcontent.length && tokens.push(content);\n\t\t\tif (isOpera) {\n\t\t\t\tcopy = match.slice(0);\n\t\t\t\twhile (copy.length < match.length) {\n\t\t\t\t\tcopy.push(null);\n\t\t\t\t}\n\t\t\t\tmatch = copy;\n\t\t\t}\n\t\t\tsequence = {};\n\t\t\tmatch.slice(1).concat(tokens.length).map(function(x, y) {\n\t\t\t\tkeys[y] && (sequence[keys[y]] = x);\n\t\t\t});\n\t\t\ttokens.push(sequence);\n\t\t\tsequence[0] && mapped++;\n\t\t\tlastIndex = re.lastIndex;\n\t\t}\n\t\tcontent = format.slice(lastIndex);\n\t\tcontent.length && tokens.push(content);\n\n\t\t// strip off the format\n\t\targs.shift();\n\t\tassert(!mapped || args.length, \"Format has no mapped arguments\");\n\n\t\ttokens.forEach(function(token) {\n\t\t\tvar tf,\n\t\t\t\tflags = {},\n\t\t\t\tfi,\n\t\t\t\tflag,\n\t\t\t\tmixins = specifiers[token.specifier];\n\n\t\t\tif (is(token, \"String\")) {\n\t\t\t\tstr += token;\n\t\t\t} else {\n\t\t\t\tif (mapped) {\n\t\t\t\t\tassert(args[token.mapping] === void 0, \"Missing key \" + token.mapping);\n\t\t\t\t} else {\n\t\t\t\t\ttoken.intmapping && (position = parseInt(token.intmapping) - 1);\n\t\t\t\t\tassert(position < args.length, \"Got \" + args.length + \" format arguments, insufficient for '\" + format + \"'\");\n\t\t\t\t}\n\t\t\t\ttoken.arg = args[mapped ? token.mapping : position++];\n\n\t\t\t\tif (!token.compiled) {\n\t\t\t\t\tmix(token, {\n\t\t\t\t\t\tcompiled: 1,\n\t\t\t\t\t\tsign: \"\",\n\t\t\t\t\t\tzeroPad: 0,\n\t\t\t\t\t\trightJustify: 0,\n\t\t\t\t\t\talternative: 0,\n\t\t\t\t\t\tminWidth: token._minWidth | 0,\n\t\t\t\t\t\tmaxWidth: -1,\n\t\t\t\t\t\ttoUpper: 0,\n\t\t\t\t\t\tisUnsigned: 0,\n\t\t\t\t\t\tisInt: 0,\n\t\t\t\t\t\tisDouble: 0,\n\t\t\t\t\t\tprecision: token.period === '.' ? token._precision | 0 : 1\n\t\t\t\t\t});\n\n\t\t\t\t\tfor (tf = token.flags, fi = tf.length; fi--;) {\n\t\t\t\t\t\tflags[flag = tf.charAt(fi)] = 1;\n\t\t\t\t\t\tswitch (flag) {\n\t\t\t\t\t\t\tcase \" \":\n\t\t\t\t\t\t\t\ttoken.sign = \" \";\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"+\":\n\t\t\t\t\t\t\t\ttoken.sign = \"+\";\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"0\":\n\t\t\t\t\t\t\t\ttoken.zeroPad = !flags[\"-\"];\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"-\":\n\t\t\t\t\t\t\t\ttoken.rightJustify = 1;\n\t\t\t\t\t\t\t\ttoken.zeroPad = 0;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"\\#\":\n\t\t\t\t\t\t\t\ttoken.alternative = 1;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tthrow new Error(\"Bad formatting flag '\" + flag + \"'\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tassert(mixins !== void 0, \"Unexpected specifier '\" + token.specifier + \"'\");\n\n\t\t\t\t\tif (mixins.extend) {\n\t\t\t\t\t\tmix(mixins, specifiers[mixins.extend]);\n\t\t\t\t\t\tdelete mixins.extend;\n\t\t\t\t\t}\n\t\t\t\t\tmix(token, mixins);\n\t\t\t\t}\n\n\t\t\t\tis(token.setArg, \"Function\") && token.setArg(token);\n\t\t\t\tis(token.setMaxWidth, \"Function\") && token.setMaxWidth(token);\n\n\t\t\t\tif (token._minWidth === \"*\") {\n\t\t\t\t\tassert(mapped, \"* width not supported in mapped formats\");\n\t\t\t\t\tassert(isNaN(token.minWidth = parseInt(args[position++])), \"The argument for * width at position \" + position + \" is not a number in \" + this._format);\n\t\t\t\t\t// negative width means rightJustify\n\t\t\t\t\tif (token.minWidth < 0) {\n\t\t\t\t\t\ttoken.rightJustify = 1;\n\t\t\t\t\t\ttoken.minWidth = -token.minWidth;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(token._precision === \"*\" && token.period === \".\"){\n\t\t\t\t\tassert(mapped, \"* precision not supported in mapped formats\");\n\t\t\t\t\tassert(isNaN(token.precision = parseInt(args[position++])), \"The argument for * precision at position \" + position + \" is not a number in \" + this._format);\n\t\t\t\t\t// negative precision means unspecified\n\t\t\t\t\tif (token.precision < 0) {\n\t\t\t\t\t\ttoken.precision = 1;\n\t\t\t\t\t\ttoken.period = '';\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (token.isInt) {\n\t\t\t\t\t// a specified precision means no zero padding\n\t\t\t\t\ttoken.period === '.' && (token.zeroPad = 0);\n\t\t\t\t\tformatInt(token);\n\t\t\t\t} else if(token.isDouble) {\n\t\t\t\t\ttoken.period !== '.' && (token.precision = 6);\n\t\t\t\t\tformatDouble(token);\n\t\t\t\t}\n\n\t\t\t\tfitField(token);\n\n\t\t\t\tstr += \"\" + token.arg;\n\t\t\t}\n\t\t});\n\n\t\treturn str;\n\t};\n\n\treturn {\n\t\tcapitalize: function(s) {\n\t\t\ts = s || \"\";\n\t\t\treturn s.substring(0, 1).toUpperCase() + s.substring(1);\n\t\t},\n\n\t\ttrim: String.prototype.trim ?\n\t\t\tfunction(str){ return str.trim(); } :\n\t\t\tfunction(str){ return str.replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, ''); }\n\t};\n\n});\n},\n\"Ti/Filesystem\":function(){\n/* /titanium/Ti/Filesystem.js */\n\ndefine([\"Ti/_\", \"Ti/_/Evented\", \"Ti/_/lang\", \"Ti/Filesystem/File\"],\n\tfunction(_, Evented, lang, File) {\n\n\tvar applicationDataDirectory = \"appdata://\",\n\t\ttempDirectory = \"tmp://\";\n\n\tfunction join() {\n\t\tvar re = /(.+:\\/\\/)?(.*)/,\n\t\t\tprefix = \"\",\n\t\t\tresult = [],\n\t\t\tlastSegment,\n\t\t\tpath = lang.toArray(arguments).filter(function(a) {\n\t\t\t\treturn a !== void 0;\n\t\t\t}).map(function(a) {\n\t\t\t\tprefix || (prefix = a.match(re)) && (prefix = prefix[1] || \"\");\n\t\t\t\treturn a.replace(prefix, \"\").replace(/^\\/|\\/$/g, '');\n\t\t\t}).join('/');\n\n\t\t// compact the path\n\t\tpath.split('/').forEach(function(segment) {\n\t\t\tif (segment === \"..\" && lastSegment !== \"..\") {\n\t\t\t\tif (!result.length) {\n\t\t\t\t\tthrow new Error('Irrational path \"' + path + '\"')\n\t\t\t\t}\n\t\t\t\tresult.pop();\n\t\t\t\tlastSegment = result[result.length - 1];\n\t\t\t} else if (segment && segment !== \".\") {\n\t\t\t\tresult.push(lastSegment = segment);\n\t\t\t}\n\t\t});\n\n\t\t// re-assemble path\n\t\tpath = prefix + result.join('/');\n\t\tif (!prefix && !/^\\//.test(path)) {\n\t\t\tpath = '/' + path;\n\t\t}\n\n\t\treturn path;\n\t}\n\n\tfunction makeTemp(type) {\n\t\tvar f = new File({\n\t\t\t_type: type.charAt(0),\n\t\t\tnativePath: tempDirectory + _.uuid()\n\t\t});\n\t\treturn f[\"create\" + type]() ? f : null;\n\t}\n\n\treturn lang.setObject(\"Ti.Filesystem\", Evented, {\n\t\tconstants: {\n\t\t\tMODE_APPEND: 4,\n\t\t\tMODE_READ: 1,\n\t\t\tMODE_WRITE: 2,\n\t\t\tapplicationDataDirectory: applicationDataDirectory,\n\t\t\tlineEnding: '\\n',\n\t\t\tresourcesDirectory: '/',\n\t\t\tseparator: '/',\n\t\t\ttempDirectory: tempDirectory\n\t\t},\n\n\t\tprotocols: [\"appdata\", \"tmp\"],\n\n\t\tcreateTempDirectory: function() {\n\t\t\treturn makeTemp(\"Directory\");\n\t\t},\n\n\t\tcreateTempFile: function() {\n\t\t\treturn makeTemp(\"File\");\n\t\t},\n\n\t\tgetFile: function() {\n\t\t\treturn new File(join.apply(null, arguments));\n\t\t},\n\n\t\tisExternalStoragePresent: function() {\n\t\t\treturn false;\n\t\t},\n\n\t\topenStream: function(mode) {\n\t\t\tvar args = lang.toArray(arguments),\n\t\t\t\tfile;\n\t\t\targs.shift();\n\t\t\tfile = new File(join.apply(null, args));\n\t\t\treturn file.open(mode);\n\t\t}\n\t});\n\n});\n},\n\"Ti/Filesystem/File\":function(){\n/* /titanium/Ti/Filesystem/File.js */\n\ndefine([\"Ti/_/declare\", \"Ti/_/Filesystem/Local\", \"Ti/App/Properties\"], function(declare, Local, Properties) {\n\n\tvar backend = Properties.getString(\"ti.fs.backend\");\n\n\treturn declare(\"Ti.Filesystem.File\", backend ? require(backend) : Local);\n\n});\n},\n\"Ti/_/declare\":function(){\n/* /titanium/Ti/_/declare.js */\n\n/**\n * declare() functionality based on code from Dojo Toolkit.\n *\n * Dojo Toolkit\n * Copyright (c) 2005-2011, The Dojo Foundation\n * New BSD License\n * <http://dojotoolkit.org>\n */\n\ndefine(['Ti/_', 'Ti/_/lang'], function(_, lang) {\n\tvar classCounters = {},\n\t\tobjProto = Object.prototype,\n\t\tfnRegExp = /^\\d*|[^A-Za-z0-9_]*/g;\n\n\tfunction declare(className, superclass, definition) {\n\t\tvar ctor,\n\t\t\tproto = {},\n\t\t\tctors = [],\n\t\t\ttmp;\n\n\t\tif (typeof className != 'string') {\n\t\t\tdefinition = superclass;\n\t\t\tsuperclass = className;\n\t\t\tclassName = '';\n\t\t}\n\n\t\tproto.__def__ = definition = definition || {};\n\n\t\ttmp = definition.constructor;\n\t\tif (typeof tmp == 'function' && tmp !== objProto.constructor) {\n\t\t\tctors.push(tmp);\n\t\t}\n\n\t\tif (typeof superclass == 'function') {\n\t\t\ttmp = superclass.prototype;\n\t\t\ttmp.__ctors__ && (ctors = ctors.concat(tmp.__ctors__));\n\t\t\tlang.mixProps(proto, tmp, 0, 1);\n\t\t} else if (superclass && typeof superclass == 'object') {\n\t\t\tlang.mixProps(proto, superclass, 0, 1);\n\t\t}\n\n\t\tproto.declaredClass = className;\n\t\tlang.mixProps(proto, definition);\n\t\tproto.__ctors__ = ctors;\n\n\t\tctor = new Function('con', 'return function ' + (className && className.replace(fnRegExp, '') || 'AnonymousClass') + '(){con.apply(this,arguments);};')(function () {\n\t\t\tvar dc = this.declaredClass,\n\t\t\t\ta = arguments,\n\t\t\t\ta0 = a[0],\n\t\t\t\tspecial = ['properties', 'constants'],\n\t\t\t\tdef = this.__def__,\n\t\t\t\ti, c, type, descriptor,\n\t\t\t\tv = this.__values__ = {};\n\n\t\t\t// set the widget id\n\t\t\tif (dc) {\n\t\t\t\tclassCounters[dc] || (classCounters[dc] = 0);\n\t\t\t\tthis.widgetId = dc + ':' + (classCounters[dc]++);\n\t\t\t}\n\n\t\t\t// initialize the internal storage values\n\t\t\tfor (i = 0; i < special.length; i++) {\n\t\t\t\ttype = special[i];\n\t\t\t\tif (def[type]) {\n\t\t\t\t\tfor (c in def[type]) {\n\t\t\t\t\t\tdescriptor = def[type][c];\n\t\t\t\t\t\tif (descriptor && typeof descriptor == 'object' && (typeof descriptor.get == 'function' || typeof descriptor.set == 'function' || descriptor.post)) {\n\t\t\t\t\t\t\tv[type] || (v[type] = {});\n\t\t\t\t\t\t\tv[type][c] = descriptor.value;\n\t\t\t\t\t\t} else if (typeof descriptor != 'function') {\n\t\t\t\t\t\t\tv[type] || (v[type] = {});\n\t\t\t\t\t\t\tv[type][c] = descriptor;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// call constructors\n\t\t\tfor (i = ctors.length; i;) {\n\t\t\t\tctors[--i].apply(this, a);\n\t\t\t}\n\n\t\t\t// mix in args, if any\n\t\t\tif (a0 && typeof a0 == 'object') {\n\t\t\t\tc = this.__values__.constants;\n\t\t\t\tfor (i in a0) {\n\t\t\t\t\t(c && c.hasOwnProperty(i) ? c : this)[i] = a0[i];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// add the toString() function for all our objects\n\t\t\tthis.toString === objProto.toString && (this.toString = function() {\n\t\t\t\treturn '[object ' + (dc ? dc.replace(/\\./g, '') : 'Object') + ']';\n\t\t\t});\n\n\t\t\t// continue the original ritual: call the postscript\n\t\t\tf = this.postscript;\n\t\t\tf && f.apply(this, a);\n\t\t});\n\n\t\tctor.prototype = proto;\n\n\t\tclassName && lang.setObject(className, ctor);\n\n\t\treturn ctor;\n\t}\n\n\treturn _.declare = declare;\n});\n},\n\"Ti/_/Filesystem/Local\":function(){\n/* /titanium/Ti/_/Filesystem/Local.js */\n\ndefine([\"Ti/_\", \"Ti/_/Evented\", \"Ti/_/declare\", \"Ti/_/encoding\", \"Ti/_/lang\", \"Ti/API\", \"Ti/Blob\"],\n\tfunction(_, Evented, declare, encoding, lang, API, Blob) {\n\n\tvar reg,\n\t\tregDate = Date.now(),\n\t\tFile,\n\t\tFilesystem,\n\t\tis = require.is,\n\t\tls = localStorage,\n\t\tslash = '/',\n\t\tmetaMap = {\n\t\t\tn: \"sname\",\n\t\t\tc: \"i_created\",\n\t\t\tm: \"i_modified\",\n\t\t\tt: \"s_type\",\n\t\t\ty: \"s_mimeType\",\n\t\t\te: \"b_remote\",\n\t\t\tx: \"bexecutable\",\n\t\t\tr: \"breadonly\",\n\t\t\ts: \"isize\",\n\t\t\tl: \"bsymbolicLink\",\n\t\t\th: \"bhidden\"\n\t\t},\n\t\tmetaCast = {\n\t\t\ti: function(i) {\n\t\t\t\treturn i - 0;\n\t\t\t},\n\t\t\ts: function(s) {\n\t\t\t\treturn \"\"+s;\n\t\t\t},\n\t\t\tb: function(b) {\n\t\t\t\treturn !!(b|0);\n\t\t\t}\n\t\t},\n\t\tmetaPrefix = \"ti:fs:meta:\",\n\t\tblobPrefix = \"ti:fs:blob:\",\n\t\tpathRegExp = /(\\/)?([^\\:]*)(\\:\\/\\/)?(.*)/,\n\n\t\t// important! add new mime types to the end of array and then figure out the index to assign to each extension\n\t\tmimeTypes = \"application/octet-stream,text/plain,text/html,text/css,text/xml,text/mathml,image/gif,image/jpeg,image/png,image/x-icon,image/svg+xml,application/x-javascript,application/json,application/pdf,application/x-opentype,audio/mpeg,video/mpeg,video/quicktime,video/x-flv,video/x-ms-wmv,video/x-msvideo,video/ogg,video/mp4,video/webm,text/csv\".split(','),\n\t\tmimeExtentions = { txt: 1, html: 2, htm: 2, css: 3, xml: 4, mml: 5, gif: 6, jpeg: 7, jpg: 7, png: 8, ico: 9, svg: 10, js: 11, json: 12, pdf: 13, otf: 14, mp3: 15, mpeg: 16, mpg: 16, mov: 17, flv: 18, wmv: 19, avi: 20, ogg: 21, ogv: 21, mp4: 22, m4v: 22, webm: 23, csv: 24 };\n\n\tfunction getLocal(path, meta) {\n\t\treturn ls.getItem(\"ti:fs:\" + (meta ? \"meta:\" : \"blob:\") + path);\n\t}\n\n\tfunction setLocal(path, value, meta) {\n\t\tls.setItem(\"ti:fs:\" + (meta ? \"meta:\" : \"blob:\") + path, value);\n\t\treturn value.length;\n\t}\n\n\tfunction getRemote(path) {\n\t\tvar xhr = new XMLHttpRequest;\n\t\txhr.overrideMimeType && xhr.overrideMimeType('text/plain; charset=x-user-defined');\n\t\txhr.open(\"GET\", '.' + path, false);\n\t\txhr.send(null);\n\t\treturn xhr.status === 200 ? { data: xhr.responseText, mimeType: xhr.getResponseHeader(\"Content-Type\") } : null;\n\t}\n\n\tfunction registry(path) {\n\t\tvar stack = [],\n\t\t\tr;\n\n\t\tif (!reg) {\n\t\t\treg = {\n\t\t\t\t'/': \"tD\\nr1\"\n\t\t\t};\n\n\t\t\trequire(\"./.././filesystem.registry\").split(/\\n|\\|/).forEach(function(line, i) {\n\t\t\t\tvar depth = 0,\n\t\t\t\t\tline = line.split('\\t'),\n\t\t\t\t\tlen = line.length,\n\t\t\t\t\tname;\n\n\t\t\t\tif (i === 0 && line[0] === \"ts\") {\n\t\t\t\t\tregDate = line[1];\n\t\t\t\t\treg[slash] += \"\\nc\" + regDate;\n\t\t\t\t} else {\n\t\t\t\t\tfor (; depth < len && !line[depth]; depth++) {}\n\t\t\t\t\tstack = stack.slice(0, depth).concat(name = line[depth]);\n\t\t\t\t\treg[slash + stack.join(slash)] = \"n\" + name + \"\\nt\" + (depth + 1 == len ? 'D' : 'F\\ns' + line[depth + 1]);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn (r = reg[path]) && r + \"\\nr1\\ne1\\nc\" + regDate + \"\\nm\" + regDate;\n\t}\n\n\tfunction filesystem() {\n\t\treturn Filesystem || (Filesystem = require(\"Ti/Filesystem\"));\n\t}\n\n\tfunction mkdir(prefix, parts, i, parent) {\n\t\tvar file,\n\t\t\ti = i || 1,\n\t\t\tpath = prefix + parts.slice(0, i).join(slash);\n\n\t\tif (parent && parent.readonly) {\n\t\t\t// parent directory is readonly, so we can't create a directory here\n\t\t\tAPI.error('Unable to create \"' + path + '\" because parent is readonly');\n\t\t\treturn false;\n\t\t}\n\n\t\tfile = new File({\n\t\t\tnativePath: path,\n\t\t\ttype: 'D'\n\t\t});\n\t\tfile.createDirectory();\n\n\t\tif (++i > parts.length) {\n\t\t\t// we're done!\n\t\t\treturn true;\n\t\t}\n\n\t\treturn mkdir(prefix, parts, i, file);\n\t}\n\n\tfunction mkdirs(path) {\n\t\tif (path) {\n\t\t\tvar match = path.match(pathRegExp),\n\t\t\t\tprefix = (match[1] ? match[1] : match[2] + match[3]) || slash;\n\t\t\tpath = match[1] ? match[2] : match[4];\n\t\t\treturn path ? mkdir(prefix, path.split(slash)) : true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tfunction cpdir(src, dest) {\n\t\tvar path = src.nativePath,\n\t\t\tre = new RegExp(\"^(ti:fs:meta|ti:fs:blob):\" + path + (/\\/$/.test(path) ? '' : slash) + \"(.*)\"),\n\t\t\tmatch,\n\t\t\tkey,\n\t\t\ti = 0,\n\t\t\tlen = ls.length;\n\n\t\tdest = filesystem().getFile(dest.nativePath, src.name);\n\n\t\tif (mkdirs(dest.nativePath)) {\n\t\t\twhile (i < len) {\n\t\t\t\tkey = ls.key(i++);\n\t\t\t\t(match = key.match(re)) && ls.setItem(match[1] + ':' + dest.nativePath + slash + match[2], ls.getItem(key) || '');\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tfunction purgeTemp() {\n\t\tvar re = /^ti:fs:tmp:\\/\\//,\n\t\t\ti = 0,\n\t\t\tlen = ls.length,\n\t\t\tkey;\n\t\twhile (i < len) {\n\t\t\tkey = ls.key(i++);\n\t\t\tre.test(key) && ls.removeItem(key);\n\t\t}\n\t}\n\tpurgeTemp();\n\trequire.on(window, \"beforeunload\", purgeTemp);\n\n\t(function(paths, now) {\n\t\tfor (var p in paths) {\n\t\t\tgetLocal(p, 1) || setLocal(p, \"c\" + now + \"\\nm\" + now + \"\\ntD\\ne0\\nx0\\nl0\\nh0\\nr\" + paths[p], 1);\n\t\t}\n\t}({\n\t\t\"appdata://\": 0,\n\t\t\"/\": 1,\n\t\t\"tmp://\": 0\n\t}, Date.now()));\n\n\treturn File = declare(\"Ti._.Filesystem.Local\", Evented, {\n\n\t\tconstructor: function(path) {\n\t\t\tif (is(path, \"String\")) {\n\t\t\t\tvar match = path.match(pathRegExp),\n\t\t\t\t\tb = !match[1] && match[3];\n\n\t\t\t\tif (/^\\.\\./.test(path = b ? match[4] : match[2])) {\n\t\t\t\t\tthrow new Error('Irrational path \"' + path + '\"');\n\t\t\t\t}\n\n\t\t\t\tthis.__values__.constants.nativePath = (b ? match[2] + \"://\" : slash) + path;\n\t\t\t}\n\n\t\t\tthis._type = !path || path._type === 'D' ? 'D' : 'F';\n\t\t},\n\n\t\tpostscript: function(args) {\n\t\t\tvar c = this.__values__.constants,\n\t\t\t\tpath = this.nativePath,\n\t\t\t\tmetaData = path && getLocal(path, 1) || registry(path),\n\t\t\t\tmatch = path.match(pathRegExp),\n\t\t\t\tprefix = (match[1] ? match[1] : match[2] + match[3]) || slash,\n\t\t\t\tparentPath,\n\t\t\t\tparent;\n\n\t\t\tmetaData && (this._exists = 1) && metaData.split('\\n').forEach(function(line) {\n\t\t\t\tvar fieldInfo = metaMap[line.charAt(0)],\n\t\t\t\t\tfield = fieldInfo.substring(1),\n\t\t\t\t\tvalue = metaCast[fieldInfo.charAt(0)](line.substring(1));\n\t\t\t\t(c.hasOwnProperty(field) ? c : this)[field] = value;\n\t\t\t}, this);\n\n\t\t\tpath = match[1] ? match[2] : match[4];\n\t\t\tparentPath = path.split(slash);\n\t\t\tc.name = parentPath.pop();\n\t\t\tparentPath = parentPath.join(slash);\n\t\t\tparent = c.parent = path ? new File(prefix + parentPath) : null;\n\n\t\t\t(parent && parent.readonly) || (match && match[1]) && (c.readonly = true);\n\t\t},\n\n\t\tconstants: {\n\t\t\tname: \"\",\n\t\t\texecutable: false,\n\t\t\treadonly: false,\n\t\t\tsize: 0,\n\t\t\tsymbolicLink: false,\n\t\t\tnativePath: \"\",\n\t\t\tparent: null,\n\t\t\twritable: {\n\t\t\t\tget: function() {\n\t\t\t\t\treturn !this.readonly;\n\t\t\t\t},\n\t\t\t\tset: function(value) {\n\t\t\t\t\treturn this.__values__.constants.readonly = !value;\n\t\t\t\t},\n\t\t\t\tvalue: true\n\t\t\t}\n\t\t},\n\n\t\tproperties: {\n\t\t\thidden: false\n\t\t},\n\n\t\tappend: function(/*Ti.Blob|Ti.Filesystem.File*/data) {\n\t\t\tif (this.isFile()) {\n\t\t\t\tswitch (data && data.declaredClass) {\n\t\t\t\t\tcase \"Ti.Filesystem.File\":\n\t\t\t\t\t\tdata = data.read();\n\t\t\t\t\tcase \"Ti.Blob\":\n\t\t\t\t\t\tthis._mimeType = data.mimeType;\n\t\t\t\t\t\tdata = data.text;\n\t\t\t\t}\n\t\t\t\tvar blob = this.read();\n\t\t\t\tblob.append(data);\n\t\t\t\treturn this.write(blob);\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\tcopy: function(dest) {\n\t\t\tif (this.exists && dest) {\n\t\t\t\tvar fs = filesystem(),\n\t\t\t\t\tdest = dest.declaredClass === \"Ti.Filesystem.File\" ? dest : fs.getFile.apply(null, arguments),\n\t\t\t\t\tp = dest.parent,\n\t\t\t\t\tisFile = this.isFile();\n\t\t\t\tif (dest.exists()) {\n\t\t\t\t\tif (dest.readonly) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tif (dest.isFile()) {\n\t\t\t\t\t\tif (!isFile) {\n\t\t\t\t\t\t\tTi.API.error(\"Destination is not a directory\");\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn dest.write(this.read());\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn isFile ? fs.getFile(dest.nativePath, this.name).write(this.read()) : cpdir(this, dest);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (p) {\n\t\t\t\t\t\tp.createDirectory();\n\t\t\t\t\t\tif (!p.exists() || p.readonly || (!isFile && !dest.createDirectory())) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn isFile ? dest.write(this.read()) : cpdir(this, dest);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\tcreateDirectory: function() {\n\t\t\treturn this._create('D');\n\t\t},\n\n\t\tcreateFile: function() {\n\t\t\treturn this._create('F');\n\t\t},\n\n\t\tcreateTimestamp: function() {\n\t\t\treturn this._created || null;\n\t\t},\n\n\t\tdeleteDirectory: function(recursive) {\n\t\t\tif (this.isDirectory() && !this.readonly) {\n\t\t\t\tvar path = this.nativePath,\n\t\t\t\t\tre = new RegExp(\"^ti:fs:(meta|blob):\" + path + (/\\/$/.test(path) ? '' : slash) + \".*\"),\n\t\t\t\t\ti = 0,\n\t\t\t\t\tlen = ls.length;\n\t\t\t\twhile (i < len) {\n\t\t\t\t\tif (re.test(key = ls.key(i++))) {\n\t\t\t\t\t\tif (!recursive) {\n\t\t\t\t\t\t\tTi.API.error('Directory \"' + path + '\" not empty');\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tls.removeItem(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis._exists = 0;\n\t\t\t\tls.removeItem(metaPrefix + path);\n\t\t\t\tls.removeItem(blobPrefix + path);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\tdeleteFile: function() {\n\t\t\tif (this.exists() && this.isFile() && !this.readonly) {\n\t\t\t\tvar path = this.nativePath;\n\t\t\t\tthis._exists = 0;\n\t\t\t\tls.removeItem(metaPrefix + path);\n\t\t\t\tls.removeItem(blobPrefix + path);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\texists: function() {\n\t\t\treturn !!this._exists;\n\t\t},\n\n\t\textension: function() {\n\t\t\tvar m = this.name.match(/\\.(.+)$/);\n\t\t\treturn m ? m[1] : \"\";\n\t\t},\n\n\t\tgetDirectoryListing: function() {\n\t\t\tvar files = [];\n\t\t\tif (this.isDirectory()) {\n\t\t\t\tvar path = this.nativePath + (/\\/$/.test(this.nativePath) ? '' : slash),\n\t\t\t\t\tlsRegExp = new RegExp(\"^\" + metaPrefix + path + \"(.*)\"),\n\t\t\t\t\tregRegExp = new RegExp(\"^\" + path + \"(.*)\"),\n\t\t\t\t\ti = 0,\n\t\t\t\t\tlen = ls.length;\n\n\t\t\t\tfunction add(s, re) {\n\t\t\t\t\tvar file, match = s.match(re);\n\t\t\t\t\tmatch && match[1] && files.indexOf(file = match[1].split(slash)[0]) < 0 && files.push(file);\n\t\t\t\t}\n\n\t\t\t\t// check local storage\n\t\t\t\twhile (i < len) {\n\t\t\t\t\tadd(ls.key(i++), lsRegExp);\n\t\t\t\t}\n\n\t\t\t\t// check remote storage\n\t\t\t\tfor (i in reg) {\n\t\t\t\t\tadd(i, regRegExp);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn files.sort();\n\t\t},\n\n\t\tisDirectory: function() {\n\t\t\treturn this._type === 'D';\n\t\t},\n\n\t\tisFile: function() {\n\t\t\treturn this._type === 'F';\n\t\t},\n\n\t\tmodificationTimestamp: function() {\n\t\t\treturn this._modified || null;\n\t\t},\n\n\t\tmove: function() {\n\t\t\treturn this.copy.apply(this, arguments) && this[this.isFile() ? \"deleteFile\" : \"deleteDirectory\"](1);\n\t\t},\n\n\t\topen: function(mode) {\n\t\t\tvar FileStream = require(\"Ti/Filesystem/FileStream\");\n\t\t\treturn this.exists() && this.isFile() ? new FileStream({\n\t\t\t\tmode: mode,\n\t\t\t\tdata: this.read().text\n\t\t\t}) : null;\n\t\t},\n\n\t\tread: function() {\n\t\t\tif (this.exists() && this.isFile()) {\n\t\t\t\tvar path = this.nativePath,\n\t\t\t\t\tobj,\n\t\t\t\t\tdata = this._remote ? (obj = getRemote(path)).data : getLocal(path) || \"\",\n\t\t\t\t\tdefaultMimeType =  mimeTypes[mimeExtentions[this.extension()] || 0],\n\t\t\t\t\ttype = obj && obj.mimeType || this._mimeType || defaultMimeType,\n\t\t\t\t\ti = 0,\n\t\t\t\t\tlen = data.length,\n\t\t\t\t\tbinaryData = '',\n\t\t\t\t\tparams = {\n\t\t\t\t\t\tfile: this,\n\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\tlength: len,\n\t\t\t\t\t\tmimeType: type = type === \"application/octet-stream\" && type !== defaultMimeType ? defaultMimeType : type,\n\t\t\t\t\t\tnativePath: path\n\t\t\t\t\t};\n\n\t\t\t\tif (this._remote && _.isBinaryMimeType(type)) {\n\t\t\t\t\twhile (i < len) {\n\t\t\t\t\t\tbinaryData += String.fromCharCode(data.charCodeAt(i++) & 0xff);\n\t\t\t\t\t}\n\t\t\t\t\tparams.data = btoa(binaryData);\n\t\t\t\t}\n\n\t\t\t\treturn new Blob(params);\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\n\t\trename: function(name) {\n\t\t\tif (this.exists && !this.readonly) {\n\t\t\t\tvar origPath = this.nativePath,\n\t\t\t\t\tpath = origPath,\n\t\t\t\t\tblob = ls.getItem(blobPrefix + path),\n\t\t\t\t\tre = new RegExp(\"^ti:fs:(meta|blob):\" + path + (/\\/$/.test(path) ? '' : slash) + \"(.*)\"),\n\t\t\t\t\tmatch = path.match(pathRegExp),\n\t\t\t\t\tprefix = (match[1] ? match[1] : match[2] + match[3]) || slash,\n\t\t\t\t\ti = 0,\n\t\t\t\t\tlen = ls.length,\n\t\t\t\t\tc = this.__values__.constants,\n\t\t\t\t\tdest,\n\t\t\t\t\tkey;\n\n\t\t\t\tpath = match[1] ? match[2] : match[4];\n\n\t\t\t\tif (!path) {\n\t\t\t\t\tTi.API.error('Can\\'t rename root \"' + prefix + '\"');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tpath = path.split(slash);\n\t\t\t\tpath.pop();\n\t\t\t\tpath.push(name);\n\n\t\t\t\tdest = new File(path = prefix + path.join(slash));\n\t\t\t\tif (dest.exists() || dest.parent.readonly) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif (this._type === 'D') {\n\t\t\t\t\twhile (i < len) {\n\t\t\t\t\t\tkey = ls.key(i++);\n\t\t\t\t\t\tif (match = key.match(re)) {\n\t\t\t\t\t\t\tls.setItem(\"ti:fs:\" + match[1] + \":\" + path + slash + match[2], ls.getItem(key));\n\t\t\t\t\t\t\tls.removeItem(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis._save(path, name);\n\t\t\t\tblob && ls.setItem(blobPrefix + path, blob);\n\t\t\t\tls.removeItem(metaPrefix + origPath);\n\t\t\t\tls.removeItem(blobPrefix + origPath);\n\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\tresolve: function() {\n\t\t\treturn this.nativePath;\n\t\t},\n\n\t\tspaceAvailable: function() {\n\t\t\treturn \"remainingSpace\" in ls ? ls.remainingSpace : null;\n\t\t},\n\n\t\twrite: function(/*String|File|Blob*/data, append) {\n\t\t\tvar path = this.nativePath;\n\t\t\tif (path && this.isFile() && !this.readonly && this.parent && !this.parent.readonly) {\n\t\t\t\tdata && is(data, \"String\") && (this._mimeType = mimeTypes[1]);\n\t\t\t\tswitch (data && data.declaredClass) {\n\t\t\t\t\tcase \"Ti.Filesystem.File\":\n\t\t\t\t\t\tdata = data.read();\n\t\t\t\t\tcase \"Ti.Blob\":\n\t\t\t\t\t\tthis._mimeType = data.mimeType;\n\t\t\t\t\t\tdata = data._data || \"\";\n\t\t\t\t}\n\t\t\t\tthis._exists = 1;\n\t\t\t\tthis._modified = Date.now();\n\t\t\t\tthis._created || (this._created = this._modified);\n\t\t\t\tthis.__values__.constants.size = setLocal(path, append ? this.read() + data : data);\n\t\t\t\treturn this._save();\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\t_create: function(type) {\n\t\t\tif (!this.exists() && this.parent && !this.parent.readonly && mkdirs(this.parent.nativePath)) {\n\t\t\t\tthis._created = this._modified = Date.now();\n\t\t\t\tthis._exists = 1;\n\t\t\t\tthis._type = type;\n\t\t\t\treturn this._save();\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\t_save: function(path, name) {\n\t\t\tvar path = path || this.nativePath,\n\t\t\t\tmeta;\n\t\t\tif (path) {\n\t\t\t\tmeta = [\"n\", name || this.name, \"\\nc\", this._created, \"\\nm\", this._modified, \"\\nt\", this._type, \"\\ne0\\nx0\\nr\", this.readonly|0, \"\\nl\", this.symbolicLink|0, \"\\nh\", this.hidden|0];\n\t\t\t\tthis._type === 'F' && meta.push(\"\\ns\" + this.size);\n\t\t\t\tthis._mimeType && meta.push(\"\\ny\" + this._mimeType);\n\t\t\t\tsetLocal(path, meta.join(''), 1);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t});\n\n});\n},\n\"Ti/_/encoding\":function(){\n/* /titanium/Ti/_/encoding.js */\n\ndefine([\"Ti/_/lang\"], function(lang) {\n\n\tvar fromCharCode = String.fromCharCode,\n\t\tx = 128;\n\n\treturn lang.setObject(\"Ti._.encoding\", {\n\n\t\tutf8encode: function(str) {\n\t\t\tvar c,\n\t\t\t\tstr = str.replace(/\\r\\n/g,\"\\n\"),\n\t\t\t\ti = 0,\n\t\t\t\tlen = str.length,\n\t\t\t\tbytes = [];\n\n\t\t\twhile (i < len) {\n\t\t\t\tc = str.charCodeAt(i++);\n\n\t\t\t\tif (c < x) {\n\t\t\t\t\tbytes.push(fromCharCode(c));\n\t\t\t\t} else if((c >= x) && (c < 2048)) {\n\t\t\t\t\tbytes.push(fromCharCode((c >> 6) | 192));\n\t\t\t\t\tbytes.push(fromCharCode((c & 63) | x));\n\t\t\t\t} else {\n\t\t\t\t\tbytes.push(fromCharCode((c >> 12) | 224));\n\t\t\t\t\tbytes.push(fromCharCode(((c >> 6) & 63) | x));\n\t\t\t\t\tbytes.push(fromCharCode((c & 63) | x));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn bytes.join('');\n\t\t},\n\n\t\tutf8decode: function(bytes) {\n\t\t\tvar str = [],\n\t\t\t\ti = 0,\n\t\t\t\tlen = bytes.length,\n\t\t\t\tc,\n\t\t\t\tc2;\n\n\t\t\twhile (i < len) {\n\t\t\t\tc = bytes.charCodeAt(i);\n\t\t\t\tif (c < x) {\n\t\t\t\t\tstr.push(fromCharCode(c));\n\t\t\t\t\ti++;\n\t\t\t\t} else {\n\t\t\t\t\tc2 = bytes.charCodeAt(i+1);\n\t\t\t\t\tif(c > 191 && c < 224) {\n\t\t\t\t\t\tstr.push(fromCharCode(((c & 31) << 6) | (c2 & 63)));\n\t\t\t\t\t\ti += 2;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstr.push(fromCharCode(((c & 15) << 12) | ((c2 & 63) << 6) | (bytes.charCodeAt(i+2) & 63)));\n\t\t\t\t\t\ti += 3;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn str.join('');\n\t\t}\n\n\t});\n\n});\n},\n\"Ti/Blob\":function(){\n/* /titanium/Ti/Blob.js */\n\ndefine([\"Ti/_\", \"Ti/_/declare\", \"Ti/_/Evented\"], function(_, declare, Evented) {\n\n\treturn declare(\"Ti.Blob\", Evented, {\n\n\t\tconstructor: function(args) {\n\t\t\targs = args || {};\n\t\t\tthis._data = args.data || \"\";\n\t\t},\n\n\t\tpostscript: function() {\n\t\t\tvar type = this.mimeType,\n\t\t\t\timg,\n\t\t\t\tv = this.__values__.constants;\n\n\t\t\t(this._isBinary = _.isBinaryMimeType(type)) && (v.size = v.length);\n\n\t\t\tif (!type.indexOf(\"image/\")) {\n\t\t\t\timg = new Image;\n\t\t\t\trequire.on.once(img, \"load\", function() {\n\t\t\t\t\tv.width = img.width;\n\t\t\t\t\tv.height = img.height;\n\t\t\t\t});\n\t\t\t\timg.src = this.toString();\n\t\t\t}\n\t\t},\n\n\t\tappend: function(/*String|Blob*/blob) {\n\t\t\tblob && (this._data = (this._data || \"\") + blob.toString());\n\t\t},\n\n\t\ttoString: function() {\n\t\t\treturn (this._isBinary ? \"data:\" + this.mimeType + \";base64,\" : \"\") + (this._data || \"\");\n\t\t},\n\n\t\tconstants: {\n\t\t\tfile: null,\n\t\t\theight: 0,\n\t\t\tlength: 0,\n\t\t\tmimeType: \"\",\n\t\t\tnativePath: null,\n\t\t\tsize: 0,\n\t\t\ttext: function() {\n\t\t\t\treturn this._isBinary ? null : this._data || \"\";\n\t\t\t},\n\t\t\twidth: 0\n\t\t}\n\n\t});\n\n});\n},\n\"Ti/App/Properties\":function(){\n/* /titanium/Ti/App/Properties.js */\n\ndefine([\"Ti/_/Evented\", \"Ti/_/lang\"], function(Evented, lang) {\n\n\tvar storageKey = \"ti:properties\",\n\t\ttypes = {\n\t\t\t\"Bool\": function(value) {\n\t\t\t\treturn !!value;\n\t\t\t},\n\t\t\t\"Double\": function(value) {\n\t\t\t\treturn parseFloat(value);\n\t\t\t},\n\t\t\t\"Int\": function(value) {\n\t\t\t\treturn parseInt(value);\n\t\t\t},\n\t\t\t\"List\": function(value) {\n\t\t\t\treturn require.is(value, \"Array\") ? value : [value];\n\t\t\t},\n\t\t\t\"Object\": function(value) {\n\t\t\t\treturn value;\n\t\t\t},\n\t\t\t\"String\": function(value) {\n\t\t\t\treturn \"\" + value;\n\t\t\t}\n\t\t},\n\t\ttype,\n\t\tstorage,\n\t\tapi = lang.setObject(\"Ti.App.Properties\",  Evented, {\n\t\t\thasProperty: function(prop) {\n\t\t\t\treturn !!getStorage(prop);\n\t\t\t},\n\t\t\tlistProperties: function() {\n\t\t\t\tvar storage = getStorage(),\n\t\t\t\t\tprops = [],\n\t\t\t\t\tprop;\n\t\t\t\tfor (prop in storage) {\n\t\t\t\t\tprops.push(prop);\n\t\t\t\t}\n\t\t\t\treturn props;\n\t\t\t},\n\t\t\tremoveProperty: function(prop) {\n\t\t\t\tsetProp(prop);\n\t\t\t}\n\t\t});\n\n\tfunction getStorage(prop) {\n\t\tif (!storage) {\n\t\t\tvar value = localStorage.getItem(storageKey);\n\t\t\tstorage = (require.is(value, \"String\") && JSON.parse(value)) || {};\n\t\t}\n\t\tif (prop) {\n\t\t\treturn storage[prop];\n\t\t}\n\t\treturn storage;\n\t}\n\n\tfunction getProp(prop, type, defaultValue) {\n\t\tvar value = getStorage(prop);\n\t\treturn value === void 0 ? lang.val(defaultValue, null) : types[type] ? types[type](value) : value;\n\t}\n\n\tfunction setProp(prop, type, value) {\n\t\tif (prop) {\n\t\t\tgetStorage();\n\t\t\tif (value === void 0 || value === null) {\n\t\t\t\tdelete storage[prop];\n\t\t\t} else {\n\t\t\t\tstorage[prop] = types[type] ? types[type](value) : value;\n\t\t\t}\n\t\t\tlocalStorage.setItem(storageKey, JSON.stringify(storage));\n\t\t}\n\t}\n\n\tfor (type in types) {\n\t\t(function(t) {\n\t\t\tapi[\"get\" + t] = function(prop, defaultValue) {\n\t\t\t\treturn getProp(prop, t, defaultValue);\n\t\t\t};\n\t\t\tapi[\"set\" + t] = function(prop, value) {\n\t\t\t\tsetProp(prop, t, value)\n\t\t\t};\n\t\t}(type));\n\t}\n\n\treturn api;\n\n});\n},\n\"Ti/App\":function(){\n/* /titanium/Ti/App.js */\n\ndefine([\"Ti/_\", \"Ti/_/Evented\", \"Ti/_/lang\"], function(_, Evented, lang) {\n\n\treturn lang.setObject(\"Ti.App\", Evented, {\n\t\tconstants: require.mix({\n\t\t\tsessionId: function() {\n\t\t\t\tvar ss = sessionStorage,\n\t\t\t\t\tsid = ss.getItem(\"ti:sessionId\");\n\t\t\t\tsid || ss.setItem(\"ti:sessionId\", sid = _.uuid());\n\t\t\t\treturn sid;\n\t\t\t}\n\t\t}, require.config.app),\n\n\t\tgetID: function() {\n\t\t\treturn this.id;\n\t\t},\n\n\t\tgetURL: function() {\n\t\t\treturn this.url;\n\t\t},\n\n\t\tgetGUID: function() {\n\t\t\treturn this.guid;\n\t\t}\n\t});\n\n});\n},\n\"Ti/Platform\":function(){\n/* /titanium/Ti/Platform.js */\n\ndefine(['Ti/_', 'Ti/_/browser', 'Ti/_/Evented', 'Ti/_/lang', 'Ti/Locale', 'Ti/_/dom', 'Ti/UI'],\n\tfunction (_, browser, Evented, lang, Locale, dom, UI) {\n\n\tvar doc = document,\n\t\tmidName = 'ti:mid',\n\t\tmatches = doc.cookie.match(new RegExp('(?:^|; )' + midName + '=([^;]*)')),\n\t\tmid = matches ? decodeURIComponent(matches[1]) : void 0,\n\t\tunloaded,\n\t\ton = require.on,\n\t\ttiConfig = require.config.ti,\n\t\thiddenIFrame = dom.create('iframe', { id: 'urlOpener', style: {display: 'none'} }, doc.body),\n\t\tnav = navigator,\n\t\tbattery = nav.battery || nav.webkitBattery || nav.mozBattery,\n\t\tPlatform;\n\n\tmid || (mid = localStorage.getItem(midName));\n\tmid || localStorage.setItem(midName, mid = _.uuid());\n\n\tfunction saveMid() {\n\t\tif (!unloaded) {\n\t\t\tunloaded = 1;\n\t\t\t// expire cookie in 20 years... forever in mobile terms\n\t\t\tdoc.cookie = midName + '=' + encodeURIComponent(mid) + '; expires=' + (new Date(Date.now() + 63072e7)).toUTCString();\n\t\t\tlocalStorage.setItem(midName, mid);\n\t\t}\n\t}\n\n\ton(window, 'beforeunload', saveMid);\n\ton(window, 'unload', saveMid);\n\n\tPlatform = lang.setObject('Ti.Platform', Evented, {\n\t\tcanOpenURL: function (url) {\n\t\t\treturn !!url;\n\t\t},\n\n\t\tcreateUUID: _.uuid,\n\n\t\tis24HourTimeFormat: function () {\n\t\t\treturn false;\n\t\t},\n\n\t\topenURL: function (url){\n\t\t\tif (/^([tel|sms|mailto])/.test(url)) {\n\t\t\t\thiddenIFrame.contentWindow.location.href = url;\n\t\t\t} else {\n\t\t\t\tvar win = UI.createWindow({\n\t\t\t\t\t\tlayout: UI._LAYOUT_CONSTRAINING_VERTICAL,\n\t\t\t\t\t\tbackgroundColor: '#888'\n\t\t\t\t\t}),\n\t\t\t\t\tbackButton = UI.createButton({\n\t\t\t\t\t\ttop: 2,\n\t\t\t\t\t\tbottom: 2,\n\t\t\t\t\t\ttitle: 'Close'\n\t\t\t\t\t}),\n\t\t\t\t\twebview = UI.createWebView({\n\t\t\t\t\t\twidth: UI.FILL,\n\t\t\t\t\t\theight: UI.FILL\n\t\t\t\t\t});\n\t\t\t\tbackButton.addEventListener('singletap', function () {\n\t\t\t\t\twin.close();\n\t\t\t\t});\n\t\t\t\twin.add(backButton);\n\t\t\t\twin.add(webview);\n\t\t\t\twin.open();\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\twebview.url = url;\n\t\t\t\t}, 1);\n\t\t\t}\n\t\t},\n\n\t\tproperties: {\n\t\t\tbatteryMonitoring: false\n\t\t},\n\n\t\tconstants: {\n\t\t\tBATTERY_STATE_CHARGING: 1,\n\t\t\tBATTERY_STATE_FULL: 2,\n\t\t\tBATTERY_STATE_UNKNOWN: -1,\n\t\t\tBATTERY_STATE_UNPLUGGED: 0,\n\t\t\taddress: void 0,\n\t\t\tarchitecture: void 0,\n\t\t\tavailableMemory: void 0,\n\t\t\tbatteryLevel: function () {\n\t\t\t\treturn this.batteryMonitoring && battery ? battery.level * 100 : -1;\n\t\t\t},\n\t\t\tbatteryState: function () {\n\t\t\t\treturn this.batteryMonitoring && battery && battery.charging ? this.BATTERY_STATE_CHARGING : this.BATTERY_STATE_UNKNOWN;\n\t\t\t},\n\t\t\tisBrowser: true,\n\t\t\tid: mid,\n\t\t\tlocale: Locale,\n\t\t\tmacaddress: void 0,\n\t\t\tmodel: nav.userAgent,\n\t\t\tname: tiConfig.platformName,\n\t\t\tnetmask: void 0,\n\t\t\tosname: tiConfig.osName,\n\t\t\tostype: nav.platform,\n\t\t\truntime: browser.runtime,\n\t\t\tprocessorCount: void 0,\n\t\t\tusername: void 0,\n\t\t\tversion: tiConfig.version\n\t\t}\n\t});\n\n\tbattery && require.on(battery, 'chargingchange', function () {\n\t\tPlatform.batteryMonitoring && Platform.fireEvent('battery', {\n\t\t\tlevel: Platform.batteryLevel,\n\t\t\tstate: Platform.batteryState\n\t\t});\n\t});\n\n\treturn Platform;\n});\n\n},\n\"Ti/_/browser\":function(){\n/* /titanium/Ti/_/browser.js */\n\ndefine([\"Ti/_\"], function(_) {\n\tvar match = navigator.userAgent.toLowerCase().match(/(webkit|gecko|trident|presto)/);\n\treturn _.browser = {\n\t\truntime: match ? match[0] : \"unknown\"\n\t};\n});\n},\n\"Ti/Locale\":function(){\n/* /titanium/Ti/Locale.js */\n\ndefine([\"require\", \"Ti/_/lang\", \"Ti/_/Evented\", \"Ti/API\"],\n\tfunction(require, lang, Evented, API) {\n\n\tvar locale = lang.val(navigator.language,navigator.browserLanguage).replace(/^([^\\-\\_]+)[\\-\\_](.+)?$/, function(o, l, c){ return l.toLowerCase() + (c && \"-\" + c.toUpperCase()); }),\n\t\tlanguageParts = locale.split(\"-\"),\n\t\tlanguage = languageParts[0],\n\t\tstrings = {},\n\t\tcfg = require.config,\n\t\tapp = cfg.app;\n\n\t// Add `dir` attribute to set text direction for language\n\tdocument.body.dir = /^ar|he$/.test(language) ? 'RTL' : 'LTR';\n\n\tdocument.title = app.name = app.names[language] || app.name;\n\n\ttry {\n\t\t~cfg.locales.indexOf(language) && (strings = require(\"./Locale/\" + language + \"/i18n\"));\n\t} catch (e) {}\n\n\tfunction getString(key, hint) {\n\t\treturn strings[key] || hint || key || \"\";\n\t}\n\n\tObject.defineProperty(window, \"L\", { value: getString, enumarable: true });\n\n\t// format a date into a locale specific date format. Optionally pass a second argument (string) as either \"short\" (default), \"medium\" or \"long\" for controlling the date format.\n\tString.formatDate = function(dt, fmt) {\n\t\tAPI.debug('Method \"String.formatDate\" is not implemented yet.');\n\t\treturn dt.toString();\n\t};\n\n\t// format a date into a locale specific time format.\n\tString.formatTime = function(dt) {\n\t\tAPI.debug('Method \"String.formatTime\" is not implemented yet.');\n\t\treturn dt.toString();\n\t};\n\n\t// format a number into a locale specific currency format.\n\tString.formatCurrency = function(amt) {\n\t\tAPI.debug('Method \"String.formatCurrency\" is not implemented yet.');\n\t\treturn amt;\n\t};\n\n\t// format a number into a locale specific decimal format.\n\tString.formatDecimal = function(dec) {\n\t\tAPI.debug('Method \"String.formatDecimal\" is not implemented yet.');\n\t\treturn dec;\n\t};\n\n\treturn lang.setObject(\"Ti.Locale\", Evented, {\n\n\t\tconstants: {\n\t\t\tcurrentCountry: languageParts[1] || \"\",\n\t\t\tcurrentLanguage: languageParts[0] || \"\",\n\t\t\tcurrentLocale: locale\n\t\t},\n\n\t\tformatTelephoneNumber: function(s) {\n\t\t\treturn s;\n\t\t},\n\n\t\tgetCurrencyCode: function(locale) {\n\t\t\t// locale = \"en-US\" => \"USD\"\n\t\t\treturn \"\";\n\t\t},\n\n\t\tgetCurrencySymbol: function(currencyCode) {\n\t\t\t// currencyCode = \"en-US\" => \"$\"\n\t\t\treturn \"\";\n\t\t},\n\n\t\tgetLocaleCurrencySymbol: function(locale) {\n\t\t\t// locale = \"en-US\" => \"$\"\n\t\t\treturn \"\";\n\t\t},\n\n\t\tgetString: getString,\n\n\t\t_getString: function(key, hint) {\n\t\t\treturn lang.val(hint, getString(key, hint));\n\t\t}\n\n\t});\n\n});\n},\n\"Ti/UI\":function(){\n/* /titanium/Ti/UI.js */\n\n/*global Ti define window document navigator instrumentation*/\ndefine(\n\t['Ti/_', 'Ti/_/Evented', 'Ti/_/has', 'Ti/_/lang', 'Ti/_/ready', 'Ti/_/style', 'Ti/_/dom', 'Ti/_/event',\n\t'Ti/_/Gestures/DoubleTap', 'Ti/_/Gestures/Dragging', 'Ti/_/Gestures/LongPress', 'Ti/_/Gestures/Pinch', 'Ti/_/Gestures/SingleTap',\n\t'Ti/_/Gestures/Swipe', 'Ti/_/Gestures/TouchCancel', 'Ti/_/Gestures/TouchEnd', 'Ti/_/Gestures/TouchMove',\n\t'Ti/_/Gestures/TouchStart', 'Ti/_/Gestures/TwoFingerTap'],\n\tfunction(_, Evented, has, lang, ready, style, dom, event,\n\t\tDoubleTap, Dragging, LongPress, Pinch, SingleTap, Swipe, TouchCancel, TouchEnd, TouchMove, TouchStart, TwoFingerTap) {\n\n\tvar global = window,\n\t\tdoc = document,\n\t\tbody = doc.body,\n\t\ton = require.on,\n\t\tis = require.is,\n\t\tmodules = '2DMatrix,ActivityIndicator,AlertDialog,Animation,Button,EmailDialog,ImageView,Label,OptionDialog,Picker,PickerColumn,PickerRow,ProgressBar,ScrollableView,ScrollView,Slider,Switch,Tab,TabGroup,TableView,TableViewRow,TableViewSection,TextArea,TextField,View,WebView,Window',\n\t\tcreators = {},\n\t\tsetStyle = style.set,\n\t\thandheld = navigator.userAgent.toLowerCase().match(/(iphone|android)/),\n\t\tiphone = handheld && handheld[0] === 'iphone',\n\t\ttargetHeight = {},\n\t\thidingAddressBar,\n\t\tfinishAddressBar = function() {\n\t\t\tTi.UI._recalculateLayout();\n\t\t\thidingAddressBar = 0;\n\t\t},\n\t\thideAddressBar = finishAddressBar,\n\t\tsplashScreen,\n\t\tunitize = dom.unitize,\n\t\tGesture,\n\t\trecognizers = [\n\t\t\tTouchStart,\n\t\t\tTouchEnd,\n\t\t\tTouchMove,\n\t\t\tTouchCancel,\n\t\t\tDragging,\n\t\t\tSingleTap,\n\t\t\tDoubleTap,\n\t\t\tLongPress,\n\t\t\tPinch,\n\t\t\tSwipe,\n\t\t\tTwoFingerTap\n\t\t];\n\n\ton(body, 'touchmove', function(e) {\n\t\te.preventDefault();\n\t});\n\n\tmodules.split(',').forEach(function(name) {\n\t\tcreators['create' + name] = function(args) {\n\t\t\treturn new (require('Ti/UI/' + name))(args);\n\t\t};\n\t});\n\n\tif (!navigator.standalone && handheld) {\n\t\thideAddressBar = function() {\n\t\t\tif (!hidingAddressBar) {\n\t\t\t\thidingAddressBar = 1;\n\t\t\t\tvar isPortrait = require('Ti/Gesture').isPortrait | 0,\n\t\t\t\t\th = targetHeight[isPortrait],\n\t\t\t\t\ttimer;\n\n\t\t\t\tif (!h) {\n\t\t\t\t\tif (iphone) {\n\t\t\t\t\t\th = global.innerHeight + 60;\n\t\t\t\t\t\tif (global.screen.availHeight - h > 50) {\n\t\t\t\t\t\t\th += 50;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\th = global.outerHeight / (global.devicePixelRatio || 0);\n\t\t\t\t\t}\n\t\t\t\t\ttargetHeight[isPortrait] = h;\n\t\t\t\t}\n\n\t\t\t\tsetStyle(body, 'height', h + 'px');\n\n\t\t\t\tif (iphone) {\n\t\t\t\t\tglobal.scrollTo(0, 0);\n\t\t\t\t\tfinishAddressBar();\n\t\t\t\t} else {\n\t\t\t\t\ttimer = setInterval(function() {\n\t\t\t\t\t\tglobal.scrollTo(0, -1);\n\t\t\t\t\t\tif (global.innerHeight + 1 >= h) {\n\t\t\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t\t\t\tfinishAddressBar();\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 50);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tready(hideAddressBar);\n\t\ton(global, 'orientationchange', hideAddressBar);\n\t\ton(global, 'touchstart', hideAddressBar);\n\t}\n\n\tready(10, function() {\n\t\tsetTimeout(function() {\n\t\t\tvar container = Ti.UI._container = Ti.UI.createView({\n\t\t\t\t\tleft: 0,\n\t\t\t\t\ttop: 0\n\t\t\t\t}),\n\t\t\t\tnode = container.domNode,\n\t\t\t\tcoefficients = container._layoutCoefficients,\n\t\t\t\tuseTouch = has('touch'),\n\t\t\t\tusePointer = global.navigator.msPointerEnabled,\n\t\t\t\ttouching = 0;\n\n\t\t\tcoefficients.width.x1 = 1;\n\t\t\tcoefficients.height.x1 = 1;\n\t\t\tcontainer._measuredTop = 0;\n\t\t\tcontainer._measuredLeft = 0;\n\t\t\tnode.id = 'TiUIContainer';\n\t\t\tsetStyle(node, 'overflow', 'hidden');\n\t\t\tbody.appendChild(node);\n\n\t\t\t(splashScreen = doc.getElementById('splash')) && container.addEventListener('postlayout', function(){\n\t\t\t\tsetTimeout(function(){\n\t\t\t\t\tsetStyle(splashScreen,{\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\twidth: unitize(container._measuredWidth),\n\t\t\t\t\t\theight: unitize(container._measuredHeight),\n\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\tright: '',\n\t\t\t\t\t\tbottom: ''\n\t\t\t\t\t});\n\t\t\t\t}, 10);\n\t\t\t});\n\t\t\thideAddressBar();\n\n\t\t\tfunction processTouchEvent(eventType, evt) {\n\t\t\t\tvar i = 0, len = recognizers.length,\n\t\t\t\t\tj,\n\t\t\t\t\tevents = [],\n\t\t\t\t\tresults,\n\t\t\t\t\trecognizer,\n\t\t\t\t\telements = evt._elements;\n\n\t\t\t\tif (elements && elements.length) {\n\t\t\t\t\t// Convert mouse* and pointer* events to touch* events\n\t\t\t\t\tuseTouch || require.mix(evt, {\n\t\t\t\t\t\ttouches: ~['mouseup', 'pointerup', 'MSPointerUp'].indexOf(evt.type) ? [] : [evt],\n\t\t\t\t\t\ttargetTouches: [],\n\t\t\t\t\t\tchangedTouches: [evt]\n\t\t\t\t\t});\n\n\t\t\t\t\t// Calculate the set of gesture events\n\t\t\t\t\tfor (; i < len; i++) {\n\t\t\t\t\t\trecognizer = recognizers[i]['process' + eventType];\n\t\t\t\t\t\tif (recognizer) {\n\t\t\t\t\t\t\tresults = recognizer(evt, elements);\n\t\t\t\t\t\t\tfor(j in results) {\n\t\t\t\t\t\t\t\tevents[j] || (events[j] = []);\n\t\t\t\t\t\t\t\tevents[j] = events[j].concat(results[j]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Fire the events\n\t\t\t\t\tTi.UI._fireGestureEvents(events, elements);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// NOTE: MSPointer* events should be converted to just pointer* once Windows Phone 8.1 is out\n\t\t\ton(node, usePointer ? 'MSPointerDown' : useTouch ? 'touchstart' : 'mousedown', function(evt){\n\t\t\t\tvar handles = [\n\t\t\t\t\ton(global, usePointer ? 'MSPointerMove' : useTouch ? 'touchmove' : 'mousemove', function(evt){\n\t\t\t\t\t\t(useTouch || touching) && processTouchEvent('TouchMoveEvent', evt);\n\t\t\t\t\t}),\n\t\t\t\t\ton(global, usePointer ? 'MSPointerUp' : useTouch ? 'touchend' : 'mouseup', function(evt){\n\t\t\t\t\t\ttouching = 0;\n\t\t\t\t\t\tprocessTouchEvent('TouchEndEvent', evt);\n\t\t\t\t\t\tevent.off(handles);\n\t\t\t\t\t}),\n\t\t\t\t\tuseTouch && on(global, 'touchcancel', function(evt){\n\t\t\t\t\t\tprocessTouchEvent('TouchCancelEvent', evt);\n\t\t\t\t\t\tevent.off(handles);\n\t\t\t\t\t})\n\t\t\t\t];\n\t\t\t\ttouching = 1;\n\t\t\t\tprocessTouchEvent('TouchStartEvent', evt);\n\t\t\t});\n\t\t}, 1);\n\t});\n\n\ton(global, 'resize', function() {\n\t\tTi.UI._recalculateLayout();\n\t});\n\n\treturn lang.setObject('Ti.UI', Evented, creators, {\n\n\t\t_addWindow: function(win, set) {\n\t\t\tthis._container.add(win.modal ? win._modalParentContainer : win);\n\t\t\tset && this._setWindow(win);\n\n\t\t\t// as soon as we add a window or tabgroup, we can destroy the splash screen\n\t\t\tsplashScreen && dom.destroy(splashScreen);\n\n\t\t\treturn win;\n\t\t},\n\n\t\t_setWindow: function(win) {\n\t\t\tthis.__values__.constants.currentWindow = win;\n\t\t},\n\n\t\t_removeWindow: function(win) {\n\t\t\tthis._container.remove(win.modal ? win._modalParentContainer : win);\n\t\t\treturn win;\n\t\t},\n\n\t\t_fireGestureEvents: function(events, elements) {\n\t\t\tvar i = 0, len = recognizers.length,\n\t\t\t\tj,\n\t\t\t\tx, y, pt,\n\t\t\t\tsourceIndex = 0,\n\t\t\t\te;\n\n\t\t\t// Fire the events\n\t\t\twhile(elements[sourceIndex] && !elements[sourceIndex]._isPublished) {\n\t\t\t\tsourceIndex++;\n\t\t\t}\n\t\t\telements[sourceIndex] || (sourceIndex = 0);\n\t\t\tfor (i in events) {\n\t\t\t\tfor (j = 0, len = events[i].length; j < len; j++) {\n\n\t\t\t\t\t// Create the event object with proper relative locations, etc\n\t\t\t\t\te = events[i][j];\n\t\t\t\t\tif (is(e.x, 'Number') && is(e.y, 'Number')) {\n\t\t\t\t\t\tpt = this._container.convertPointToView({\n\t\t\t\t\t\t\tx: e.x,\n\t\t\t\t\t\t\ty: e.y\n\t\t\t\t\t\t}, elements[sourceIndex]);\n\t\t\t\t\t\tx = pt ? pt.x : e.x;\n\t\t\t\t\t\ty = pt ? pt.y : e.y;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tx = y = void 0;\n\t\t\t\t\t}\n\t\t\t\t\te.x = x;\n\t\t\t\t\te.y = y;\n\t\t\t\t\te.bubbles = true;\n\t\t\t\t\te.cancelBubble = false; // We use true and false here instead of 0 and 1 because they are user facing\n\n\t\t\t\t\t// Fire the event\n\t\t\t\t\telements[sourceIndex].fireEvent(i, e);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_layoutSemaphore: 0,\n\n\t\t_nodesToLayout: [],\n\n\t\t_startLayout: function() {\n\t\t\tthis._layoutSemaphore++;\n\t\t},\n\n\t\t_finishLayout: function() {\n\t\t\tif (--this._layoutSemaphore === 0) {\n\t\t\t\tthis._triggerLayout(true);\n\t\t\t}\n\t\t},\n\n\t\t_elementLayoutCount: 0,\n\n\t\t_triggerLayout: function(node, force) {\n\t\t\tvar self = this;\n\n\t\t\tif (~self._nodesToLayout.indexOf(node)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself._nodesToLayout.push(node);\n\n\t\t\tfunction startLayout() {\n\t\t\t\tself._elementLayoutCount = 0;\n\t\t\t\tvar nodes = self._nodesToLayout,\n\t\t\t\t\tlayoutNode,\n\t\t\t\t\tnode,\n\t\t\t\t\tparent,\n\t\t\t\t\tpreviousParent,\n\t\t\t\t\tchildren,\n\t\t\t\t\tchild,\n\t\t\t\t\trecursionStack,\n\t\t\t\t\trootNodesToLayout = [],\n\t\t\t\t\tlayoutRootNode = false,\n\t\t\t\t\tbreakAfterChildrenCalculations,\n\t\t\t\t\tcontainer = self._container,\n\t\t\t\t\ti,\n\t\t\t\t\tj,\n\t\t\t\t\tlen = nodes.length;\n\n\t\t\t\thas('ti-instrumentation') && (self._layoutInstrumentationTest = instrumentation.startTest('Layout'));\n\n\t\t\t\t// Determine which nodes need to be re-layed out\n\t\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\t\tlayoutNode = nodes[i];\n\t\t\t\t\tif (layoutNode._isAttachedToActiveWin()) {\n\t\t\t\t\t\t// Mark all of the children for update that need to be updated\n\t\t\t\t\t\trecursionStack = [layoutNode];\n\t\t\t\t\t\twhile (recursionStack.length > 0) {\n\t\t\t\t\t\t\tnode = recursionStack.pop();\n\t\t\t\t\t\t\tnode._markedForLayout = true;\n\t\t\t\t\t\t\tchildren = node._children;\n\t\t\t\t\t\t\tfor (j in children) {\n\t\t\t\t\t\t\t\tchild = children[j];\n\t\t\t\t\t\t\t\tif (node.layout !== 'composite' || child._needsMeasuring || node._layout._isDependentOnParent(child)) {\n\t\t\t\t\t\t\t\t\trecursionStack.push(child);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (layoutNode === container) {\n\t\t\t\t\t\t\tlayoutRootNode = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Go up and mark any other nodes that need to be marked\n\t\t\t\t\t\t\tparent = layoutNode;\n\t\t\t\t\t\t\twhile(1) {\n\t\t\t\t\t\t\t\tparent._markedForLayout = true;\n\t\t\t\t\t\t\t\tpreviousParent = parent;\n\t\t\t\t\t\t\t\tparent = parent._parent;\n\n\t\t\t\t\t\t\t\t// Check if this parent is the stopping point\n\t\t\t\t\t\t\t\tbreakAfterChildrenCalculations = false;\n\t\t\t\t\t\t\t\tif (!parent || parent === container) {\n\t\t\t\t\t\t\t\t\tlayoutRootNode = true;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t} else if(!parent._hasSizeDimensions() && !parent._needsMeasuring) {\n\t\t\t\t\t\t\t\t\t!parent._markedForLayout && !~rootNodesToLayout.indexOf(parent) && rootNodesToLayout.push(parent);\n\t\t\t\t\t\t\t\t\tbreakAfterChildrenCalculations = true;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// Recurse through the children of the parent\n\t\t\t\t\t\t\t\trecursionStack = [parent];\n\t\t\t\t\t\t\t\twhile (recursionStack.length > 0) {\n\t\t\t\t\t\t\t\t\tnode = recursionStack.pop();\n\t\t\t\t\t\t\t\t\tchildren = node._children;\n\t\t\t\t\t\t\t\t\tfor (j in children) {\n\t\t\t\t\t\t\t\t\t\tchild = children[j];\n\t\t\t\t\t\t\t\t\t\tif (child !== previousParent && (node.layout !== 'composite' || child._needsMeasuring || node._layout._isDependentOnParent(child))) {\n\t\t\t\t\t\t\t\t\t\t\tchild._markedForLayout = true;\n\t\t\t\t\t\t\t\t\t\t\trecursionStack.push(child);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (breakAfterChildrenCalculations) {\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Layout all nodes that need it\n\t\t\t\tif (layoutRootNode) {\n\t\t\t\t\tvar props = container.__values__.properties,\n\t\t\t\t\t\twidth = container._measuredWidth = props.width = global.innerWidth,\n\t\t\t\t\t\theight = container._measuredHeight = props.height = global.innerHeight;\n\t\t\t\t\tcontainer._measuredSandboxWidth = width;\n\t\t\t\t\tcontainer._measuredSandboxHeight = height;\n\t\t\t\t\tcontainer.fireEvent('postlayout');\n\t\t\t\t\tsetStyle(container.domNode, {\n\t\t\t\t\t\twidth: width + 'px',\n\t\t\t\t\t\theight: height + 'px'\n\t\t\t\t\t});\n\t\t\t\t\tcontainer._layout._doLayout(container, width, height, false, false);\n\t\t\t\t}\n\t\t\t\tfor (i = 0; i < rootNodesToLayout.length; i++) {\n\t\t\t\t\tnode = rootNodesToLayout[i];\n\t\t\t\t\tnode._layout._doLayout(node,\n\t\t\t\t\t\tnode._measuredWidth - node._borderLeftWidth - node._borderRightWidth,\n\t\t\t\t\t\tnode._measuredHeight - node._borderTopWidth - node._borderBottomWidth,\n\t\t\t\t\t\tnode._parent._layout._getWidth(node, node.width) === Ti.UI.SIZE,\n\t\t\t\t\t\tnode._parent._layout._getHeight(node, node.height) === Ti.UI.SIZE);\n\t\t\t\t}\n\n\t\t\t\thas('ti-instrumentation') && instrumentation.stopTest(self._layoutInstrumentationTest,\n\t\t\t\t\tself._elementLayoutCount + ' out of approximately ' + document.getElementById('TiUIContainer').getElementsByTagName('*').length + ' elements laid out.');\n\n\t\t\t\tself._layoutInProgress = false;\n\t\t\t\tself._layoutTimer = null;\n\t\t\t\tself._nodesToLayout = [];\n\n\t\t\t\tself.fireEvent('postlayout');\n\t\t\t}\n\n\t\t\tif (force) {\n\t\t\t\tclearTimeout(self._layoutTimer);\n\t\t\t\tself._layoutInProgress = true;\n\t\t\t\tstartLayout();\n\t\t\t} else if (self._nodesToLayout.length === 1) {\n\t\t\t\tself._layoutInProgress = true;\n\t\t\t\tself._layoutTimer = setTimeout(startLayout, 10);\n\t\t\t}\n\t\t},\n\n\t\t_recalculateLayout: function() {\n\t\t\tGesture || (Gesture = require('Ti/Gesture'));\n\t\t\tGesture._updateOrientation();\n\t\t\tvar container = this._container;\n\t\t\tif (container) {\n\t\t\t\tcontainer.width = global.innerWidth;\n\t\t\t\tcontainer.height = global.innerHeight;\n\t\t\t}\n\t\t},\n\n\t\tproperties: {\n\t\t\tbackgroundColor: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\treturn this._container.backgroundColor = value;\n\t\t\t\t}\n\t\t\t},\n\t\t\tbackgroundImage: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\treturn setStyle(body, 'backgroundImage', value ? style.url(value) : '');\n\t\t\t\t}\n\t\t\t},\n\t\t\tcurrentTab: void 0\n\t\t},\n\n\t\tconvertUnits: function(convertFromValue, convertToUnits) {\n\t\t\tvar intermediary = dom.computeSize(convertFromValue, 0, false);\n\t\t\tswitch(convertToUnits) {\n\t\t\t\tcase Ti.UI.UNIT_MM:\n\t\t\t\t\tintermediary *= 10;\n\t\t\t\tcase Ti.UI.UNIT_CM:\n\t\t\t\t\treturn intermediary / ( 0.0393700787 * _.dpi * 10);\n\t\t\t\tcase Ti.UI.UNIT_IN:\n\t\t\t\t\treturn intermediary / _.dpi;\n\t\t\t\tcase Ti.UI.UNIT_DIP:\n\t\t\t\t\treturn intermediary * 96 / _.dpi;\n\t\t\t\tcase Ti.UI.UNIT_PX:\n\t\t\t\t\treturn intermediary;\n\t\t\t\tdefault: return 0;\n\t\t\t}\n\t\t},\n\n\t\tconstants: {\n\t\t\tcurrentWindow: void 0,\n\t\t\tUNKNOWN: 0,\n\t\t\tFACE_DOWN: 1,\n\t\t\tFACE_UP: 2,\n\t\t\tPORTRAIT: 3,\n\t\t\tUPSIDE_PORTRAIT: 4,\n\t\t\tLANDSCAPE_LEFT: 5,\n\t\t\tLANDSCAPE_RIGHT: 6,\n\t\t\tINPUT_BORDERSTYLE_NONE: 0, // DO NOT CHANGE! Values are referenced directly in code\n\t\t\tINPUT_BORDERSTYLE_LINE: 1, // DO NOT CHANGE! Values are referenced directly in code\n\t\t\tINPUT_BORDERSTYLE_BEZEL: 2, // DO NOT CHANGE! Values are referenced directly in code\n\t\t\tINPUT_BORDERSTYLE_ROUNDED: 3, // DO NOT CHANGE! Values are referenced directly in code\n\t\t\tKEYBOARD_DEFAULT: 2,\n\t\t\tKEYBOARD_EMAIL: 3,\n\t\t\tKEYBOARD_NUMBER_PAD: 6,\n\t\t\tKEYBOARD_PHONE_PAD: 7,\n\t\t\tKEYBOARD_URL: 8,\n\t\t\tKEYBOARD_TYPE_DEFAULT: 2,\n\t\t\tKEYBOARD_TYPE_EMAIL: 3,\n\t\t\tKEYBOARD_TYPE_NUMBER_PAD: 6,\n\t\t\tKEYBOARD_TYPE_PHONE_PAD: 7,\n\t\t\tKEYBOARD_TYPE_URL: 8,\n\t\t\tNOTIFICATION_DURATION_LONG: 1,\n\t\t\tNOTIFICATION_DURATION_SHORT: 2,\n\t\t\tPICKER_TYPE_DATE: 2,\n\t\t\tPICKER_TYPE_DATE_AND_TIME: 3,\n\t\t\tPICKER_TYPE_PLAIN: 4,\n\t\t\tPICKER_TYPE_TIME: 5,\n\t\t\tRETURNKEY_DEFAULT: 0, // return\n\t\t\tRETURNKEY_DONE: 1, // Done\n\t\t\tRETURNKEY_EMERGENCY_CALL: 2, // Emergency Call\n\t\t\tRETURNKEY_GO: 3, // Go\n\t\t\tRETURNKEY_GOOGLE: 4, // Search\n\t\t\tRETURNKEY_JOIN: 5, // Join\n\t\t\tRETURNKEY_NEXT: 6, // Next\n\t\t\tRETURNKEY_ROUTE: 7, // Route\n\t\t\tRETURNKEY_SEARCH: 8, // Search\n\t\t\tRETURNKEY_SEND: 9, // Send\n\t\t\tRETURNKEY_YAHOO: 10, // Search\n\t\t\tTABLE_VIEW_SEPARATOR_STYLE_NONE: 0,\n\t\t\tTABLE_VIEW_SEPARATOR_STYLE_SINGLE_LINE: 1,\n\t\t\tTEXT_ALIGNMENT_CENTER: 'center',\n\t\t\tTEXT_ALIGNMENT_RIGHT: 'right',\n\t\t\tTEXT_ALIGNMENT_LEFT: 'left',\n\t\t\tTEXT_AUTOCAPITALIZATION_ALL: 3,\n\t\t\tTEXT_AUTOCAPITALIZATION_NONE: 0,\n\t\t\tTEXT_AUTOCAPITALIZATION_SENTENCES: 2,\n\t\t\tTEXT_AUTOCAPITALIZATION_WORDS: 1,\n\t\t\tTEXT_VERTICAL_ALIGNMENT_BOTTOM: 'bottom',\n\t\t\tTEXT_VERTICAL_ALIGNMENT_CENTER: 'center',\n\t\t\tTEXT_VERTICAL_ALIGNMENT_TOP: 'top',\n\t\t\tANIMATION_CURVE_EASE_IN: 1,\n\t\t\tANIMATION_CURVE_EASE_IN_OUT: 0,\n\t\t\tANIMATION_CURVE_EASE_OUT: 2,\n\t\t\tANIMATION_CURVE_LINEAR: 3,\n\t\t\tSIZE: 'auto',\n\t\t\tFILL: 'fill',\n\t\t\tINHERIT: 'inherit',\n\t\t\tUNIT_PX: 'px',\n\t\t\tUNIT_MM: 'mm',\n\t\t\tUNIT_CM: 'cm',\n\t\t\tUNIT_IN: 'in',\n\t\t\tUNIT_DIP: 'dp', // We don't have DIPs, so we treat them as pixels,\n\t\t\t\n\t\t\t// Hidden constants\n\t\t\t_LAYOUT_COMPOSITE: 'composite',\n\t\t\t_LAYOUT_VERTICAL: 'vertical',\n\t\t\t_LAYOUT_HORIZONTAL: 'horizontal',\n\t\t\t_LAYOUT_CONSTRAINING_VERTICAL: 'constrainingVertical',\n\t\t\t_LAYOUT_CONSTRAINING_HORIZONTAL: 'constrainingHorizontal'\n\t\t}\n\n\t});\n\n});\n},\n\"Ti/_/ready\":function(){\n/* /titanium/Ti/_/ready.js */\n\n/**\n * ready() functionality based on code from Dojo Toolkit.\n *\n * Dojo Toolkit\n * Copyright (c) 2005-2011, The Dojo Foundation\n * New BSD License\n * <http://dojotoolkit.org>\n */\n\ndefine(function() {\n\tvar doc = document,\n\t\ton = require.on,\n\t\treadyStates = { \"loaded\": 1, \"complete\": 1 },\n\t\tisReady = !!readyStates[doc.readyState],\n\t\treadyQ = [];\n\n\tif (!isReady) {\n\t\tfunction detectReady(evt) {\n\t\t\tif (isReady || (evt && evt.type == \"readystatechange\" && !readyStates[doc.readyState])) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\twhile (readyQ.length) {\n\t\t\t\t(readyQ.shift())();\n\t\t\t}\n\t\t\tisReady = 1;\n\t\t}\n\n\t\treadyQ.concat([\n\t\t\ton(doc, \"DOMContentLoaded\", detectReady),\n\t\t\ton(window, \"load\", detectReady)\n\t\t]);\n\n\t\tif (\"onreadystatechange\" in doc) {\n\t\t\treadyQ.push(require.on(doc, \"readystatechange\", detectReady));\n\t\t} else {\n\t\t\tfunction poller() {\n\t\t\t\treadyStates[doc.readyState] ? detectReady() : setTimeout(poller, 30);\n\t\t\t}\n\t\t\tpoller();\n\t\t}\n\t}\n\n\tfunction ready(priority, context, callback) {\n\t\tvar fn, i, l;\n\t\tif (!require.is(priority, \"Number\")) {\n\t\t\tcallback = context;\n\t\t\tcontext = priority;\n\t\t\tpriority = 1000;\n\t\t}\n\t\tfn = callback ? function(){ callback.call(context); } : context;\n\t\tif (isReady) {\n\t\t\tfn();\n\t\t} else {\n\t\t\tfn.priority = priority;\n\t\t\tfor (i = 0, l = readyQ.length; i < l && priority >= readyQ[i].priority; i++) {}\n\t\t\treadyQ.splice(i, 0, fn);\n\t\t}\n\t}\n\n\tready.load = function(name, require, onLoad) {\n\t\tready(onLoad);\n\t};\n\n\treturn ready;\n});\n},\n\"Ti/_/event\":function(){\n/* /titanium/Ti/_/event.js */\n\ndefine({\n\tstop: function(e) {\n\t\tif (e) {\n\t\t\te.preventDefault && e.preventDefault();\n\t\t\te.stopPropagation && e.stopPropagation();\n\t\t}\n\t},\n\toff: function(handles) {\n\t\tvar handles = require.is(handles, \"Array\") ? handles : [handles],\n\t\t\th,\n\t\t\ti = 0,\n\t\t\tl = handles.length;\n\t\twhile (i < l) {\n\t\t\t(h = handles[i++]) && h();\n\t\t}\n\t\thandles.splice(0);\n\t}\n});\n},\n\"Ti/_/Gestures/DoubleTap\":function(){\n/* /titanium/Ti/_/Gestures/DoubleTap.js */\n\n/*global define*/\ndefine(['Ti/_/declare', 'Ti/_/lang'], function (declare, lang) {\n\n\tvar firstTapTime = null,\n\t\tfirstTapLocation = null,\n\t\t\n\t\t// This is the amount of time that can elapse before the two taps are considered two separate single taps\n\t\ttimeThreshold = 250,\n\t\t\n\t\t// This is the amount of space the finger is allowed drift until the gesture is no longer considered a tap\n\t\tdriftThreshold = 25;\n\n\tfunction initTracker (x, y) {\n\t\tfirstTapTime = Date.now();\n\t\tfirstTapLocation = {\n\t\t\tx: x,\n\t\t\ty: y\n\t\t};\n\t}\n\n\treturn lang.setObject('Ti._.Gestures.DoubleTap', {\n\n\t\tprocessTouchEndEvent: function(e){\n\t\t\tif (e.touches.length === 0 && e.changedTouches.length === 1) {\n\t\t\t\tvar x = e.changedTouches[0].clientX,\n\t\t\t\t\ty = e.changedTouches[0].clientY,\n\t\t\t\t\tevents = {\n\t\t\t\t\t\tdoubletap: [],\n\t\t\t\t\t\tdblclick: []\n\t\t\t\t\t},\n\t\t\t\t\telapsedTime = Date.now() - firstTapTime;\n\n\t\t\t\tif (firstTapTime) {\n\t\t\t\t\tfirstTapTime = null;\n\t\t\t\t\tif (elapsedTime < timeThreshold && Math.abs(firstTapLocation.x - x) < driftThreshold &&\n\t\t\t\t\t\tMath.abs(firstTapLocation.y - y) < driftThreshold) {\n\t\t\t\t\t\t// We don't reuse the same results object because the values are modified before the event is fired.\n\t\t\t\t\t\t// If we reused the object, they would be modified twice, which is incorrect.\n\t\t\t\t\t\tevents.doubletap.push({\n\t\t\t\t\t\t\tx: x,\n\t\t\t\t\t\t\ty: y\n\t\t\t\t\t\t});\n\t\t\t\t\t\tevents.dblclick.push({\n\t\t\t\t\t\t\tx: x,\n\t\t\t\t\t\t\ty: y\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn events;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tinitTracker(x,y);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tinitTracker(x,y);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tprocessTouchCancelEvent: function(){\n\t\t\tthis._firstTapTime = null;\n\t\t}\n\n\t});\n\n});\n},\n\"Ti/_/Gestures/Dragging\":function(){\n/* /titanium/Ti/_/Gestures/Dragging.js */\n\n/*global define*/\ndefine(['Ti/_/declare', 'Ti/_/lang'], function (declare, lang) {\n\n\t// This is the amount of space the finger is allowed drift until the gesture is no longer considered a tap\n\tvar driftThreshold =  25,\n\t\ttouchStartLocation;\n\n\tfunction cancelDrag(e) {\n\t\tvar cancelEvent;\n\t\tif (touchStartLocation) {\n\t\t\tcancelEvent = createEvent(e);\n\t\t\ttouchStartLocation = null;\n\t\t\treturn {\n\t\t\t\tdraggingcancel: cancelEvent\n\t\t\t};\n\t\t}\n\t}\n\n\tfunction createEvent (e) {\n\t\tvar x = e.changedTouches[0].clientX,\n\t\t\ty = e.changedTouches[0].clientY,\n\t\t\tdistanceX = x - touchStartLocation.x,\n\t\t\tdistanceY = y - touchStartLocation.y;\n\t\treturn [{\n\t\t\tx: x,\n\t\t\ty: y,\n\t\t\tdistanceX: distanceX,\n\t\t\tdistanceY: distanceY,\n\t\t\tdistance: Math.sqrt(Math.pow(distanceX, 2) + Math.pow(distanceY, 2))\n\t\t}];\n\t}\n\n\treturn lang.setObject('Ti._.Gestures.Drag', {\n\n\t\tprocessTouchStartEvent: function(e){\n\t\t\tif (e.touches.length == 1 && e.changedTouches.length == 1) {\n\t\t\t\tvar x,\n\t\t\t\t\ty;\n\t\t\t\ttouchStartLocation = {\n\t\t\t\t\tx: x = e.changedTouches[0].clientX,\n\t\t\t\t\ty: y = e.changedTouches[0].clientY\n\t\t\t\t};\n\t\t\t\treturn {\n\t\t\t\t\tdraggingstart: createEvent(e)\n\t\t\t\t};\n\t\t\t} else if (touchStartLocation) {\n\t\t\t\treturn cancelDrag(e);\n\t\t\t}\n\t\t},\n\n\t\tprocessTouchEndEvent: function(e){\n\t\t\tif (touchStartLocation) {\n\t\t\t\tvar distance = Math.sqrt(Math.pow(e.changedTouches[0].clientX - touchStartLocation.x, 2) +\n\t\t\t\t\t\tMath.pow(e.changedTouches[0].clientY - touchStartLocation.y, 2)),\n\t\t\t\t\tendEvent;\n\t\t\t\tif (e.touches.length === 0 && e.changedTouches.length === 1 && distance > driftThreshold) {\n\t\t\t\t\tendEvent = createEvent(e);\n\t\t\t\t\ttouchStartLocation = null;\n\t\t\t\t\treturn {\n\t\t\t\t\t\tdraggingend: endEvent\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\treturn cancelDrag(e);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tprocessTouchMoveEvent: function(e) {\n\t\t\tif (touchStartLocation) {\n\t\t\t\tif (e.touches.length == 1 && e.changedTouches.length == 1) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tdragging: createEvent(e)\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\treturn cancelDrag(e);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tprocessTouchCancelEvent: function(e){\n\t\t\treturn touchStartLocation && cancelDrag(e);\n\t\t}\n\n\t});\n\n});\n},\n\"Ti/_/Gestures/LongPress\":function(){\n/* /titanium/Ti/_/Gestures/LongPress.js */\n\n/*global define*/\ndefine(['Ti/_/declare', 'Ti/_/lang'], function (declare, lang) {\n\n\tvar timer = null,\n\t\ttouchStartLocation = null,\n\t\t\n\t\t// This is the amount of time that must elapse before the tap is considered a long press\n\t\ttimeThreshold = 500,\n\t\t\n\t\t// This is the amount of space the finger is allowed drift until the gesture is no longer considered a tap\n\t\tdriftThreshold = 25;\n\n\treturn lang.setObject('Ti._.Gestures.LongPress', {\n\t\t\n\t\tprocessTouchStartEvent: function (e, elements) {\n\t\t\tvar changed = e.changedTouches,\n\t\t\t\tx = changed[0].clientX,\n\t\t\t\ty = changed[0].clientY;\n\t\t\tclearTimeout(timer);\n\t\t\tif (e.touches.length == 1 && e.changedTouches.length == 1) {\n\t\t\t\ttouchStartLocation = {\n\t\t\t\t\tx: e.changedTouches[0].clientX,\n\t\t\t\t\ty: e.changedTouches[0].clientY\n\t\t\t\t};\n\t\t\t\ttimer = setTimeout(function () {\n\t\t\t\t\trequire('Ti/UI')._fireGestureEvents({\n\t\t\t\t\t\tlongpress: [{\n\t\t\t\t\t\t\tx: x,\n\t\t\t\t\t\t\ty: y\n\t\t\t\t\t\t}]\n\t\t\t\t\t}, elements);\n\t\t\t\t}, timeThreshold);\n\t\t\t}\n\t\t},\n\t\t\n\t\tprocessTouchEndEvent: function (e) {\n\t\t\tif (e.touches.length === 0 && e.changedTouches.length === 1) {\n\t\t\t\tclearTimeout(timer);\n\t\t\t}\n\t\t},\n\t\t\n\t\tprocessTouchMoveEvent: function (e) {\n\t\t\tif (!touchStartLocation || Math.abs(touchStartLocation.x - e.changedTouches[0].clientX) > driftThreshold ||\n\t\t\t\t\tMath.abs(touchStartLocation.y - e.changedTouches[0].clientY) > driftThreshold) {\n\t\t\t\tclearTimeout(timer);\n\t\t\t}\n\t\t},\n\t\t\n\t\tprocessTouchCancelEvent: function () {\n\t\t\tclearTimeout(timer);\n\t\t}\n\t\t\n\t});\n\t\n});\n},\n\"Ti/_/Gestures/Pinch\":function(){\n/* /titanium/Ti/_/Gestures/Pinch.js */\n\n/*global define*/\ndefine(['Ti/_/declare', 'Ti/_/lang'], function (declare, lang) {\n\n\tvar touchStartLocation = null,\n\t\tfingerDifferenceThresholdTimer = null,\n\t\tstartDistance = null,\n\t\tpreviousDistance = null,\n\t\tpreviousTime = null,\n\n\t\t// There are two possibilities: the user puts down two fingers at exactly the same time,\n\t\t// which is almost impossible, or they put one finger down first, followed by the second.\n\t\t// For the second case, we need ensure that the two taps were intended to be at the same time.\n\t\t// This value defines the maximum time difference before this is considered some other type of gesture.\n\t\tfingerDifferenceThreshold = 100;\n\n\tfunction processTouch(e) {\n\t\tif (touchStartLocation && touchStartLocation.length == 2 && e.touches.length == 2) {\n\t\t\tvar currentDistance = Math.sqrt(Math.pow(e.touches[0].clientX - e.touches[1].clientX,2) +\n\t\t\t\tMath.pow(e.touches[0].clientY - e.touches[1].clientY,2)),\n\t\t\t\tvelocity = 0,\n\t\t\t\tcurrentTime = Date.now();\n\t\t\tif (previousDistance) {\n\t\t\t\tvelocity = Math.abs(previousDistance / startDistance - currentDistance / startDistance) / ((currentTime - previousTime) / 1000);\n\t\t\t}\n\t\t\tpreviousDistance = currentDistance;\n\t\t\tpreviousTime = currentTime;\n\t\t\treturn {\n\t\t\t\tpinch: [{\n\t\t\t\t\tscale: currentDistance / startDistance,\n\t\t\t\t\tvelocity: velocity\n\t\t\t\t}]\n\t\t\t};\n\t\t}\n\t}\n\n\treturn lang.setObject('Ti._.Gestures.Pinch', {\n\n\t\tprocessTouchStartEvent: function (e) {\n\t\t\tvar x = e.changedTouches[0].clientX,\n\t\t\t\ty = e.changedTouches[0].clientY,\n\t\t\t\ttouchesLength = e.touches.length,\n\t\t\t\tchangedTouchesLength = e.changedTouches.length;\n\n\t\t\t// First finger down of the two, given a slight difference in contact time\n\t\t\tif (touchesLength == 1 && changedTouchesLength == 1) {\n\t\t\t\ttouchStartLocation = [{\n\t\t\t\t\tx: x,\n\t\t\t\t\ty: y\n\t\t\t\t}];\n\t\t\t\tfingerDifferenceThresholdTimer = setTimeout(function () {\n\t\t\t\t\ttouchStartLocation = null;\n\t\t\t\t}, fingerDifferenceThreshold);\n\n\t\t\t// Second finger down of the two, given a slight difference in contact time\n\t\t\t} else if (touchesLength == 2 && changedTouchesLength == 1) {\n\t\t\t\tclearTimeout(fingerDifferenceThresholdTimer);\n\t\t\t\tif (touchStartLocation) {\n\t\t\t\t\ttouchStartLocation.push({\n\t\t\t\t\t\tx: x,\n\t\t\t\t\t\ty: y\n\t\t\t\t\t});\n\t\t\t\t\tstartDistance = Math.sqrt(Math.pow(touchStartLocation[0].x - touchStartLocation[1].x,2) +\n\t\t\t\t\t\tMath.pow(touchStartLocation[0].y - touchStartLocation[1].y,2));\n\t\t\t\t}\n\n\t\t\t// Two fingers down at the same time\n\t\t\t} else if (touchesLength == 2 && changedTouchesLength == 2) {\n\t\t\t\ttouchStartLocation = [{\n\t\t\t\t\tx: x,\n\t\t\t\t\ty: y\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tx: e.changedTouches[1].clientX,\n\t\t\t\t\ty: e.changedTouches[1].clientY\n\t\t\t\t}];\n\t\t\t\tstartDistance = Math.sqrt(Math.pow(touchStartLocation[0].x - touchStartLocation[1].x,2) +\n\t\t\t\t\tMath.pow(touchStartLocation[0].y - touchStartLocation[1].y,2));\n\t\t\t\t\n\t\t\t// Something else, means it's not a pinch\n\t\t\t} else {\n\t\t\t\ttouchStartLocation = null;\n\t\t\t}\n\t\t},\n\n\t\tprocessTouchEndEvent: function(e){\n\t\t\tvar result = processTouch(e);\n\t\t\ttouchStartLocation = null;\n\t\t\treturn result;\n\t\t},\n\n\t\tprocessTouchMoveEvent: function(e){\n\t\t\treturn processTouch(e);\n\t\t},\n\n\t\tprocessTouchCancelEvent: function () {\n\t\t\ttouchStartLocation = null;\n\t\t}\n\n\t});\n\t\n});\n},\n\"Ti/_/Gestures/SingleTap\":function(){\n/* /titanium/Ti/_/Gestures/SingleTap.js */\n\n/*global define*/\ndefine(['Ti/_/declare', 'Ti/_/lang'], function (declare, lang) {\n\n\t// This is the amount of space the finger is allowed drift until the gesture is no longer considered a tap\n\tvar driftThreshold = 25,\n\t\ttouchStartLocation,\n\t\tdriftedOutsideThreshold;\n\n\tfunction withinThreshold(x, y) {\n\t\treturn touchStartLocation && Math.abs(touchStartLocation.x - x) < driftThreshold &&\n\t\t\tMath.abs(touchStartLocation.y - y) < driftThreshold;\n\t}\n\n\treturn lang.setObject('Ti._.Gestures.SingleTap', {\n\n\t\tprocessTouchStartEvent: function (e) {\n\t\t\tvar changed = e.changedTouches;\n\t\t\tif (e.touches.length == 1 && changed.length == 1) {\n\t\t\t\ttouchStartLocation = {\n\t\t\t\t\tx: changed[0].clientX,\n\t\t\t\t\ty: changed[0].clientY\n\t\t\t\t};\n\t\t\t\tdriftedOutsideThreshold = false;\n\t\t\t}\n\t\t},\n\n\t\tprocessTouchEndEvent: function (e) {\n\t\t\tvar changed = e.changedTouches,\n\t\t\t\tx = changed[0].clientX,\n\t\t\t\ty = changed[0].clientY,\n\t\t\t\tevents = {\n\t\t\t\t\tsingletap: [],\n\t\t\t\t\tclick: []\n\t\t\t\t};\n\n\t\t\tif (e.touches.length === 0 && changed.length === 1 && withinThreshold(x, y) && !driftedOutsideThreshold) {\n\t\t\t\t// We don't reuse the same results object because the values are modified before the event is fired.\n\t\t\t\t// If we reused the object, they would be modified twice, which is incorrect.\n\t\t\t\tevents.singletap.push({\n\t\t\t\t\tx: x,\n\t\t\t\t\ty: y\n\t\t\t\t});\n\t\t\t\tevents.click.push({\n\t\t\t\t\tx: x,\n\t\t\t\t\ty: y\n\t\t\t\t});\n\t\t\t\ttouchStartLocation = null;\n\t\t\t}\n\t\t\treturn events;\n\t\t},\n\n\t\tprocessTouchMoveEvent: function (e) {\n\t\t\tvar changed = e.changedTouches;\n\t\t\tdriftedOutsideThreshold = changed.length == 1 && !withinThreshold(changed[0].clientX, changed[0].clientY);\n\t\t},\n\n\t\tprocessTouchCancelEvent: function () {\n\t\t\ttouchStartLocation = null;\n\t\t}\n\n\t});\n\n});\n},\n\"Ti/_/Gestures/Swipe\":function(){\n/* /titanium/Ti/_/Gestures/Swipe.js */\n\n/*global define*/\ndefine(['Ti/_/declare', 'Ti/_/lang'], function (declare, lang) {\n\n\t\t// This specifies the minimum distance that a finger must travel before it is considered a swipe\n\tvar distanceThreshold = 50,\n\n\t\t// The maximum angle, in radians, from the axis a swipe is allowed to travel before it is no longer considered a swipe\n\t\tangleThreshold = Math.PI/6, // 30 degrees\n\n\t\t// This sets the minimum velocity that determines this is a swipe, or just a drag\n\t\tvelocityThreshold = 0.5,\n\n\t\tdistanceThresholdPassed = false,\n\t\ttouchStartLocation,\n\t\tstartTime;\n\n\treturn lang.setObject('Ti._.Gestures.Swipe', {\n\n\t\tprocessTouchStartEvent: function(e){\n\t\t\tif (e.touches.length == 1 && e.changedTouches.length == 1) {\n\t\t\t\tdistanceThresholdPassed = false;\n\t\t\t\ttouchStartLocation = {\n\t\t\t\t\tx: e.changedTouches[0].clientX,\n\t\t\t\t\ty: e.changedTouches[0].clientY\n\t\t\t\t};\n\t\t\t\tstartTime = Date.now();\n\t\t\t} else {\n\t\t\t\ttouchStartLocation = null;\n\t\t\t}\n\t\t},\n\n\t\tprocessTouchEndEvent: function(e){\n\t\t\tif (e.touches.length === 0 && e.changedTouches.length === 1 && touchStartLocation) {\n\t\t\t\tvar x = e.changedTouches[0].clientX,\n\t\t\t\t\t\ty = e.changedTouches[0].clientY,\n\t\t\t\t\t\txDiff = Math.abs(touchStartLocation.x - x),\n\t\t\t\t\t\tyDiff = Math.abs(touchStartLocation.y - y),\n\t\t\t\t\t\tdistance = Math.sqrt(Math.pow(touchStartLocation.x - x, 2) + Math.pow(touchStartLocation.y - y, 2)),\n\t\t\t\t\t\tangleOK,\n\t\t\t\t\t\tdirection,\n\t\t\t\t\t\tvelocity;\n\t\t\t\t\t!distanceThresholdPassed && (distanceThresholdPassed = distance > distanceThreshold);\n\n\t\t\t\t\tif (distanceThresholdPassed) {\n\t\t\t\t\t\t// If the distance is small, then the angle is way restrictive, so we ignore it\n\t\t\t\t\t\tif (distance <= distanceThreshold || xDiff === 0 || yDiff === 0) {\n\t\t\t\t\t\t\tangleOK = true;\n\t\t\t\t\t\t} else if (xDiff > yDiff) {\n\t\t\t\t\t\t\tangleOK = Math.atan(yDiff/xDiff) < angleThreshold;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tangleOK = Math.atan(xDiff/yDiff) < angleThreshold;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (angleOK) {\n\n\t\t\t\t\t\t\t// Calculate the direction\n\t\t\t\t\t\t\tdirection = xDiff > yDiff ?\n\t\t\t\t\t\t\t\ttouchStartLocation.x - x > 0 ? 'left' : 'right' :\n\t\t\t\t\t\t\t\ttouchStartLocation.y - y < 0 ? 'down' : 'up';\n\t\t\t\t\t\t\tvelocity = Math.abs(distance / (Date.now() - startTime));\n\t\t\t\t\t\t\tif (velocity > velocityThreshold) {\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\tswipe: [{\n\t\t\t\t\t\t\t\t\t\tx: x,\n\t\t\t\t\t\t\t\t\t\ty: y,\n\t\t\t\t\t\t\t\t\t\tdirection: direction\n\t\t\t\t\t\t\t\t\t}]\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t}\n\t\t\ttouchStartLocation = null;\n\t\t},\n\n\t\tprocessTouchCancelEvent: function(){\n\t\t\ttouchStartLocation = null;\n\t\t}\n\t});\n\t\n});\n},\n\"Ti/_/Gestures/TouchCancel\":function(){\n/* /titanium/Ti/_/Gestures/TouchCancel.js */\n\n/*global define*/\ndefine(['Ti/_/declare', 'Ti/_/lang'], function (declare, lang) {\n\n\treturn lang.setObject('Ti._.Gestures.TouchCancel', {\n\t\t\n\t\tprocessTouchCancelEvent: function (e) {\n\t\t\tvar changed = e.changedTouches,\n\t\t\t\ti = 0,\n\t\t\t\tl = changed.length,\n\t\t\t\tevents = {\n\t\t\t\t\t'touchcancel': []\n\t\t\t\t};\n\t\t\tfor (; i < l; i++) {\n\t\t\t\tevents.touchcancel.push({\n\t\t\t\t\tx: changed[i].clientX,\n\t\t\t\t\ty: changed[i].clientY\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn events;\n\t\t}\n\n\t});\n\n});\n},\n\"Ti/_/Gestures/TouchEnd\":function(){\n/* /titanium/Ti/_/Gestures/TouchEnd.js */\n\n/*global define*/\ndefine(['Ti/_/declare', 'Ti/_/lang'], function (declare, lang) {\n\n\treturn lang.setObject('Ti._.Gestures.TouchEnd', {\n\n\t\tprocessTouchEndEvent: function (e) {\n\t\t\tvar changed = e.changedTouches,\n\t\t\t\ti = 0,\n\t\t\t\tl = changed.length,\n\t\t\t\tevents = {\n\t\t\t\t\t'touchend': []\n\t\t\t\t};\n\t\t\tfor (; i < l; i++) {\n\t\t\t\tevents.touchend.push({\n\t\t\t\t\tx: changed[i].clientX,\n\t\t\t\t\ty: changed[i].clientY\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn events;\n\t\t}\n\n\t});\n\n});\n},\n\"Ti/_/Gestures/TouchMove\":function(){\n/* /titanium/Ti/_/Gestures/TouchMove.js */\n\n/*global define*/\ndefine(['Ti/_/declare', 'Ti/_/lang'], function (declare, lang) {\n\n\treturn lang.setObject('Ti._.Gestures.TouchMove', {\n\t\t\n\t\tprocessTouchMoveEvent: function (e) {\n\t\t\tvar changed = e.changedTouches,\n\t\t\t\ti = 0,\n\t\t\t\tl = changed.length,\n\t\t\t\tevents = {\n\t\t\t\t\t'touchmove': []\n\t\t\t\t};\n\t\t\tfor (; i < l; i++) {\n\t\t\t\tevents.touchmove.push({\n\t\t\t\t\tx: changed[i].clientX,\n\t\t\t\t\ty: changed[i].clientY\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn events;\n\t\t}\n\n\t});\n\n});\n},\n\"Ti/_/Gestures/TouchStart\":function(){\n/* /titanium/Ti/_/Gestures/TouchStart.js */\n\n/*global define*/\ndefine(['Ti/_/declare', 'Ti/_/lang'], function (declare, lang) {\n\n\treturn lang.setObject('Ti._.Gestures.TouchStart', {\n\n\t\tprocessTouchStartEvent: function (e) {\n\t\t\tvar changed = e.changedTouches,\n\t\t\t\ti = 0,\n\t\t\t\tl = changed.length,\n\t\t\t\tevents = {\n\t\t\t\t\t'touchstart': []\n\t\t\t\t};\n\t\t\tfor (; i < l; i++) {\n\t\t\t\tevents.touchstart.push({\n\t\t\t\t\tx: changed[i].clientX,\n\t\t\t\t\ty: changed[i].clientY\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn events;\n\t\t}\n\n\t});\n\n});\n},\n\"Ti/_/Gestures/TwoFingerTap\":function(){\n/* /titanium/Ti/_/Gestures/TwoFingerTap.js */\n\n/*global define*/\ndefine(['Ti/_/declare', 'Ti/_/lang'], function (declare, lang) {\n\n\tvar touchStartLocation = null,\n\t\ttouchEndLocation = null,\n\t\tfingerDifferenceThresholdTimer = null,\n\n\t\t// There are two possibilities: the user puts down two fingers at exactly the same time,\n\t\t// which is almost impossible, or they put one finger down first, followed by the second.\n\t\t// For the second case, we need ensure that the two taps were intended to be at the same time.\n\t\t// This value defines the maximum time difference before this is considered some other type of gesture.\n\t\tfingerDifferenceThreshold = 100,\n\n\t\t// This is the amount of space the fingers are allowed drift until the gesture is no longer considered a two finger tap\n\t\tdriftThreshold = 25;\n\n\treturn lang.setObject('Ti._.Gestures.TwoFingerTap', {\n\n\t\tprocessTouchStartEvent: function(e){\n\n\t\t\tvar x = e.changedTouches[0].clientX,\n\t\t\t\ty = e.changedTouches[0].clientY,\n\t\t\t\ttouchesLength = e.touches.length,\n\t\t\t\tchangedTouchesLength = e.changedTouches.length;\n\n\t\t\t// First finger down of the two, given a slight difference in contact time\n\t\t\tif (touchesLength == 1 && changedTouchesLength == 1) {\n\t\t\t\ttouchStartLocation = [{\n\t\t\t\t\tx: x,\n\t\t\t\t\ty: y\n\t\t\t\t}];\n\t\t\t\tfingerDifferenceThresholdTimer = setTimeout(function () {\n\t\t\t\t\ttouchStartLocation = null;\n\t\t\t\t\ttouchEndLocation = null;\n\t\t\t\t},fingerDifferenceThreshold);\n\n\t\t\t// Second finger down of the two, given a slight difference in contact time\n\t\t\t} else if (touchesLength == 2 && changedTouchesLength == 1) {\n\t\t\t\tclearTimeout(fingerDifferenceThresholdTimer);\n\t\t\t\ttouchStartLocation && touchStartLocation.push({\n\t\t\t\t\tx: x,\n\t\t\t\t\ty: y\n\t\t\t\t});\n\n\t\t\t// Two fingers down at the same time\n\t\t\t} else if (touchesLength == 2 && changedTouchesLength == 2) {\n\t\t\t\ttouchStartLocation = [{\n\t\t\t\t\t\tx: x,\n\t\t\t\t\t\ty: y\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tx: e.changedTouches[1].clientX,\n\t\t\t\t\t\ty: e.changedTouches[1].clientY\n\t\t\t\t\t}];\n\t\t\t// Something else, means it's not a two finger tap\n\t\t\t} else {\n\t\t\t\ttouchStartLocation = null;\n\t\t\t\ttouchEndLocation = null;\n\t\t\t}\n\t\t},\n\n\t\tprocessTouchEndEvent: function(e){\n\n\t\t\tvar changedTouches = e.changedTouches,\n\t\t\t\tx = changedTouches[0].clientX,\n\t\t\t\ty = changedTouches[0].clientY,\n\t\t\t\ttouchesLength = e.touches.length,\n\t\t\t\tchangedTouchesLength = changedTouches.length,\n\t\t\t\tevents = {},\n\t\t\t\ti,\n\t\t\t\tdistance1OK,\n\t\t\t\tdistance2OK;\n\n\t\t\t// One finger was lifted off, one remains\n\t\t\tif (touchesLength == 1 && changedTouchesLength == 1) {\n\t\t\t\ttouchEndLocation = [{\n\t\t\t\t\tx: x,\n\t\t\t\t\ty: y\n\t\t\t\t}];\n\t\t\t\tfingerDifferenceThresholdTimer = setTimeout(function () {\n\t\t\t\t\ttouchStartLocation = null;\n\t\t\t\t\ttouchEndLocation = null;\n\t\t\t\t}, fingerDifferenceThreshold);\n\n\t\t\t// Second or both fingers lifted off\n\t\t\t} else if (touchesLength === 0 && (changedTouchesLength === 1 || changedTouchesLength === 2)) {\n\t\t\t\tif (touchStartLocation && touchStartLocation.length === 2) {\n\t\t\t\t\ttouchEndLocation || (touchEndLocation = []);\n\t\t\t\t\tfor(i = 0; i < changedTouchesLength; i++) {\n\t\t\t\t\t\ttouchEndLocation.push({\n\t\t\t\t\t\t\tx: changedTouches[i].clientX,\n\t\t\t\t\t\t\ty: changedTouches[i].clientY\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (touchEndLocation.length === 2) {\n\t\t\t\t\t\tdistance1OK = Math.abs(touchStartLocation[0].x - touchEndLocation[0].x) < driftThreshold &&\n\t\t\t\t\t\t\tMath.abs(touchStartLocation[0].y - touchEndLocation[0].y) < driftThreshold;\n\t\t\t\t\t\tdistance2OK = Math.abs(touchStartLocation[1].x - touchEndLocation[1].x) < driftThreshold &&\n\t\t\t\t\t\t\tMath.abs(touchStartLocation[1].y - touchEndLocation[1].y) < driftThreshold;\n\t\t\t\t\t\t// Check if the end points are swapped from the start points\n\t\t\t\t\t\tif (!distance1OK || !distance2OK) {\n\t\t\t\t\t\t\tdistance1OK = Math.abs(touchStartLocation[0].x - touchEndLocation[1].x) < driftThreshold &&\n\t\t\t\t\t\t\t\tMath.abs(touchStartLocation[0].y - touchEndLocation[1].y) < driftThreshold;\n\t\t\t\t\t\t\tdistance2OK = Math.abs(touchStartLocation[1].x - touchEndLocation[0].x) < driftThreshold &&\n\t\t\t\t\t\t\t\tMath.abs(touchStartLocation[1].y - touchEndLocation[0].y) < driftThreshold;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (distance1OK && distance2OK) {\n\t\t\t\t\t\t\tevents.twofingertap = [{\n\t\t\t\t\t\t\t\tx: (touchStartLocation[0].x + touchStartLocation[1].x) / 2,\n\t\t\t\t\t\t\t\ty: (touchStartLocation[0].y + touchStartLocation[1].y) / 2\n\t\t\t\t\t\t\t}];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\ttouchStartLocation = null;\n\t\t\t\t\ttouchEndLocation = null;\n\t\t\t\t\treturn events;\n\t\t\t\t}\n\n\t\t\t// Something else, means it's not a two finger tap\n\t\t\t} else {\n\t\t\t\ttouchStartLocation = null;\n\t\t\t\ttouchEndLocation = null;\n\t\t\t}\n\t\t},\n\n\t\tprocessTouchCancelEvent: function(){\n\t\t\ttouchStartLocation = null;\n\t\t\ttouchEndLocation = null;\n\t\t}\n\n\t});\n\n});\n},\n\"Ti/Buffer\":function(){\n/* /titanium/Ti/Buffer.js */\n\ndefine([\"Ti/_/declare\", \"Ti/_/Evented\", \"Ti/Blob\", \"Ti/Codec\"], function(declare, Evented, Blob, Codec) {\n\n\tvar Buffer;\n\n\treturn Buffer = declare(\"Ti.Buffer\", Evented, {\n\n\t\tconstructor: function(args) {\n\t\t\targs && args.value && this._set(args.value);\n\t\t},\n\n\t\tappend: function(buffer, offset, len) {\n\t\t\tvar v = buffer.value;\n\t\t\toffset = offset | 0,\n\t\t\tlength = length || v.length;\n\t\t\tthis._set(this.value + v.substring(offset, offset + length));\n\t\t\treturn length - offset;\n\t\t},\n\n\t\tclear: function() {\n\t\t\tthis._set(\"\");\n\t\t},\n\n\t\tclone: function(offset, length) {\n\t\t\treturn new Buffer({ value: offset ? this.value.substring(offset, length && offset + length) : this.value });\n\t\t},\n\n\t\tcopy: function(srcBuffer, offset, srcOffset, srcLength) {\n\t\t\tvar v = srcBuffer.value,\n\t\t\t\toffset = offset | 0,\n\t\t\t\tsrcOffset = srcOffset | 0,\n\t\t\t\tlen = Math.max(this.length, srcLength && srcOffset + srcLength) - offset,\n\t\t\t\tsrcBuffer = v.substring(srcOffset, len);\n\t\t\tthis._set(this.value.substring(0, offset) + srcBuffer + this.value.substring(offset, srcBuffer.length - offset));\n\t\t},\n\n\t\tfill: function(fillByte, offset, length) {\n\t\t\tif (!fillByte) {\n\t\t\t\tthrow new Error(\"Missing fillByte argument\");\n\t\t\t}\n\t\t\toffset = offset | 0;\n\t\t\tlength = this.length - offset - length | 0;\n\t\t\tthis._set(this.value.substring(0, offset | 0) + (new Array(length)).join((fillByte + ' ').charAt(0)) + this.value.substring(length));\n\t\t},\n\n\t\tinsert: function(buffer, offset, srcOffset, srcLength) {\n\t\t\tvar b = buffer.value;\n\t\t\tsrcOffset = srcOffset | 0;\n\t\t\toffset = offset | 0;\n\t\t\tthis._set(this.value.substring(0, offset) + v.substring(srcOffset, srcLength && srcOffset + srcLength) + this.value.substring(offset));\n\t\t\treturn srcLength || v.length;\n\t\t},\n\n\t\trelease: function() {\n\t\t\tthis.length = 0;\n\t\t},\n\n\t\ttoBlob: function() {\n\t\t\treturn new Blob({ data: this.value });\n\t\t},\n\n\t\ttoString: function() {\n\t\t\treturn \"\"+this.value;\n\t\t},\n\n\t\t_set: function(value) {\n\t\t\tthis.__values__.constants.value = \"\"+value;\n\t\t},\n\n\t\t_resize: function(offset, length) {\n\t\t\toffset = offset | 0;\n\t\t\tthis._set(this.value.substring(offset, length && (offset + length | 0)));\n\t\t},\n\n\t\tconstants: {\n\t\t\tbyteOrder: Codec.LITTLE_ENDIAN,\n\t\t\ttype: Codec.CHARSET_UTF8,\n\t\t\tvalue: \"\"\n\t\t},\n\n\t\tproperties: {\n\t\t\tlength: {\n\t\t\t\tget: function() {\n\t\t\t\t\treturn this.value.length;\n\t\t\t\t},\n\t\t\t\tset: function(newValue, oldValue) {\n\t\t\t\t\tif (newValue < oldValue) {\n\t\t\t\t\t\tthis._resize(0, newValue);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.__values__.constants.value += (new Array(newValue - oldValue)).join(' ');\n\t\t\t\t\t}\n\t\t\t\t\treturn newValue;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t});\n\n});\n},\n\"Ti/Codec\":function(){\n/* /titanium/Ti/Codec.js */\n\ndefine([\"Ti/_/declare\", \"Ti/_/lang\", \"Ti/_/Evented\"], function(declare, lang, Evented) {\n\n\tvar Codec;\n\n\tfunction paramError(msg) {\n\t\tthrow new Error(\"Missing \" + msg + \" argument\");\n\t}\n\n\tfunction parse(type, value) {\n\t\treturn type === Codec.TYPE_DOUBLE || type === Codec.TYPE_FLOAT ? parseFloat(value) : parseInt(value);\n\t}\n\n\treturn Codec = lang.setObject(\"Ti.Codec\", Evented, {\n\n\t\tdecodeNumber: function(args) {\n\t\t\t(!args || !args.source) && paramError(\"source\");\n\t\t\targs.type || paramError(\"type\");\n\t\t\treturn parse(args.type, args.source.buffer);\n\t\t},\n\n\t\tdecodeString: function(args) {\n\t\t\t(!args || !args.source) && paramError(\"source\");\n\t\t\tvar b = args.source.buffer || \"\",\n\t\t\t\tp = args.position | 0,\n\t\t\t\tl = args.length;\n\t\t\treturn b.substring(p, l && p + l);\n\t\t},\n\n\t\tencodeNumber: function(args) {\n\t\t\t(!args || !args.source) && paramError(\"source\");\n\t\t\targs.dest || paramError(\"dest\");\n\t\t\targs.type || paramError(\"type\");\n\t\t\treturn dest.append(new (require(\"Ti/Buffer\"))({ buffer: \"\"+parse(args.type, args.source.buffer) }));\n\t\t},\n\n\t\tencodeString: function(args) {\n\t\t\t(!args || !args.source) && paramError(\"source\");\n\t\t\targs.dest || paramError(\"dest\");\n\t\t\tvar b = args.source.buffer || \"\",\n\t\t\t\tp = args.destPosition | 0;\n\t\t\tb = new (require(\"Ti/Buffer\"))({ buffer: b.substring(args.sourcePosition | 0, args.sourceLength || b.length) });\n\t\t\treturn p ? dest.insert(b, p) : dest.append(b);\n\t\t},\n\n\t\tgetNativeByteOrder: function() {\n\t\t\treturn this.LITTLE_ENDIAN;\n\t\t},\n\n\t\tconstants: {\n\t\t\tBIG_ENDIAN: 2,\n\t\t\tCHARSET_ASCII: \"ascii\",\n\t\t\tCHARSET_ISO_LATIN_1: \"ios-latin-1\",\n\t\t\tCHARSET_UTF16: \"utf16\",\n\t\t\tCHARSET_UTF16BE: \"utf16be\",\n\t\t\tCHARSET_UTF16LE: \"utf16le\",\n\t\t\tCHARSET_UTF8: \"utf8\",\n\t\t\tLITTLE_ENDIAN: 1,\n\t\t\tTYPE_BYTE: \"byte\",\n\t\t\tTYPE_DOUBLE: \"double\",\n\t\t\tTYPE_FLOAT: \"float\",\n\t\t\tTYPE_INT: \"int\",\n\t\t\tTYPE_LONG: \"long\",\n\t\t\tTYPE_SHORT: \"short\"\n\t\t}\n\n\t});\n\n});\n},\n\"Ti/_/include\":function(){\n/* /titanium/Ti/_/include.js */\n\ndefine(function() {\n\tvar cache = {},\n \t\tstack = [];\n\n \treturn {\n \t\tdynamic: true, // prevent the loader from caching the result\n\n \t\tnormalize: function(name, normalize) {\n \t\t\tvar parts = name.split(\"!\"),\n \t\t\t\turl = parts[0];\n \t\t\tparts.shift();\n \t\t\treturn (/^\\./.test(url) ? normalize(url) : url) + (parts.length ? \"!\" + parts.join(\"!\") : \"\");\n \t\t},\n\n \t\tload: function(name, require, onLoad, config) {\n \t\t\tvar c,\n \t\t\t\tx,\n \t\t\t\tparts = name.split(\"!\"),\n \t\t\t\tlen = parts.length,\n \t\t\t\turl,\n \t\t\t\tsandbox;\n\n \t\t\tif (sandbox = len > 1 && parts[0] === \"sandbox\") {\n \t\t\t\tparts.shift();\n \t\t\t\tname = parts.join(\"!\");\n \t\t\t}\n\n \t\t\turl = require.toUrl(/^\\//.test(name) ? name : \"./\" + name, stack.length ? { name: stack[stack.length-1] } : null);\n \t\t\tc = cache[url] || require.cache(url);\n\n \t\t\tif (!c) {\n \t\t\t\tx = new XMLHttpRequest;\n \t\t\t\tx.open(\"GET\", url, false);\n \t\t\t\tx.send(null);\n \t\t\t\tif (x.status === 200) {\n \t\t\t\t\tc = x.responseText;\n \t\t\t\t} else {\n \t\t\t\t\tthrow new Error(\"Failed to load include \\\"\" + url + \"\\\": \" + x.status);\n \t\t\t\t}\n \t\t\t}\n\n \t\t\tstack.push(url);\n \t\t\ttry {\n \t\t\t\trequire.evaluate(cache[url] = c, 0, !sandbox);\n \t\t\t} catch (e) {\n \t\t\t\tthrow e;\n \t\t\t} finally {\n \t\t\t\tstack.pop();\n \t\t\t}\n\n \t\t\tonLoad(c);\n \t\t}\n \t};\n});\n\n},\n\"Ti/Accelerometer\":function(){\n/* /titanium/Ti/Accelerometer.js */\n\ndefine([\"Ti/_/Evented\", \"Ti/_/lang\"], function(Evented, lang) {\n\t\n\tvar lastShake = Date.now(),\n\t\tlastAccel = {},\n\t\tthreshold = 0.2,\n\t\tapi = lang.setObject(\"Ti.Accelerometer\", Evented);\n\t\n\trequire.on(window, \"devicemotion\", function(evt) {\n\t\tvar e = evt.acceleration || evt.accelerationIncludingGravity,\n\t\t\tcurrentTime,\n\t\t\taccel = e && {\n\t\t\t\tx: e.x,\n\t\t\t\ty: e.y,\n\t\t\t\tz: e.z,\n\t\t\t\tsource: evt.source\n\t\t\t};\n\t\tif (accel) {\n\t\t\tif (lastAccel.x !== void 0 && (\n\t\t\t\tMath.abs(lastAccel.x - accel.x) > threshold || \n\t\t\t\tMath.abs(lastAccel.y - accel.y) > threshold ||\n\t\t\t\tMath.abs(lastAccel.z - accel.z) > threshold\n\t\t\t)) {\n\t\t\t\tcurrentTime = Date.now();\n\t\t\t\taccel.timestamp = currentTime - lastShake;\n\t\t\t\tlastShake = currentTime;\n\t\t\t\tapi.fireEvent(\"update\", accel);\n\t\t\t}\n\t\t\tlastAccel = accel;\n\t\t}\n\t});\n\t\n\treturn api;\n\t\n});\n},\n\"Ti/Analytics\":function(){\n/* /titanium/Ti/Analytics.js */\n\ndefine([\"Ti/_/analytics\", \"Ti/_/Evented\", \"Ti/_/lang\"], function(analytics, Evented, lang) {\n\n\treturn lang.setObject(\"Ti.Analytics\", Evented, {\n\n\t\taddEvent: function(type, name, data) {\n\t\t\tanalytics.add(type, name, data);\n\t\t},\n\n\t\tfeatureEvent: function(name, data) {\n\t\t\tanalytics.add(\"app.feature\", name, data);\n\t\t},\n\n\t\tnavEvent: function(from, to, name, data) {\n\t\t\tanalytics.add(\"app.nav\", name, data);\n\t\t},\n\n\t\tsettingsEvent: function(name, data) {\n\t\t\tanalytics.add(\"app.settings\", name, data);\n\t\t},\n\n\t\ttimedEvent: function(name, start, stop, duration, data) {\n\t\t\tanalytics.add(\"app.timed\", name, require.mix({}, data, {\n\t\t\t\tstart: start,\n\t\t\t\tstop: stop,\n\t\t\t\tduration: duration\n\t\t\t}));\n\t\t},\n\n\t\tuserEvent: function(name, data) {\n\t\t\tanalytics.add(\"app.user\", name, data);\n\t\t}\n\n\t});\n\n});\n},\n\"Ti/BlobStream\":function(){\n/* /titanium/Ti/BlobStream.js */\n\ndefine([\"Ti/_/declare\", \"Ti/IOStream\"], function(declare, IOStream) {\n\n\treturn declare(\"Ti.BlobStream\", IOStream);\n\n});\n},\n\"Ti/IOStream\":function(){\n/* /titanium/Ti/IOStream.js */\n\ndefine([\"Ti/_/declare\", \"Ti/_/Evented\", \"Ti/Buffer\", \"Ti/Filesystem\"], function(declare, Evented, Buffer, Filesystem) {\n\n\treturn declare(\"Ti.IOStream\", Evented, {\n\n\t\tconstructor: function(args) {\n\t\t\targs = args || {};\n\t\t\tthis._data = args.data || \"\";\n\t\t\tthis._mode = args.mode || Filesystem.MODE_APPEND;\n\t\t},\n\n\t\tclose: function() {\n\t\t\tthis._closed = true;\n\t\t},\n\n\t\tisReadable: function() {\n\t\t\treturn !this._closed;\n\t\t},\n\n\t\tisWriteable: function() {\n\t\t\treturn !this._closed && (this._mode === Filesystem.MODE_WRITE || this._mode === Filesystem.MODE_APPEND);\n\t\t},\n\n\t\tread: function(buffer, offset, length) {\n\t\t\tif (this.isReadable()) {\n\t\t\t\tvar d = this._data,\n\t\t\t\t\tlen = length || d.length,\n\t\t\t\t\tbytesRead = buffer.append(new Buffer({ value: d.substring(offset || 0, len) }));\n\t\t\t\tthis._data = d.substring(len);\n\t\t\t\treturn bytesRead;\n\t\t\t}\n\t\t\treturn 0;\n\t\t},\n\n\t\twrite: function(buffer, offset, length) {\n\t\t\tif (this.isWriteable()) {\n\t\t\t\tvar b = buffer.value;\n\t\t\t\toffset = offset | 0;\n\t\t\t\tlength = length || b.length;\n\t\t\t\tthis._data += b.substring(offset, length);\n\t\t\t\treturn length - offset;\n\t\t\t}\n\t\t\treturn 0;\n\t\t}\n\n\t});\n\n});\n},\n\"Ti/BufferStream\":function(){\n/* /titanium/Ti/BufferStream.js */\n\ndefine([\"Ti/_/declare\", \"Ti/IOStream\"], function(declare, IOStream) {\n\n\treturn declare(\"Ti.BufferStream\", IOStream);\n\n});\n},\n\"Ti/Facebook\":function(){\n/* /titanium/Ti/Facebook.js */\n\ndefine([\"Ti/_/Evented\", \"Ti/_/lang\"], function(Evented, lang) {\n\n\tvar facebookInitialized = false,\n\t\tloginAfterInitialization = false,\n\t\tappid = null,\n\t\tnotLoggedInMessage = \"not logged in\",\n\t\tfacebookDiv = document.createElement(\"div\"),\n\t\tfacebookScriptTagID = \"facebook-jssdk\",\n\t\tfacebookLoaded = false,\n\t\tapi;\n\t\t\n\tfunction initFacebook() {\n\t\tFB.init({\n\t\t\tappId: appid, // App ID\n\t\t\tstatus: false, // do NOT check login status because we're gonna do it after init() anyways\n\t\t\tcookie: true, // enable cookies to allow the server to access the session\n\t\t\toauth: true, // enable OAuth 2.0\n\t\t\txfbml: true  // parse XFBML\n\t\t});\n\t\tFB.getLoginStatus(function(response){\n\t\t\tfacebookInitialized = true;\n\t\t\t(response.status == \"connected\" && initSession(response)) || loginAfterInitialization && loginInternal();\n\t\t}, true);\n\t}\n\n\tfunction initSession(response) {\n\t\tvar authResponse = response.authResponse;\n\t\tif (authResponse) {\n\t\t\t// Set the various status members\n\t\t\tapi.loggedIn = true;\n\t\t\tapi.uid = authResponse.userID;\n\t\t\tapi.expirationDate = new Date(Date.now() + authResponse.expiresIn * 1000);\n\t\t\tapi.accessToken = authResponse.accessToken;\n\n\t\t\t// Set a timeout to match when the token expires\n\t\t\tauthResponse.expiresIn && setTimeout(function(){ \n\t\t\t\tapi.logout();\n\t\t\t}, authResponse.expiresIn * 1000);\n\n\t\t\t// Fire the login event\n\t\t\tapi.fireEvent(\"login\", {\n\t\t\t\tcancelled: false,\n\t\t\t\tdata: response,\n\t\t\t\tsuccess: true,\n\t\t\t\tuid: api.uid\n\t\t\t});\n\n\t\t\treturn true;\n\t\t}\n\t}\n\n\tfunction processResponse(response, requestParamName, requestParamValue, callback) {\n\t\tresult = {source:api,success:false};\n\t\tresult[requestParamName] = requestParamValue;\n\t\tif (!response || response.error) {\n\t\t\tresponse && (result[\"error\"] = response.error);\n\t\t} else {\n\t\t\tresult[\"success\"] = true;\n\t\t\tresult[\"result\"] = JSON.stringify(response);\n\t\t}\n\t\tcallback(result);\n\t}\n\t\t\n\tfunction loginInternal() {\n\t\tFB.login(function(response) {\n\t\t\tinitSession(response) || api.fireEvent(\"login\", {\n\t\t\t\tcancelled\t: true,\n\t\t\t\tdata\t\t: response,\n\t\t\t\terror\t\t: \"user cancelled or an internal error occured.\",\n\t\t\t\tsuccess\t\t: false,\n\t\t\t\tuid\t\t\t: response.id\n\t\t\t});\n\t\t}, {\"scope\":api.permissions.join()});\n\t}\n\n\tapi = lang.setObject(\"Ti.Facebook\", Evented, {\n\t\t\n\t\tauthorize: function() {\n\t\t\t// Sanity check\n\t\t\tif (!appid) {\n\t\t\t\tthrow new Error(\"App ID not set. Facebook authorization cancelled.\");\n\t\t\t}\n\t\n\t\t\t// Check if facebook is still initializing, and if so queue the auth request\n\t\t\tif (facebookInitialized) {\n\t\t\t\t// Authorize\n\t\t\t\tloginInternal();\n\t\t\t} else {\n\t\t\t\tloginAfterInitialization = true;\n\t\t\t}\n\t\t},\n\t\t\n\t\tcreateLoginButton: function(parameters) {\n\t\t\treturn new (require(\"Ti/Facebook/LoginButton\"))(parameters);\n\t\t},\n\t\t\n\t\tdialog: function(action, params, callback) {\n\t\t\tif (api.loggedIn) {\n\t\t\t\tparams.method = action;\n\t\t\t\tFB.ui(params,function(response){\n\t\t\t\t\tprocessResponse(response,\"action\",action,callback);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tcallback({\n\t\t\t\t\tsuccess\t: false,\n\t\t\t\t\terror\t: notLoggedInMessage,\n\t\t\t\t\taction\t: action,\n\t\t\t\t\tsource\t: api\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t\n\t\tlogout: function() {\n\t\t\tapi.loggedIn && FB.logout(function(response) {\n\t\t\t\tapi.loggedIn = false;\n\t\t\t\tapi.fireEvent(\"logout\", {\n\t\t\t\t\tsuccess\t: true\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t\n\t\trequest: function(method, params, callback) {\n\t\t\tif (api.loggedIn) {\n\t\t\t\tparams.method = method;\n\t\t\t\tparams.urls = \"facebook.com,developers.facebook.com\";\n\t\t\t\tFB.api(params,function(response){\n\t\t\t\t\tprocessResponse(response,\"method\",method,callback);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tcallback({\n\t\t\t\t\tsuccess\t: false,\n\t\t\t\t\terror\t: notLoggedInMessage,\n\t\t\t\t\tmethod\t: method,\n\t\t\t\t\tsource\t: api\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t\n\t\trequestWithGraphPath: function(path, params, httpMethod, callback) {\n\t\t\tif (api.loggedIn) {\n\t\t\t\tFB.api(path,httpMethod,params,function(response){\n\t\t\t\t\tprocessResponse(response,\"path\",path,callback);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tcallback({\n\t\t\t\t\tsuccess\t: false,\n\t\t\t\t\terror\t: notLoggedInMessage,\n\t\t\t\t\tpath\t: path,\n\t\t\t\t\tsource\t: api\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t\n\t\tconstants: {\n\t\t\t\n\t\t\t\n\t\t\tBUTTON_STYLE_NORMAL: 1,\n\t\t\t\n\t\t\tBUTTON_STYLE_WIDE: 2\n\t\t},\n\t\t\n\t\tproperties: {\n\t\t\t\n\t\t\taccessToken: void 0,\n\t\t\t\n\t\t\tappid: {\n\t\t\t\tset: function(value){\n\t\t\t\t\tappid = value;\n\t\t\t\t\tfacebookLoaded && initFacebook();\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\texpirationDate: void 0,\n\t\t\t\n\t\t\tforceDialogAuth: true,\n\t\t\t\n\t\t\tloggedIn: false,\n\t\t\t\n\t\t\tpermissions: void 0,\n\t\t\t\n\t\t\tuid: void 0\n\t\t}\n\t\t\n\t});\n\t\n\t// Create the div required by Facebook\n\tfacebookDiv.id = \"fb-root\";\n\tdocument.body.appendChild(facebookDiv);\n\n\t// Load the Facebook SDK Asynchronously.\n\tif (!document.getElementById(facebookScriptTagID)) {\n\t\tvar facebookScriptTag = document.createElement(\"script\"),\n\t\t\thead = document.getElementsByTagName(\"head\")[0];\n\t\tfacebookScriptTag.id = facebookScriptTagID; \n\t\tfacebookScriptTag.async = true;\n\t\tfacebookScriptTag.src = \"//connect.facebook.net/en_US/all.js\";\n\t\thead.insertBefore(facebookScriptTag, head.firstChild);\n\t}\n\n\twindow.fbAsyncInit = function() {\n\t\tfacebookLoaded = true;\n\t\tappid && initFacebook();\n\t};\n\t\n\treturn api;\n\n});\n},\n\"Ti/Geolocation\":function(){\n/* /titanium/Ti/Geolocation.js */\n\n/*global\ndefine,\nwindow,\nnavigator,\nescape\n*/\ndefine(['Ti/_/Evented', 'Ti/_/lang', 'Ti/Network'], function(Evented, lang, Network) {\n\n\tvar api,\n\t\ton = require.on,\n\t\tcompassSupport = false,\n\t\tcurrentHeading,\n\t\tremoveHeadingEventListener,\n\t\tlocationWatchId,\n\t\tcurrentLocation,\n\t\tnumHeadingEventListeners = 0,\n\t\tnumLocationEventListeners = 0,\n\t\tisDef = lang.isDef;\n\n\tfunction singleShotHeading(callback) {\n\t\tvar removeOrientation = on(window,'deviceorientation',function(e) {\n\t\t\tremoveOrientation();\n\t\t\tcallback(e);\n\t\t});\n\t}\n\tsingleShotHeading(function(e) {\n\t\tisDef(e.webkitCompassHeading) && (compassSupport = true);\n\t});\n\tfunction createHeadingCallback(callback) {\n\t\treturn function(e) {\n\t\t\tcurrentHeading = {\n\t\t\t\theading: {\n\t\t\t\t\taccuracy: e.webkitCompassAccuracy,\n\t\t\t\t\tmagneticHeading: e.webkitCompassHeading\n\t\t\t\t},\n\t\t\t\tsuccess: true,\n\t\t\t\ttimestamp: Date.now()\n\n\t\t\t};\n\t\t\tapi.fireEvent('heading', currentHeading);\n\t\t\tcallback && callback(currentHeading);\n\t\t};\n\t}\n\n\tfunction createLocationCallback(callback) {\n\t\treturn function(e) {\n\t\t\tvar success = 'coords' in e;\n\t\t\tcurrentLocation = {\n\t\t\t\tsuccess: success\n\t\t\t};\n\t\t\tsuccess ? (currentLocation.coords = e.coords) : (currentLocation.code = e.code);\n\t\t\tapi.fireEvent('location', currentLocation);\n\t\t\tcallback && callback(currentLocation);\n\t\t};\n\t}\n\tfunction createLocationArguments() {\n\t\treturn {\n\t\t\tenableHighAccuracy: api.accuracy === api.ACCURACY_HIGH,\n\t\t\ttimeout: api.MobileWeb.locationTimeout,\n\t\t\tmaximumAge: api.MobileWeb.maximumLocationAge\n\t\t};\n\t}\n\n\tapi = lang.setObject('Ti.Geolocation', Evented, {\n\n\t\tgetCurrentPosition: function(callback) {\n\t\t\tif (api.locationServicesEnabled) {\n\t\t\t\tnavigator.geolocation.getCurrentPosition(\n\t\t\t\t\tcreateLocationCallback(callback),\n\t\t\t\t\tcreateLocationCallback(callback),\n\t\t\t\t\tcreateLocationArguments()\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\n\t\tgetCurrentHeading: function(callback) {\n\t\t\tif (compassSupport) {\n\t\t\t\tif (currentHeading && Date.now() - currentHeading.timestamp < api.maximumHeadingAge) {\n\t\t\t\t\tcallback(currentHeading);\n\t\t\t\t} else {\n\t\t\t\t\tsingleShotHeading(createHeadingCallback(callback));\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tforwardGeocoder: function(address, callback) {\n\t\t\tif (!require.is(address,'String')) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar client = Network.createHTTPClient({\n\t\t\t\tonload : function() {\n\t\t\t\t\tvar responseParts = this.responseText.split(',');\n\t\t\t\t\tcallback({\n\t\t\t\t\t\tsuccess: true,\n\t\t\t\t\t\tcode: 0,\n\t\t\t\t\t\tlatitude: parseFloat(responseParts[2]),\n\t\t\t\t\t\tlongitude: parseFloat(responseParts[3])\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tonerror : function(e) {\n\t\t\t\t\tcallback({\n\t\t\t\t\t\tsuccess: false,\n\t\t\t\t\t\tcode: -1,\n\t\t\t\t\t\terror: e + ''\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\ttimeout : api.MobileWeb.forwardGeocoderTimeout\n\t\t\t});\n\t\t\tclient.open('GET', 'http://api.appcelerator.com/p/v1/geo?d=f&' +\n\t\t\t\t// TODO 'c=' + Locale.getCurrentCountry() +\n\t\t\t\t'q=' + escape(address));\n\t\t\tclient.send();\n\t\t},\n\n\t\treverseGeocoder: function(latitude, longitude, callback) {\n\t\t\tif (!isDef(latitude) || !isDef(longitude)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar client = Network.createHTTPClient({\n\t\t\t\tonload : function() {\n\t\t\t\t\tcallback(JSON.parse(this.responseText));\n\t\t\t\t},\n\t\t\t\tonerror : function() {\n\t\t\t\t\tcallback({\n\t\t\t\t\t\tsuccess: false\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\ttimeout : api.MobileWeb.forwardGeocoderTimeout\n\t\t\t});\n\t\t\tclient.open('GET', 'http://api.appcelerator.com/p/v1/geo?d=r&' +\n\t\t\t\t// TODO 'c=' + Locale.getCurrentCountry() +\n\t\t\t\t'q=' + latitude + ',' + longitude);\n\t\t\tclient.send();\n\t\t},\n\n\t\t// Hook in to add/remove event listener so that we can disable the geo and compass intervals\n\t\taddEventListener: function(name, handler) {\n\t\t\tswitch(name) {\n\t\t\t\tcase 'heading':\n\t\t\t\t\tif (compassSupport) {\n\t\t\t\t\t\tnumHeadingEventListeners++;\n\t\t\t\t\t\tif (numHeadingEventListeners === 1) {\n\t\t\t\t\t\t\tremoveHeadingEventListener = on(window,'deviceorientation',createHeadingCallback());\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'location': {\n\t\t\t\t\tif (api.locationServicesEnabled) {\n\t\t\t\t\t\tnumLocationEventListeners++;\n\t\t\t\t\t\tif (numLocationEventListeners === 1) {\n\t\t\t\t\t\t\tlocationWatchId = navigator.geolocation.watchPosition(\n\t\t\t\t\t\t\t\tcreateLocationCallback(),\n\t\t\t\t\t\t\t\tcreateLocationCallback(),\n\t\t\t\t\t\t\t\tcreateLocationArguments()\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tEvented.addEventListener.call(this,name,handler);\n\t\t},\n\n\t\tremoveEventListener: function(name, handler) {\n\t\t\tswitch(name) {\n\t\t\t\tcase 'heading':\n\t\t\t\t\tif (compassSupport) {\n\t\t\t\t\t\tnumHeadingEventListeners--;\n\t\t\t\t\t\tif (numHeadingEventListeners === 0) {\n\t\t\t\t\t\t\tremoveHeadingEventListener();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'location': {\n\t\t\t\t\tif (api.locationServicesEnabled) {\n\t\t\t\t\t\tnumLocationEventListeners--;\n\t\t\t\t\t\tif (numHeadingEventListeners < 1) {\n\t\t\t\t\t\t\tnavigator.geolocation.clearWatch(locationWatchId);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tEvented.removeEventListener.call(this,name,handler);\n\t\t},\n\n\t\tconstants: {\n\n\t\t\tACCURACY_HIGH: 1,\n\n\t\t\tACCURACY_LOW: 2,\n\n\t\t\tERROR_DENIED: 1,\n\n\t\t\tERROR_LOCATION_UNKNOWN: 2,\n\n\t\t\tERROR_TIMEOUT: 3,\n\n\t\t\tlocationServicesEnabled: {\n\t\t\t\tget: function() {\n\t\t\t\t\treturn !!navigator.geolocation;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tMobileWeb: {\n\t\t\t\tlocationTimeout: Infinity,\n\t\t\t\tmaximumLocationAge: 0,\n\t\t\t\tmaximumHeadingAge: 1000,\n\t\t\t\tforwardGeocoderTimeout: void 0,\n\t\t\t\treverseGeocoderTimeout: void 0\n\t\t\t},\n\n\t\t\thasCompass: function() {\n\t\t\t\treturn compassSupport;\n\t\t\t}\n\n\t\t},\n\n\t\tproperties: {\n\t\t\taccuracy: 2\n\t\t}\n\n\t});\n\treturn api;\n\n});\n},\n\"Ti/Network\":function(){\n/* /titanium/Ti/Network.js */\n\ndefine([\"Ti/_/Evented\", \"Ti/_/lang\"], function(Evented, lang) {\n\n\tvar conn = navigator.connection,\n\t\tonline = navigator.onLine,\n\t\tNetwork = lang.setObject(\"Ti.Network\", Evented, {\n\n\t\t\tconstants: {\n\t\t\t\tNETWORK_LAN: 1,\n\t\t\t\tNETWORK_MOBILE: 3,\n\t\t\t\tNETWORK_NONE: 0,\n\t\t\t\tNETWORK_UNKNOWN: -1,\n\t\t\t\tNETWORK_WIFI: 2,\n\t\t\t\tnetworkType: function() {\n\t\t\t\t\tif (!online) {\n\t\t\t\t\t\treturn Network.NETWORK_NONE;\n\t\t\t\t\t}\t\t\n\t\t\t\t\tif (conn && conn.type == conn.WIFI) {\n\t\t\t\t\t\treturn Network.NETWORK_WIFI;\n\t\t\t\t\t}\n\t\t\t\t\tif (conn && conn.type == conn.ETHERNET) {\n\t\t\t\t\t\treturn Network.NETWORK_LAN;\n\t\t\t\t\t}\n\t\t\t\t\tif (conn && (conn.type == conn.CELL_2G || conn.type == conn.CELL_3G)) {\n\t\t\t\t\t\treturn Network.NETWORK_MOBILE;\n\t\t\t\t\t}\n\t\t\t\t\treturn Network.NETWORK_UNKNOWN;\n\t\t\t\t},\n\t\t\t\tnetworkTypeName: function() {\n\t\t\t\t\tif (!online) {\n\t\t\t\t\t\treturn \"NONE\";\n\t\t\t\t\t}\t\t\n\t\t\t\t\tif (conn && conn.type == conn.WIFI) {\n\t\t\t\t\t\treturn \"WIFI\";\n\t\t\t\t\t}\n\t\t\t\t\tif (conn && conn.type == conn.ETHERNET) {\n\t\t\t\t\t\treturn \"LAN\";\n\t\t\t\t\t}\n\t\t\t\t\tif (conn && (conn.type == conn.CELL_2G || conn.type == conn.CELL_3G)) {\n\t\t\t\t\t\treturn \"MOBILE\";\n\t\t\t\t\t}\n\t\t\t\t\treturn \"UNKNOWN\";\n\t\t\t\t},\n\t\t\t\tonline: function() {\n\t\t\t\t\treturn online;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tproperties: {\n\t\t\t\thttpURLFormatter: null\n\t\t\t},\n\n\t\t\tcreateHTTPClient: function(args) {\n\t\t\t\treturn new (require(\"Ti/Network/HTTPClient\"))(args);\n\t\t\t},\n\n\t\t\tdecodeURIComponent: function(value) {\n\t\t\t\treturn decodeURIComponent(value);\n\t\t\t},\n\n\t\t\tencodeURIComponent: function(value) {\n\t\t\t\treturn encodeURIComponent(value);\n\t\t\t}\n\n\t\t});\n\n\tfunction onlineChange(evt) {\n\t\tevt.type === \"online\" && !online && (online = 1);\n\t\tevt.type === \"offline\" && online && (online = 0);\n\n\t\tNetwork.fireEvent(\"change\", {\n\t\t\tnetworkType\t\t: Network.networkType,\n\t\t\tnetworkTypeName\t: Network.networkTypeName,\n\t\t\tonline\t\t\t: online\n\t\t});\n\t}\n\n\trequire.on(window, \"online\", onlineChange);\n\trequire.on(window, \"offline\", onlineChange);\n\n\treturn Network;\n\n});\n},\n\"Ti/Gesture\":function(){\n/* /titanium/Ti/Gesture.js */\n\ndefine([\"Ti/_/Evented\", \"Ti/_/lang\", \"Ti/UI\", \"Ti/_/ready\", \"Ti/_/event\"], function(Evented, lang, UI, ready, event) {\n\n\tvar win = window,\n\t\ton = require.on,\n\t\tlastOrient = null,\n\t\tlastShake = Date.now(),\n\t\tlastAccel = {},\n\t\torientationListeners = 0,\n\t\torientationEvents = [],\n\t\tapi = lang.setObject(\"Ti.Gesture\", Evented, {\n\t\t\t_updateOrientation: function() {\n\t\t\t\tgetWindowOrientation();\n\t\t\t\tlastOrient !== api.orientation && api.fireEvent('orientationchange', {\n\t\t\t\t\torientation: lastOrient = api.orientation\n\t\t\t\t});\n\t\t\t},\n\n\t\t\taddEventListener: function (name) {\n\t\t\t\tname == 'orientationchange' && orientationListeners++;\n\t\t\t\torientationListeners == 1 && (orientationEvents = [\n\t\t\t\t\ton(win, \"MozOrientation\", deviceOrientation),\n\t\t\t\t\ton(win, \"deviceorientation\", deviceOrientation)\n\t\t\t\t]);\n\t\t\t\tEvented.addEventListener.apply(this, arguments);\n\t\t\t},\n\n\t\t\tremoveEventListener: function (name) {\n\t\t\t\tname == 'orientationchange' && (orientationListeners = Math.max(orientationListeners - 1, 0));\n\t\t\t\torientationListeners == 0 && event.off(orientationEvents);\n\t\t\t\tEvented.removeEventListener.apply(this, arguments);\n\t\t\t},\n\n\t\t\tisLandscape: function() {\n\t\t\t\treturn api.landscape;\n\t\t\t},\n\n\t\t\tisPortrait: function() {\n\t\t\t\treturn api.portrait;\n\t\t\t},\n\n\t\t\tconstants: {\n\t\t\t\tportrait: false,\n\t\t\t\tlandscape: false,\n\t\t\t\torientation: UI.UNKNOWN\n\t\t\t}\n\t\t});\n\n\tfunction getWindowOrientation() {\n\t\tvar landscape = !!(window.innerWidth && (window.innerWidth > window.innerHeight)),\n\t\t\tc = api.__values__.constants;\n\t\tc.orientation = landscape ? UI.LANDSCAPE_LEFT : UI.PORTRAIT;\n\t\tc.landscape = landscape;\n\t\tc.portrait = !landscape;\n\t\treturn api.orientation;\n\t}\n\n\tready(function() {\n\t\tgetWindowOrientation();\n\t});\n\n\tfunction deviceOrientation(evt) {\n\t\tvar orient = null,\n\t\t\tbeta = Math.abs(evt.beta || evt.y|0 * 90),\n\t\t\tgamma = Math.abs(evt.gamma || evt.x|0 * 90);\n\n\t\tbeta < 5 && gamma > 170 && (orient = UI.FACE_DOWN);\n\t\tbeta < 5 && gamma < 5 && (orient = UI.FACE_UP);\n\t\tbeta > 50 && 0 > beta && lastOrient != orient && (orient = UI.UPSIDE_PORTRAIT);\n\n\t\tif (orient !== null && lastOrient !== orient) {\n\t\t\tapi.fireEvent('orientationchange', {\n\t\t\t\torientation: lastOrient = orient,\n\t\t\t\tsource: evt.source\n\t\t\t});\n\t\t}\n\t}\n\n\ton(win, \"devicemotion\", function(evt) {\n\t\tvar e = evt.acceleration || evt.accelerationIncludingGravity,\n\t\t\tx, y, z,\n\t\t\tcurrentTime,\n\t\t\taccel = e && {\n\t\t\t\tx: e.x,\n\t\t\t\ty: e.y,\n\t\t\t\tz: e.z,\n\t\t\t\tsource: evt.source\n\t\t\t};\n\n\t\tif (accel) {\n\t\t\tif (lastAccel.x !== void 0) {\n\t\t\t\tx = Math.abs(lastAccel.x - accel.x) > 10;\n\t\t\t\ty = Math.abs(lastAccel.y - accel.y) > 10;\n\t\t\t\tz = Math.abs(lastAccel.z - accel.z) > 10;\n\t\t\t\tif ((x && (y || z)) || (y && z)) {\n\t\t\t\t\tcurrentTime = Date.now();\n\t\t\t\t\tif ((accel.timestamp = currentTime - lastShake) > 300) {\n\t\t\t\t\t\tlastShake = currentTime;\n\t\t\t\t\t\tapi.fireEvent('shake', accel);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tlastAccel = accel;\n\t\t}\n\t});\n\n\treturn api;\n\n});\n},\n\"Ti/Map\":function(){\n/* /titanium/Ti/Map.js */\n\ndefine([\"Ti/_/Evented\", \"Ti/_/lang\"], function(Evented, lang) {\n\n\treturn lang.setObject(\"Ti.Map\", Evented, {\n\n\t\tconstants: {\n\t\t\t// these constants MUST match the correct order of the markers in Ti.Map.View\n\t\t\tANNOTATION_GREEN: 1,\n\t\t\tANNOTATION_PURPLE: 2,\n\t\t\tANNOTATION_RED: 0,\n\n\t\t\tHYBRID_TYPE: 2,\n\t\t\tSATELLITE_TYPE: 1,\n\t\t\tSTANDARD_TYPE: 0,\n\t\t\tTERRAIN_TYPE: 3\n\t\t},\n\n\t\tcreateAnnotation: function(args) {\n\t\t\treturn new (require(\"Ti/Map/Annotation\"))(args);\n\t\t},\n\n\t\tcreateView: function(args) {\n\t\t\treturn new (require(\"Ti/Map/View\"))(args);\n\t\t}\n\n\t});\n\n});\n},\n\"Ti/Media\":function(){\n/* /titanium/Ti/Media.js */\n\ndefine([\"Ti/_/Evented\", \"Ti/_/lang\"], function(Evented, lang) {\n\n\treturn lang.setObject(\"Ti.Media\", Evented, {\n\n\t\tconstants: {\n\t\t\tUNKNOWN_ERROR: 0,\n\t\t\tDEVICE_BUSY: 1,\n\t\t\tNO_CAMERA: 2,\n\t\t\tNO_VIDEO: 3,\n\n\t\t\tVIDEO_CONTROL_DEFAULT: 1,\n\t\t\tVIDEO_CONTROL_EMBEDDED: 1,\n\t\t\tVIDEO_CONTROL_FULLSCREEN: 2,\n\t\t\tVIDEO_CONTROL_NONE: 0,\n\t\t\tVIDEO_CONTROL_HIDDEN: 0,\n\n\t\t\tVIDEO_SCALING_NONE: 0,\n\t\t\tVIDEO_SCALING_ASPECT_FILL: 2,\n\t\t\tVIDEO_SCALING_ASPECT_FIT: 1,\n\t\t\tVIDEO_SCALING_MODE_FILL: 3,\n\n\t\t\tVIDEO_PLAYBACK_STATE_STOPPED: 0,\n\t\t\tVIDEO_PLAYBACK_STATE_PLAYING: 1,\n\t\t\tVIDEO_PLAYBACK_STATE_PAUSED: 2,\n\n\t\t\tVIDEO_LOAD_STATE_PLAYABLE: 1,\n\t\t\tVIDEO_LOAD_STATE_PLAYTHROUGH_OK: 2,\n\t\t\tVIDEO_LOAD_STATE_STALLED: 4,\n\t\t\tVIDEO_LOAD_STATE_UNKNOWN: 0,\n\n\t\t\tVIDEO_REPEAT_MODE_NONE: 0,\n\t\t\tVIDEO_REPEAT_MODE_ONE: 1,\n\n\t\t\tVIDEO_FINISH_REASON_PLAYBACK_ENDED: 0,\n\t\t\tVIDEO_FINISH_REASON_PLAYBACK_ERROR: 1,\n\t\t\tVIDEO_FINISH_REASON_USER_EXITED: 2,\n\n\t\t\tMEDIA_TYPE_PHOTO: \"public.image\",\n\t\t\tMEDIA_TYPE_VIDEO: \"public.video\"\n\t\t},\n\n\t\t//beep: function() {},\n\n\t\t//createAudioPlayer: function() {},\n\n\t\t//createSound: function() {},\n\n\t\tcreateVideoPlayer: function(args) {\n\t\t\treturn new (require(\"Ti/Media/VideoPlayer\"))(args);\n\t\t},\n\n\t\tvibrate: function(pattern) {\n\t\t\t\"vibrate\" in navigator && navigator.vibrate(require.is(pattern, \"Array\") ? pattern : [pattern | 0]);\n\t\t}\n\n\t});\n\t\n});\n},\n\"Ti/Utils\":function(){\n/* /titanium/Ti/Utils.js */\n\n/**\n * This file contains source code from the following:\n *\n * Dojo Toolkit\n * Copyright (c) 2005-2011, The Dojo Foundation\n * New BSD License\n * <http://dojotoolkit.org>\n *\n * A JavaScript implementation of the RSA Data Security, Inc. MD5\n * Version 2.1a Copyright Paul Johnston 2000 - 2002.\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * BSD License\n * <http://pajhome.org.uk/crypt/md5/md5.html>\n *\n * A JavaScript implementation of the Secure Hash Algorithm, SHA-256\n * Version 2.2 Copyright Angel Marin, Paul Johnston 2000 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * BSD License\n * <http://pajhome.org.uk/crypt/md5/sha256.html>\n */\n\ndefine([\"Ti/_/encoding\", \"Ti/_/Evented\", \"Ti/_/lang\", \"Ti/Blob\"], function(encoding, Evented, lang, Blob) {\n\n\tfunction toWord(s, y) {\n\t\tvar wa = [],\n\t\t\ti = 0,\n\t\t\tl = s.length * 8;\n\t\tfor (; i < l; i += 8) {\n\t\t\twa[i>>5] |= (s.charCodeAt(i / 8) & 255) << ((y ? y - i : i) % 32);\n\t\t}\n\t\treturn wa;\n\t}\n\n\tfunction toString(wa, y) {\n\t\tvar s = [],\n\t\t\ti = 0,\n\t\t\tl = wa.length * 32;\n\t\tfor (; i < l; i += 8) {\n\t\t\ts.push(String.fromCharCode((wa[i >> 5] >>> ((y ? y - i : i) % 32)) & 255));\n\t\t}\n\t\treturn s.join('');\n\t}\n\n\tfunction toHex(wa, y) {\n\t\tvar h = \"0123456789abcdef\",\n\t\t\ti = 0,\n\t\t\tl = wa.length * 4,\n\t\t\ts = [];\n\t\tfor (; i < l; i++) {\n\t\t\ts.push(h.charAt((wa[i>>2]>>(((y?y-i:i)%4)*8+4))&0xF)+h.charAt((wa[i>>2]>>(((y?y-i:i)%4)*8))&0xF));\n\t\t}\n\t\treturn s.join('');\n\t}\n\n\tfunction padWords(x, len) {\n\t\tx = toWord(x, 24);\n\t\tx[len >> 5] |= 0x80 << (24 - len % 32);\n\t\tx[((len + 64 >> 9) << 4) + 15] = len;\n\t\treturn x;\n\t}\n\n\tfunction addWords(a, b) {\n\t\tvar l = (a & 0xFFFF) + (b & 0xFFFF),\n\t\t\tm = (a >> 16) + (b >> 16) + (l >> 16);\n\t\treturn (m << 16) | (l & 0xFFFF);\n\t}\n\n\tfunction R(n,c) { return (n<<c) | (n>>>(32-c)); }\n\tfunction C(q,a,b,x,s,t) { return addWords(R(addWords(addWords(a, q), addWords(x, t)), s), b); }\n\tfunction FF(a,b,c,d,x,s,t) { return C((b&c)|((~b)&d),a,b,x,s,t); }\n\tfunction GG(a,b,c,d,x,s,t) { return C((b&d)|(c&(~d)),a,b,x,s,t); }\n\tfunction HH(a,b,c,d,x,s,t) { return C(b^c^d,a,b,x,s,t); }\n\tfunction II(a,b,c,d,x,s,t) { return C(c^(b|(~d)),a,b,x,s,t); }\n\tfunction FT(t,b,c,d) {\n\t\tif (t<20) { return (b&c)|((~b)&d); }\n\t\tif (t<40) { return b^c^d; }\n\t\tif (t<60) { return (b&c)|(b&d)|(c&d); }\n\t\treturn b^c^d;\n\t}\n\tfunction KT(t) { return (t<20)?1518500249:(t<40)?1859775393:(t<60)?-1894007588:-899497514; }\n\n\tfunction sha256_S (X, n) {return ( X >>> n ) | (X << (32 - n));}\n\tfunction sha256_Gamma0256(x) {return (sha256_S(x, 7) ^ sha256_S(x, 18) ^ (x >>> 3));}\n\tfunction sha256_Gamma1256(x) {return (sha256_S(x, 17) ^ sha256_S(x, 19) ^ (x >>> 10));}\n\n\tvar sha256_K = [\n\t\t1116352408, 1899447441, -1245643825, -373957723, 961987163, 1508970993,\n\t\t-1841331548, -1424204075, -670586216, 310598401, 607225278, 1426881987,\n\t\t1925078388, -2132889090, -1680079193, -1046744716, -459576895, -272742522,\n\t\t264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986,\n\t\t-1740746414, -1473132947, -1341970488, -1084653625, -958395405, -710438585,\n\t\t113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291,\n\t\t1695183700, 1986661051, -2117940946, -1838011259, -1564481375, -1474664885,\n\t\t-1035236496, -949202525, -778901479, -694614492, -200395387, 275423344,\n\t\t430227734, 506948616, 659060556, 883997877, 958139571, 1322822218,\n\t\t1537002063, 1747873779, 1955562222, 2024104815, -2067236844, -1933114872,\n\t\t-1866530822, -1538233109, -1090935817, -965641998\n\t];\n\n\tfunction isBlob(it) {\n\t\treturn it && it.declaredClass === \"Ti.Blob\";\n\t}\n\n\tfunction base64decode(input) {\n\t\treturn atob(encoding.utf8encode(input));\n\t}\n\n\tfunction getData(x) {\n\t\treturn isBlob(x) ? (x._isBinary ? base64decode(x._data) : x._data) : x;\n\t}\n\n\treturn lang.setObject(\"Ti.Utils\", Evented, {\n\n\t\tbase64decode: function(/*String|Ti.Blob*/input) {\n\t\t\t// if input is a binary blob, no sense in decoding it since it would just be re-encoded again\n\t\t\treturn isBlob(input) && input._isBinary ? input : new Blob({ data: base64decode(input._data || input) });\n\t\t},\n\n\t\tbase64encode: function(/*String|Ti.Blob*/input) {\n\t\t\t// if input is a binary blob, then it's already base64 encoded\n\t\t\treturn isBlob(input) && input._isBinary ? input : new Blob({ data: encoding.utf8decode(btoa(input._data || input)) });\n\t\t},\n\n\t\tmd5HexDigest: function(/*String|Ti.Blob*/x) {\n\t\t\tvar x = encoding.utf8encode(getData(x)),\n\t\t\t\tlen = x.length * 8,\n\t\t\t\ta = 1732584193,\n\t\t\t\tb = -271733879,\n\t\t\t\tc = -1732584194,\n\t\t\t\td = 271733878,\n\t\t\t\ti = 0,\n\t\t\t\tl;\n\n\t\t\tx = toWord(x);\n\t\t\tx[len >> 5] |= 0x80 << (len % 32);\n\t\t\tx[(((len + 64) >>> 9) << 4) + 14] = len;\n\n\t\t\tfor (l = x.length; i < l; i += 16) {\n\t\t\t\tvar olda = a, oldb = b, oldc = c, oldd = d;\n\n\t\t\t\ta = FF(a,b,c,d,x[i+ 0],7 ,-680876936);\n\t\t\t\td = FF(d,a,b,c,x[i+ 1],12,-389564586);\n\t\t\t\tc = FF(c,d,a,b,x[i+ 2],17, 606105819);\n\t\t\t\tb = FF(b,c,d,a,x[i+ 3],22,-1044525330);\n\t\t\t\ta = FF(a,b,c,d,x[i+ 4],7 ,-176418897);\n\t\t\t\td = FF(d,a,b,c,x[i+ 5],12, 1200080426);\n\t\t\t\tc = FF(c,d,a,b,x[i+ 6],17,-1473231341);\n\t\t\t\tb = FF(b,c,d,a,x[i+ 7],22,-45705983);\n\t\t\t\ta = FF(a,b,c,d,x[i+ 8],7 , 1770035416);\n\t\t\t\td = FF(d,a,b,c,x[i+ 9],12,-1958414417);\n\t\t\t\tc = FF(c,d,a,b,x[i+10],17,-42063);\n\t\t\t\tb = FF(b,c,d,a,x[i+11],22,-1990404162);\n\t\t\t\ta = FF(a,b,c,d,x[i+12],7 , 1804603682);\n\t\t\t\td = FF(d,a,b,c,x[i+13],12,-40341101);\n\t\t\t\tc = FF(c,d,a,b,x[i+14],17,-1502002290);\n\t\t\t\tb = FF(b,c,d,a,x[i+15],22, 1236535329);\n\n\t\t\t\ta = GG(a,b,c,d,x[i+ 1],5 ,-165796510);\n\t\t\t\td = GG(d,a,b,c,x[i+ 6],9 ,-1069501632);\n\t\t\t\tc = GG(c,d,a,b,x[i+11],14, 643717713);\n\t\t\t\tb = GG(b,c,d,a,x[i+ 0],20,-373897302);\n\t\t\t\ta = GG(a,b,c,d,x[i+ 5],5 ,-701558691);\n\t\t\t\td = GG(d,a,b,c,x[i+10],9 , 38016083);\n\t\t\t\tc = GG(c,d,a,b,x[i+15],14,-660478335);\n\t\t\t\tb = GG(b,c,d,a,x[i+ 4],20,-405537848);\n\t\t\t\ta = GG(a,b,c,d,x[i+ 9],5 , 568446438);\n\t\t\t\td = GG(d,a,b,c,x[i+14],9 ,-1019803690);\n\t\t\t\tc = GG(c,d,a,b,x[i+ 3],14,-187363961);\n\t\t\t\tb = GG(b,c,d,a,x[i+ 8],20, 1163531501);\n\t\t\t\ta = GG(a,b,c,d,x[i+13],5 ,-1444681467);\n\t\t\t\td = GG(d,a,b,c,x[i+ 2],9 ,-51403784);\n\t\t\t\tc = GG(c,d,a,b,x[i+ 7],14, 1735328473);\n\t\t\t\tb = GG(b,c,d,a,x[i+12],20,-1926607734);\n\n\t\t\t\ta = HH(a,b,c,d,x[i+ 5],4 ,-378558);\n\t\t\t\td = HH(d,a,b,c,x[i+ 8],11,-2022574463);\n\t\t\t\tc = HH(c,d,a,b,x[i+11],16, 1839030562);\n\t\t\t\tb = HH(b,c,d,a,x[i+14],23,-35309556);\n\t\t\t\ta = HH(a,b,c,d,x[i+ 1],4 ,-1530992060);\n\t\t\t\td = HH(d,a,b,c,x[i+ 4],11, 1272893353);\n\t\t\t\tc = HH(c,d,a,b,x[i+ 7],16,-155497632);\n\t\t\t\tb = HH(b,c,d,a,x[i+10],23,-1094730640);\n\t\t\t\ta = HH(a,b,c,d,x[i+13],4 , 681279174);\n\t\t\t\td = HH(d,a,b,c,x[i+ 0],11,-358537222);\n\t\t\t\tc = HH(c,d,a,b,x[i+ 3],16,-722521979);\n\t\t\t\tb = HH(b,c,d,a,x[i+ 6],23, 76029189);\n\t\t\t\ta = HH(a,b,c,d,x[i+ 9],4 ,-640364487);\n\t\t\t\td = HH(d,a,b,c,x[i+12],11,-421815835);\n\t\t\t\tc = HH(c,d,a,b,x[i+15],16, 530742520);\n\t\t\t\tb = HH(b,c,d,a,x[i+ 2],23,-995338651);\n\n\t\t\t\ta = II(a,b,c,d,x[i+ 0],6 ,-198630844);\n\t\t\t\td = II(d,a,b,c,x[i+ 7],10, 1126891415);\n\t\t\t\tc = II(c,d,a,b,x[i+14],15,-1416354905);\n\t\t\t\tb = II(b,c,d,a,x[i+ 5],21,-57434055);\n\t\t\t\ta = II(a,b,c,d,x[i+12],6 , 1700485571);\n\t\t\t\td = II(d,a,b,c,x[i+ 3],10,-1894986606);\n\t\t\t\tc = II(c,d,a,b,x[i+10],15,-1051523);\n\t\t\t\tb = II(b,c,d,a,x[i+ 1],21,-2054922799);\n\t\t\t\ta = II(a,b,c,d,x[i+ 8],6 , 1873313359);\n\t\t\t\td = II(d,a,b,c,x[i+15],10,-30611744);\n\t\t\t\tc = II(c,d,a,b,x[i+ 6],15,-1560198380);\n\t\t\t\tb = II(b,c,d,a,x[i+13],21, 1309151649);\n\t\t\t\ta = II(a,b,c,d,x[i+ 4],6 ,-145523070);\n\t\t\t\td = II(d,a,b,c,x[i+11],10,-1120210379);\n\t\t\t\tc = II(c,d,a,b,x[i+ 2],15, 718787259);\n\t\t\t\tb = II(b,c,d,a,x[i+ 9],21,-343485551);\n\n\t\t\t\ta = addWords(a, olda);\n\t\t\t\tb = addWords(b, oldb);\n\t\t\t\tc = addWords(c, oldc);\n\t\t\t\td = addWords(d, oldd);\n\t\t\t}\n\n\t\t\treturn toHex([a,b,c,d]);\n\t\t},\n\n\t\tsha1: function(/*String|Ti.Blob*/x) {\n\t\t\tvar x = encoding.utf8encode(getData(x)),\n\t\t\t\ta = 1732584193,\n\t\t\t\tb = -271733879,\n\t\t\t\tc = -1732584194,\n\t\t\t\td = 271733878,\n\t\t\t\te = -1009589776,\n\t\t\t\ti = 0,\n\t\t\t\tj, k, l,\n\t\t\t\tw = new Array(80);\n\n\t\t\tx = padWords(x, x.length * 8);\n\n\t\t\tfor (l = x.length; i < l; i += 16) {\n\t\t\t\tvar olda = a, oldb = b, oldc = c, oldd = d, olde = e;\n\n\t\t\t\tfor (j = 0; j < 80; j++) {\n\t\t\t\t\tw[j] = j < 16 ? x[i + j] : R(w[j-3]^w[j-8]^w[j-14]^w[j-16], 1);\n\t\t\t\t\tk = addWords(addWords(R(a,5), FT(j,b,c,d)), addWords(addWords(e,w[j]), KT(j)));\n\t\t\t\t\te = d;\n\t\t\t\t\td = c;\n\t\t\t\t\tc = R(b, 30);\n\t\t\t\t\tb = a;\n\t\t\t\t\ta = k;\n\t\t\t\t}\n\n\t\t\t\ta = addWords(a, olda);\n\t\t\t\tb = addWords(b, oldb);\n\t\t\t\tc = addWords(c, oldc);\n\t\t\t\td = addWords(d, oldd);\n\t\t\t\te = addWords(e, olde);\n\t\t\t}\n\n\t\t\treturn toHex([a, b, c, d, e], 3);\n\t\t},\n\n\t\tsha256: function(/*String|Ti.Blob*/x) {\n\t\t\tvar x = encoding.utf8encode(getData(x)),\n\t\t\t\ta = 1779033703,\n\t\t\t\tb = -1150833019,\n\t\t\t\tc = 1013904242,\n\t\t\t\td = -1521486534,\n\t\t\t\te = 1359893119,\n\t\t\t\tf = -1694144372,\n\t\t\t\tg = 528734635,\n\t\t\t\th = 1541459225,\n\t\t\t\ti = 0,\n\t\t\t\tj, l, T1, T2,\n\t\t\t\tw = new Array(64);\n\n\t\t\tx = padWords(x, x.length * 8);\n\n\t\t\tfor (l = x.length; i < l; i += 16) {\n\t\t\t\tvar olda = a, oldb = b, oldc = c, oldd = d, olde = e, oldf = f, oldg = g, oldh = h;\n\n\t\t\t\tfor (j = 0; j < 64; j++) {\n\t\t\t\t\tw[j] = j < 16 ? x[i + j] : addWords(addWords(addWords(sha256_Gamma1256(w[j-2]), w[j-7]), sha256_Gamma0256(w[j-15])), w[j-16]);\n\t\t\t\t\tT1 = addWords(addWords(addWords(addWords(h, sha256_S(e, 6) ^ sha256_S(e, 11) ^ sha256_S(e, 25)), (e & f) ^ ((~e) & g)), sha256_K[j]), w[j]);\n\t\t\t\t\tT2 = addWords(sha256_S(a, 2) ^ sha256_S(a, 13) ^ sha256_S(a, 22), (a & b) ^ (a & c) ^ (b & c));\n\t\t\t\t\th = g;\n\t\t\t\t\tg = f;\n\t\t\t\t\tf = e;\n\t\t\t\t\te = addWords(d, T1);\n\t\t\t\t\td = c;\n\t\t\t\t\tc = b;\n\t\t\t\t\tb = a;\n\t\t\t\t\ta = addWords(T1, T2);\n\t\t\t\t}\n\n\t\t\t\ta = addWords(a, olda);\n\t\t\t\tb = addWords(b, oldb);\n\t\t\t\tc = addWords(c, oldc);\n\t\t\t\td = addWords(d, oldd);\n\t\t\t\te = addWords(e, olde);\n\t\t\t\tf = addWords(f, oldf);\n\t\t\t\tg = addWords(g, oldg);\n\t\t\t\th = addWords(h, oldh);\n\t\t\t}\n\n\t\t\treturn toHex([a, b, c, d, e, f, g, h], 3);\n\t\t}\n\n\t});\n\n});\n},\n\"Ti/XML\":function(){\n/* /titanium/Ti/XML.js */\n\ndefine([\"Ti/_/Evented\", \"Ti/_/lang\"], function(Evented, lang) {\n\t\n\t// Add getters and setters to the various prototypes\n\t[\n\t\t[\n\t\t\t\"Document\",\n\t\t\t\"doctype,implementation,documentElement,inputEncoding,xmlEncoding,domConfig\",\n\t\t\t\"xmlStandalone,xmlVersion,strictErrorChecking,documentURI\"\n\t\t],[\n\t\t\t\"Node\",\n\t\t\t\"nodeName,nodeType,parentNode,childNodes,firstChild,lastChild,previousSibling,nextSibling,attributes,ownerDocument,namespaceURI,localName,baseURI\",\n\t\t\t\"textContent,nodeValue,prefix\"\n\t\t],[\n\t\t\t\"NamedNodeMap\",\n\t\t\t\"length\"\n\t\t],[\n\t\t\t\"CharacterData\",\n\t\t\t\"length\",\n\t\t\t\"data\"\n\t\t],[\n\t\t\t\"Attr\",\n\t\t\t\"name,specified,ownerElement,schemaTypeInfo,isId\",\n\t\t\t\"value\"\n\t\t],[\n\t\t\t\"Element\",\n\t\t\t\"tagName,schemaTypeInfo\"\n\t\t],[\n\t\t\t\"Text\",\n\t\t\t\"isElementContentWhitespace,wholeText\"\n\t\t],[\n\t\t\t\"DocumentType\",\n\t\t\t\"name,entities,notations,publicId,systemId,internalSubset\"\n\t\t],[\n\t\t\t\"Notation\",\n\t\t\t\"publicId,systemId\"\n\t\t],[\n\t\t\t\"NodeList\",\n\t\t\t\"length\"\n\t\t],[\n\t\t\t\"Entity\",\n\t\t\t\"publicId,systemId,notationName,inputEncoding,xmlEncoding,xmlVersion\"\n\t\t],[\n\t\t\t\"ProcessingInstruction\",\n\t\t\t\"target\",\n\t\t\t\"data\"\n\t\t]\n\t].forEach(function(e) {\n\t\tvar f = window[e[0]];\n\t\tf && lang.generateAccessors(f, e[1], e[2]);\n\t});\n\n\treturn lang.setObject(\"Ti.XML\", Evented, {\n\t\t\n\t\tparseString: function(xml) {\n\t\t\treturn (new DOMParser()).parseFromString(xml,\"text/xml\");\n\t\t},\n\t\t\n\t\tserializeToString: function(node) {\n\t\t\treturn (new XMLSerializer()).serializeToString(node);\n\t\t}\n\n\t});\n\n});\n},\n\"Ti/Yahoo\":function(){\n/* /titanium/Ti/Yahoo.js */\n\ndefine([\"Ti/_/Evented\", \"Ti/_/lang\"],\n\tfunction(Evented, lang) {\n\n\treturn lang.setObject(\"Ti.Yahoo\", Evented, {\n\n\t\tyql: function(query, callback) {\n\t\t\trequire([\n\t\t\t\t\"http://query.yahooapis.com/v1/public/yql?format=json&callback=define&q=\"\n\t\t\t\t\t+ encodeURIComponent(query)\n\t\t\t\t\t.replace(/!/g,'%21')\n\t\t\t\t\t.replace(/'/g,'%27')\n\t\t\t\t\t.replace(/\\(/,'%28')\n\t\t\t\t\t.replace(/\\)/,'%29')\n\t\t\t], function(data) {\n\t\t\t\tvar data = data || {},\n\t\t\t\t\tresults = data.query && data.query.results;\n\t\t\t\trequire.is(callback, \"Function\") && callback({\n\t\t\t\t\tsuccess: !!results,\n\t\t\t\t\tdata: results,\n\t\t\t\t\tmessage: data.error && data.error.description\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t});\n\n});\n\n},\n\"Ti/Facebook/LoginButton\":function(){\n/* /titanium/Ti/Facebook/LoginButton.js */\n\ndefine([\"Ti/_/declare\", \"Ti/_/Evented\", \"Ti/UI/Button\", \"Ti/Facebook\", \"Ti/_/lang\"], function(declare, Evented, Button, Facebook, lang) {\n\t\n\tvar imagePrefix = \"themes/\" + require.config.ti.theme + \"/Facebook/\",\n\t\tbuttonImages = [\n\t\t\t\"login.png\", // Login normal\n\t\t\t\"logout.png\", // Logout normal\n\t\t\t\"loginWide.png\", // Login wide\n\t\t\t\"logout.png\" // Logout \"wide\" (really just normal)\n\t\t],\n\t\tpressedButtonImages = [\n\t\t\t\"loginPressed.png\", // Login normal pressed\n\t\t\t\"logoutPressed.png\", // Logout normal pressed\n\t\t\t\"loginWidePressed.png\", // Login wide pressed\n\t\t\t\"logoutPressed.png\" // Logout \"wide\" pressed (really just normal)\n\t\t];\n\t\n\treturn declare(\"Ti.Facebook.LoginButton\", Button, {\n\t\t\n\t\tconstructor: function() {\n\t\t\t\n\t\t\tthis._clearDefaultLook();\n\t\t\tthis._updateImages();\n\t\t\t\n\t\t\tthis._loggedInState = Facebook.loggedIn;\n\t\t\t\n\t\t\tthis.addEventListener(\"singletap\", function() {\n\t\t\t\tif (Facebook.loggedIn) {\n\t\t\t\t\tFacebook.logout();\n\t\t\t\t} else {\n\t\t\t\t\tFacebook.authorize();\n\t\t\t\t}\n\t\t\t});\n\t\t\tFacebook.addEventListener(\"login\", lang.hitch(this,\"_updateImages\"));\n\t\t\tFacebook.addEventListener(\"logout\", lang.hitch(this,\"_updateImages\"));\n\t\t},\n\t\t\n\t\t_updateImages: function() {\n\t\t\tthis._loggedInState = Facebook.loggedIn;\n\t\t\tvar imageIndex = 0;\n\t\t\tFacebook.loggedIn && (imageIndex++);\n\t\t\tthis.style === Facebook.BUTTON_STYLE_WIDE && (imageIndex += 2);\n\t\t\tthis.backgroundImage = imagePrefix + buttonImages[imageIndex];\n\t\t\tthis.backgroundSelectedImage = imagePrefix + pressedButtonImages[imageIndex];\n\t\t\tthis._hasSizeDimensions() && this._triggerLayout();\n\t\t},\n\t\t\n\t\t_getContentSize: function() {\n\t\t\t// Heights and widths taken directly from the image sizes.\n\t\t\treturn {\n\t\t\t\twidth: !Facebook.loggedIn && this.style === Facebook.BUTTON_STYLE_WIDE ? 318 : 144,\n\t\t\t\theight: 58\n\t\t\t};\n\t\t},\n\t\t\n\t\tproperties: {\n\t\t\tstyle: {\n\t\t\t\tpost: function() {\n\t\t\t\t\tthis._updateImages();\n\t\t\t\t},\n\t\t\t\tvalue: Facebook.BUTTON_STYLE_NORMAL\n\t\t\t}\n\t\t}\n\t\t\n\t});\n\n});\n},\n\"Ti/UI/Button\":function(){\n/* /titanium/Ti/UI/Button.js */\n\ndefine(['Ti/_/declare', 'Ti/_/UI/Widget', 'Ti/_/dom', 'Ti/_/css', 'Ti/_/style', 'Ti/_/lang', 'Ti/Locale', 'Ti/UI'],\n\tfunction(declare, Widget, dom, css, style, lang, Locale, UI) {\n\n\tvar on = require.on,\n\t\tsetStyle = style.set,\n\t\tpostDoBackground = {\n\t\t\tpost: function() {\n\t\t\t\tif (this.backgroundColor || this.backgroundDisabledColor || this.backgroundDisabledImage || this.backgroundFocusedColor ||\n\t\t\t\t\tthis.backgroundFocusedImage || this.backgroundImage || this.backgroundSelectedColor || this.backgroundSelectedImage) {\n\t\t\t\t\tthis._clearDefaultLook();\n\t\t\t\t} else {\n\t\t\t\t\tthis._setDefaultLook();\n\t\t\t\t}\n\t\t\t\tthis._doBackground();\n\t\t\t}\n\t\t},\n\t\ttitlePost = {\n\t\t\tpost: function() {\n\t\t\t\tvar text = Locale._getString(this.titleid, this.title);\n\t\t\t\t//For platform consistency, covert leading spaces to non-breaking\n\t\t\t\tthis._buttonTitle.text = text.replace(/^[ \\t]+/gm, function(x){ return new Array(x.length + 1).join('&nbsp;') });\n\t\t\t\tthis._hasSizeDimensions() && this._triggerLayout();\n\t\t\t}\n\t\t};\n\n\treturn declare('Ti.UI.Button', Widget, {\n\n\t\tconstructor: function() {\n\t\t\tvar contentContainer = this._contentContainer = UI.createView({\n\t\t\t\t\twidth: UI.INHERIT,\n\t\t\t\t\theight: UI.INHERIT,\n\t\t\t\t\tlayout: UI._LAYOUT_CONSTRAINING_HORIZONTAL,\n\t\t\t\t\tborderColor: 'transparent'\n\t\t\t\t}),\n\t\t\t\tnode = this.domNode;\n\n\t\t\tthis._add(contentContainer);\n\n\t\t\tcontentContainer._add(this._buttonImage = UI.createImageView());\n\t\t\tcontentContainer._add(this._buttonTitle = UI.createLabel({\n\t\t\t\ttextAlign: UI.TEXT_ALIGNMENT_CENTER,\n\t\t\t\tverticalAlign: UI.TEXT_VERTICAL_ALIGNMENT_CENTER,\n\t\t\t\twidth: UI.INHERIT,\n\t\t\t\theight: UI.INHERIT\n\t\t\t}));\n\n\t\t\tthis._setDefaultLook();\n\n\t\t\ton(this, 'touchstart', this, function() {\n\t\t\t\tif (this._hasDefaultLook) {\n\t\t\t\t\tcss.remove(node, 'TiUIElementGradient');\n\t\t\t\t\tcss.add(node, 'TiUIElementGradientActive');\n\t\t\t\t} else {\n\t\t\t\t\tthis.selectedColor && (this._buttonTitle.color = this.selectedColor);\n\t\t\t\t\tthis.backgroundSelectedColor && setStyle(this.domNode,'backgroundColor',this.backgroundSelectedColor);\n\t\t\t\t}\n\t\t\t});\n\t\t\ton(this, 'touchend', this, function() {\n\t\t\t\tif (this._hasDefaultLook) {\n\t\t\t\t\tcss.remove(node, 'TiUIElementGradientActive');\n\t\t\t\t\tcss.add(node, 'TiUIElementGradient');\n\t\t\t\t} else {\n\t\t\t\t\tthis.selectedColor && (this._buttonTitle.color = this.color || '#000');\n\t\t\t\t\tthis.backgroundSelectedColor && setStyle(this.domNode,'backgroundColor',this.backgroundColor);\n\t\t\t\t}\n\t\t\t});\n\t\t\ton(node, 'mouseout', this, function() {\n\t\t\t\tthis.selectedColor && (this._buttonTitle.color = this.color || '#000');\n\t\t\t});\n\t\t},\n\n\t\t_defaultWidth: UI.SIZE,\n\n\t\t_defaultHeight: UI.SIZE,\n\n\t\t_setDefaultLook: function() {\n\t\t\tif (!this._hasDefaultLook) {\n\t\t\t\tthis._hasDefaultLook = true;\n\t\t\t\tthis._previousBorderWidth = this.borderWidth;\n\t\t\t\tthis._previousBorderColor = this.borderColor;\n\t\t\t\tcss.add(this.domNode, 'TiUIElementGradient');\n\t\t\t\tcss.add(this.domNode, 'TiUIButtonDefault');\n\t\t\t\tthis._contentContainer.borderWidth = 6;\n\t\t\t\tthis._getBorderFromCSS();\n\t\t\t}\n\t\t},\n\n\t\t_clearDefaultLook: function() {\n\t\t\tif (this._hasDefaultLook) {\n\t\t\t\tthis._hasDefaultLook = false;\n\t\t\t\tthis.borderWidth = this._previousBorderWidth;\n\t\t\t\tthis.borderColor = this._previousBorderColor;\n\t\t\t\tcss.remove(this.domNode, 'TiUIElementGradient');\n\t\t\t\tcss.remove(this.domNode, 'TiUIButtonDefault');\n\t\t\t\tthis._contentContainer.borderWidth = 0;\n\t\t\t}\n\t\t},\n\n\t\tproperties: {\n\n\t\t\t// Override the default background info so we can hook into it\n\t\t\tbackgroundColor: postDoBackground,\n\n\t\t\tbackgroundDisabledColor: postDoBackground,\n\n\t\t\tbackgroundDisabledImage: postDoBackground,\n\n\t\t\tbackgroundFocusedColor: postDoBackground,\n\n\t\t\tbackgroundFocusedImage: postDoBackground,\n\n\t\t\tbackgroundImage: postDoBackground,\n\n\t\t\tbackgroundSelectedColor: postDoBackground,\n\n\t\t\tbackgroundSelectedImage: postDoBackground,\n\n\t\t\tenabled: {\n\t\t\t\tset: function(value, oldValue) {\n\n\t\t\t\t\tif (value !== oldValue) {\n\t\t\t\t\t\tif (this._hasDefaultLook) {\n\t\t\t\t\t\t\tif (!value) {\n\t\t\t\t\t\t\t\tcss.remove(this.domNode,'TiUIElementGradient');\n\t\t\t\t\t\t\t\tsetStyle(this.domNode,'backgroundColor','#aaa');\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcss.add(this.domNode,'TiUIElementGradient');\n\t\t\t\t\t\t\t\tsetStyle(this.domNode,'backgroundColor','');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis._setTouchEnabled(value);\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t},\n\t\t\t\tvalue: true\n\t\t\t},\n\t\t\tfont : {\n\t\t\t\tset : function(value) {\n\t\t\t\t\tthis._buttonTitle.font = value;\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\t\t\timage: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\tthis._buttonImage.image = value;\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\t\t\tshadowColor: {\n\t\t\t\tpost: function (value) {\n\t\t\t\t\tthis._buttonTitle.shadowColor = value;\n\t\t\t\t}\n\t\t\t},\n\t\t\tshadowOffset: {\n\t\t\t\tpost: function (value) {\n\t\t\t\t\tthis._buttonTitle.shadowOffset = value;\n\t\t\t\t}\n\t\t\t},\n\t\t\tshadowRadius: {\n\t\t\t\tpost: function (value) {\n\t\t\t\t\tthis._buttonTitle.shadowRadius = value;\n\t\t\t\t}\n\t\t\t},\n\t\t\tselectedColor: void 0,\n\t\t\ttextAlign: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\treturn this._buttonTitle.textAlign = value;\n\t\t\t\t}\n\t\t\t},\n\t\t\ttitle: titlePost,\n\t\t\ttitleid: titlePost,\n\t\t\tverticalAlign: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\treturn this._buttonTitle.verticalAlign = value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t});\n\n});\n},\n\"Ti/_/UI/Widget\":function(){\n/* /titanium/Ti/_/UI/Widget.js */\n\ndefine([\"Ti/_/declare\", \"Ti/UI/View\"], function(declare, View) {\n\n\t// base class for various widgets that will eventually merge with Ti._.UI.Element in 1.9\n\treturn declare(\"Ti._.UI.Widget\", View);\n\n});\n},\n\"Ti/UI/View\":function(){\n/* /titanium/Ti/UI/View.js */\n\ndefine(['Ti/_/declare', 'Ti/_/UI/Element', 'Ti/_/string', 'Ti/_/Layouts', 'Ti/UI'],\n\tfunction (declare, Element, string, Layouts, UI) {\n\n\tvar layoutRegExp = /^horizontal|vertical|constrainingHorizontal|constrainingVertical$/;\n\n\treturn declare('Ti.UI.View', Element, {\n\n\t\tconstructor: function () {\n\t\t\tthis.__values__.constants.children = [];\n\t\t\tthis._setLayout();\n\t\t\tthis.containerNode = this.domNode;\n\t\t},\n\n\t\t/**\n\t\t * Marks a view as 'published,' meaning it will show up in {@link Ti#UI#View#children} and can be the source of\n\t\t * UI events.\n\t\t *\n\t\t * @private\n\t\t * @name Ti#UI#View#_markPublished\n\t\t * @param {Ti.UI.View} view The view to mark as published.\n\t\t */\n\t\t_publish: function (view) {\n\t\t\tthis.children.push(view);\n\t\t\tview._isPublished = 1;\n\t\t},\n\n\t\t/**\n\t\t * Marks a view as 'unpublished,' meaning it will <em>not</em> show up in {@link Ti#UI#View#children} and can\n\t\t * <em>not</em> be the source of UI events.\n\t\t *\n\t\t * @private\n\t\t * @name Ti#UI#View#_markPublished\n\t\t * @param {Ti.UI.View} view The view to mark as unpublished.\n\t\t */\n\t\t_unpublish: function (view) {\n\t\t\tvar children = this.children,\n\t\t\t\tviewIdx = children.indexOf(view);\n\t\t\t~viewIdx && children.splice(viewIdx, 1);\n\t\t},\n\n\t\tadd: function (view) {\n\t\t\tthis._add(view);\n\t\t\tthis._publish(view);\n\t\t},\n\n\t\tremove: function (view) {\n\t\t\tthis._remove(view);\n\t\t\tthis._unpublish(view);\n\t\t},\n\n\t\t_defaultWidth: UI.FILL,\n\n\t\t_defaultHeight: UI.FILL,\n\n\t\t_setLayout: function (value) {\n\t\t\tvalue = layoutRegExp.test(value) ? value : 'composite';\n\n\t\t\tif (this._layout) {\n\t\t\t\tthis._layout.destroy();\n\t\t\t\tthis._layout = null;\n\t\t\t}\n\n\t\t\tthis._layout = new Layouts[string.capitalize(value === 'horizontal' && !this.horizontalWrap ? 'constrainingHorizontal' : value)]({\n\t\t\t\telement: this\n\t\t\t});\n\n\t\t\treturn value;\n\t\t},\n\n\t\tconstants: {\n\t\t\tchildren: void 0\n\t\t},\n\n\t\tproperties: {\n\t\t\tlayout: {\n\t\t\t\tset: '_setLayout'\n\t\t\t},\n\t\t\thorizontalWrap: {\n\t\t\t\tpost: function () {\n\t\t\t\t\tthis.layout = this.layout; // Force a new layout to be created.\n\t\t\t\t},\n\t\t\t\tvalue: true\n\t\t\t}\n\t\t}\n\n\t});\n\n});\n},\n\"Ti/_/UI/Element\":function(){\n/* /titanium/Ti/_/UI/Element.js */\n\n/*global Ti define window*/\ndefine(\n\t['Ti/_/css', 'Ti/_/declare', 'Ti/_/dom', 'Ti/_/event', 'Ti/_/has', 'Ti/_/lang',\n\t'Ti/_/style', 'Ti/_/Evented', 'Ti/UI', 'Ti/UI/Animation'],\n\tfunction(css, declare, dom, event, has, lang, style, Evented, UI, Animation) {\n\n\tvar global = window,\n\t\tunitize = dom.unitize,\n\t\tcomputeSize = dom.computeSize,\n\t\ton = require.on,\n\t\tsetStyle = style.set,\n\t\tis = require.is,\n\t\tisDef = lang.isDef,\n\t\tpostDoBackground = {\n\t\t\tpost: '_doBackground'\n\t\t},\n\t\tpostLayoutPropFunction = function(value, oldValue) {\n\t\t\t(value === null || (!is(value,'String') && !is(value,'Number'))) && (value = void 0);\n\t\t\tvalue !== oldValue && !this._batchUpdateInProgress && this._triggerLayout();\n\t\t\treturn value;\n\t\t},\n\t\tpostLayoutProp = {\n\t\t\tset: postLayoutPropFunction\n\t\t},\n\t\tpixelUnits = 'px',\n\t\tuseTouch = has('touch'),\n\t\tusePointer = global.navigator.msPointerEnabled,\n\t\tgestureEvents = [\n\t\t\t'touchstart',\n\t\t\t'touchend',\n\t\t\t'touchmove',\n\t\t\t'touchcancel',\n\t\t\t'singletap',\n\t\t\t'doubletap',\n\t\t\t'longpress',\n\t\t\t'pinch',\n\t\t\t'swipe',\n\t\t\t'twofingertap'\n\t\t];\n\n\treturn declare('Ti._.UI.Element', Evented, {\n\n\t\tdomType: null,\n\t\tdomNode: null,\n\t\t_alive: 1,\n\n\t\tconstructor: function(args) {\n\t\t\tvar self = this,\n\t\t\t\ttouching = 0,\n\n\t\t\t\tnode = self.domNode = self._setFocusNode(dom.create(self.domType || 'div', {\n\t\t\t\t\tclassName: 'TiUIElement ' + css.clean(self.declaredClass),\n\t\t\t\t\t'data-widget-id': self.widgetId\n\t\t\t\t}));\n\n\t\t\tself._children = [];\n\n\t\t\ton(self, 'touchstart', self, '_doBackground');\n\t\t\ton(self, 'touchend', self, '_doBackground');\n\n\t\t\t// NOTE: this code signifies that a given element was involved in the event, but doesn't actually handle it.\n\t\t\t// The code to actually handle the event is in UI.js\n\t\t\ton(self.domNode, usePointer ? 'MSPointerDown' : useTouch ? 'touchstart' : 'mousedown', function(evt){\n\t\t\t\tvar handles = [\n\t\t\t\t\ton(global, usePointer ? 'MSPointerMove' : useTouch ? 'touchmove' : 'mousemove', function(evt){\n\t\t\t\t\t\t(useTouch || touching) && (evt._elements || (evt._elements = [])).push(self);\n\t\t\t\t\t}),\n\t\t\t\t\ton(global, usePointer ? 'MSPointerUp' : useTouch ? 'touchend' : 'mouseup', function(evt){\n\t\t\t\t\t\ttouching = 0;\n\t\t\t\t\t\t(evt._elements || (evt._elements = [])).push(self);\n\t\t\t\t\t\tevent.off(handles);\n\t\t\t\t\t}),\n\t\t\t\t\tuseTouch && on(global, 'touchcancel', function(evt){\n\t\t\t\t\t\t(evt._elements || (evt._elements = [])).push(self);\n\t\t\t\t\t\tevent.off(handles);\n\t\t\t\t\t})\n\t\t\t\t];\n\t\t\t\ttouching = 1;\n\t\t\t\t(evt._elements || (evt._elements = [])).push(self);\n\t\t\t});\n\n\t\t\tvar values = self.__values__.constants;\n\t\t\tself._layoutCoefficients = {\n\t\t\t\twidth: {\n\t\t\t\t\tx1: 0,\n\t\t\t\t\tx2: 0,\n\t\t\t\t\tx3: 0\n\t\t\t\t},\n\t\t\t\tminWidth: {\n\t\t\t\t\tx1: 0,\n\t\t\t\t\tx2: 0,\n\t\t\t\t\tx3: 0\n\t\t\t\t},\n\t\t\t\tsandboxWidth: {\n\t\t\t\t\tx1: 0,\n\t\t\t\t\tx2: 0,\n\t\t\t\t\tx3: 0\n\t\t\t\t},\n\t\t\t\theight: {\n\t\t\t\t\tx1: 0,\n\t\t\t\t\tx2: 0,\n\t\t\t\t\tx3: 0\n\t\t\t\t},\n\t\t\t\tminHeight: {\n\t\t\t\t\tx1: 0,\n\t\t\t\t\tx2: 0,\n\t\t\t\t\tx3: 0\n\t\t\t\t},\n\t\t\t\tsandboxHeight: {\n\t\t\t\t\tx1: 0,\n\t\t\t\t\tx2: 0,\n\t\t\t\t\tx3: 0\n\t\t\t\t},\n\t\t\t\tleft: {\n\t\t\t\t\tx1: 0,\n\t\t\t\t\tx2: 0,\n\t\t\t\t\tx3: 0\n\t\t\t\t},\n\t\t\t\ttop: {\n\t\t\t\t\tx1: 0,\n\t\t\t\t\tx2: 0,\n\t\t\t\t\tx3: 0,\n\t\t\t\t\tx4: 0\n\t\t\t\t}\n\t\t\t};\n\t\t\tvalues.size = {\n\t\t\t\tx: 0,\n\t\t\t\ty: 0,\n\t\t\t\twidth: 0,\n\t\t\t\theight: 0\n\t\t\t};\n\t\t\tvalues.rect = {\n\t\t\t\tx: 0,\n\t\t\t\ty: 0,\n\t\t\t\twidth: 0,\n\t\t\t\theight: 0\n\t\t\t};\n\t\t},\n\n\t\tfireEvent: function(type, e) {\n\t\t\te = e || {};\n\t\t\tvar bubbles = e.bubbles,\n\t\t\t\tp;\n\t\t\tEvented.fireEvent.call(this, type, e);\n\t\t\tif (bubbles && !e.cancelBubble && this.bubbleParent && this._parent) {\n\t\t\t\tif (isDef(e.x)) {\n\t\t\t\t\tp = this.convertPointToView({\n\t\t\t\t\t\tx: e.x,\n\t\t\t\t\t\ty: e.y\n\t\t\t\t\t}, this._parent);\n\t\t\t\t\te.x = p ? p.x : e.x;\n\t\t\t\t\te.y = p ? p.y : e.y;\n\t\t\t\t}\n\t\t\t\tthis._parent.fireEvent(type, e);\n\t\t\t}\n\t\t},\n\n\t\t_setParent: function(view) {\n\t\t\tthis._parent = view;\n\t\t},\n\n\t\t_add: function(view, hidden) {\n\n\t\t\tview._hidden = hidden;\n\n\t\t\tview._setParent(this);\n\n\t\t\tthis._children.push(view);\n\t\t\tthis.containerNode.appendChild(view.domNode);\n\n\t\t\tview._triggerLayout();\n\t\t},\n\n\t\t_insertAt: function(view, index, hidden) {\n\t\t\tvar children = this._children;\n\t\t\tif (index > children.length || index < 0) {\n\t\t\t\treturn;\n\t\t\t} else if (index === children.length) {\n\t\t\t\tthis._add(view, hidden);\n\t\t\t} else {\n\t\t\t\tview._parent = this;\n\t\t\t\tthis.containerNode.insertBefore(view.domNode, children[index].domNode);\n\t\t\t\tchildren.splice(index,0,view);\n\t\t\t\tthis._triggerLayout();\n\t\t\t}\n\t\t},\n\n\t\t_remove: function(view) {\n\t\t\tvar children = this._children,\n\t\t\t\tp = children.indexOf(view);\n\t\t\tif (p !== -1) {\n\t\t\t\tchildren.splice(p, 1);\n\t\t\t\tview._setParent();\n\t\t\t\tdom.detach(view.domNode);\n\t\t\t\tthis._triggerLayout();\n\t\t\t}\n\t\t},\n\n\t\t_removeAllChildren: function(view) {\n\t\t\tvar children = this._children;\n\t\t\twhile (children.length) {\n\t\t\t\tthis.remove(children[0]);\n\t\t\t}\n\t\t\tthis._triggerLayout();\n\t\t},\n\n\t\tdestroy: function() {\n\t\t\tif (this._alive) {\n\t\t\t\tvar children = this._children;\n\t\t\t\twhile (children.length) {\n\t\t\t\t\tchildren.splice(0, 1)[0].destroy();\n\t\t\t\t}\n\t\t\t\tthis._parent && this._parent._remove(this);\n\t\t\t\tif (this.domNode) {\n\t\t\t\t\tdom.destroy(this.domNode);\n\t\t\t\t\tthis.domNode = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tEvented.destroy.apply(this, arguments);\n\t\t},\n\n\t\t_isAttachedToActiveWin: function() {\n\t\t\t// If this element is not attached to an active window, skip the calculation\n\t\t\tvar isAttachedToActiveWin = false,\n\t\t\t\tnode = this;\n\t\t\twhile(node) {\n\t\t\t\tif (node === UI._container) {\n\t\t\t\t\tisAttachedToActiveWin = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tnode = node._parent;\n\t\t\t}\n\t\t\treturn isAttachedToActiveWin;\n\t\t},\n\n\t\t_needsMeasuring: true,\n\n\t\t_triggerLayout: function(force) {\n\t\t\tthis._needsMeasuring = true;\n\t\t\tthis._isAttachedToActiveWin() && (!this._batchUpdateInProgress || force) && UI._triggerLayout(this, force);\n\t\t},\n\n\t\t_hasSizeDimensions: function() {\n\t\t\treturn this._hasSizeWidth() || this._hasSizeHeight();\n\t\t},\n\n\t\t_hasSizeHeight: function() {\n\t\t\treturn isNaN(this._layoutCoefficients.height.x1);\n\t\t},\n\n\t\t_hasSizeWidth: function() {\n\t\t\treturn isNaN(this._layoutCoefficients.width.x1);\n\t\t},\n\n\t\tstartLayout: function() {\n\t\t\tthis._batchUpdateInProgress = true;\n\t\t},\n\n\t\tfinishLayout: function() {\n\t\t\tthis._batchUpdateInProgress = false;\n\t\t\tUI._triggerLayout(this, true);\n\t\t},\n\n\t\tupdateLayout: function(params) {\n\t\t\tthis.startLayout();\n\t\t\tvar i = 0,\n\t\t\t\tlen = params.length;\n\t\t\tfor(; i < len; i++) {\n\t\t\t\tthis[i] = params[i];\n\t\t\t}\n\t\t\tthis.finishLayout();\n\t\t},\n\n\t\tconvertPointToView: function(point, destinationView) {\n\t\t\t// Make sure that both nodes are connected to the root\n\t\t\tif (!this._isAttachedToActiveWin() || !destinationView._isAttachedToActiveWin()) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif (!point || !is(point.x,'Number') || !is(point.y,'Number')) {\n\t\t\t\tthrow new Error('Invalid point');\n\t\t\t}\n\n\t\t\tif (!destinationView.domNode) {\n\t\t\t\tthrow new Error('Invalid destination view');\n\t\t\t}\n\n\t\t\tfunction getAbsolutePosition(node, point, additive) {\n\t\t\t\tvar x = point.x,\n\t\t\t\t\ty = point.y,\n\t\t\t\t\tmultiplier = (additive ? 1 : -1);\n\n\t\t\t\twhile(node) {\n\t\t\t\t\tx += multiplier * node.domNode.offsetLeft;\n\t\t\t\t\ty += multiplier * node.domNode.offsetTop;\n\t\t\t\t\tnode = node._parent;\n\t\t\t\t}\n\n\t\t\t\treturn {x: x, y: y};\n\t\t\t}\n\n\t\t\t// Find this node's location relative to the root\n\t\t\treturn getAbsolutePosition(destinationView, getAbsolutePosition(this,point,true),false);\n\t\t},\n\n\t\t// This method returns the offset of the content relative to the parent's location.\n\t\t// This is useful for controls like ScrollView that can move the children around relative to itself.\n\t\t_getContentOffset: function() {\n\t\t\treturn {x: 0, y: 0};\n\t\t},\n\n\t\t_computeGradient: function() {\n\t\t\tvar backgroundGradient = this.backgroundGradient;\n\t\t\t\tcolors = backgroundGradient.colors,\n\t\t\t\ttype = backgroundGradient.type,\n\t\t\t\tcssVal = type + '-gradient(';\n\n\t\t\t// Convert common units to absolute\n\t\t\tvar startPointX = computeSize(backgroundGradient.startPoint.x, this._measuredWidth),\n\t\t\t\tstartPointY = computeSize(backgroundGradient.startPoint.y, this._measuredHeight),\n\t\t\t\tcenterX = computeSize('50%', this._measuredWidth),\n\t\t\t\tcenterY = computeSize('50%', this._measuredHeight),\n\t\t\t\tnumColors = colors.length;\n\n\t\t\tif (type === 'linear') {\n\n\t\t\t\t// Convert linear specific values to absolute\n\t\t\t\tvar endPointX = computeSize(backgroundGradient.endPoint.x, this._measuredWidth),\n\t\t\t\t\tendPointY = computeSize(backgroundGradient.endPoint.y, this._measuredHeight);\n\n\t\t\t\tvar userGradientStart,\n\t\t\t\t\tuserGradientEnd;\n\t\t\t\tif (Math.abs(startPointX - endPointX) < 0.01) {\n\t\t\t\t\t// Vertical gradient shortcut\n\t\t\t\t\tif (startPointY < endPointY) {\n\t\t\t\t\t\tuserGradientStart = startPointY;\n\t\t\t\t\t\tuserGradientEnd = endPointY;\n\t\t\t\t\t\tcssVal += '270deg';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuserGradientStart = endPointY;\n\t\t\t\t\t\tuserGradientEnd = startPointY;\n\t\t\t\t\t\tcssVal += '90deg';\n\t\t\t\t\t}\n\t\t\t\t} else if(Math.abs(startPointY - endPointY) < 0.01) {\n\t\t\t\t\t// Horizontal gradient shortcut\n\t\t\t\t\tif (startPointX < endPointX) {\n\t\t\t\t\t\tuserGradientStart = startPointX;\n\t\t\t\t\t\tuserGradientEnd = endPointX;\n\t\t\t\t\t\tcssVal += '0deg';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuserGradientStart = endPointX;\n\t\t\t\t\t\tuserGradientEnd = startPointX;\n\t\t\t\t\t\tcssVal += '180deg';\n\t\t\t\t\t}\n\t\t\t\t}else {\n\n\t\t\t\t\t// Rearrange values so that start is to the left of end\n\t\t\t\t\tvar mirrorGradient = false;\n\t\t\t\t\tif (startPointX > endPointX) {\n\t\t\t\t\t\tmirrorGradient = true;\n\t\t\t\t\t\tvar temp = startPointX;\n\t\t\t\t\t\tstartPointX = endPointX;\n\t\t\t\t\t\tendPointX = temp;\n\t\t\t\t\t\ttemp = startPointY;\n\t\t\t\t\t\tstartPointY = endPointY;\n\t\t\t\t\t\tendPointY = temp;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Compute the angle, start location, and end location of the gradient\n\t\t\t\t\tvar angle = Math.atan2(endPointY - startPointY, endPointX - startPointX),\n\t\t\t\t\t\ttanAngle = Math.tan(angle),\n\t\t\t\t\t\tcosAngle = Math.cos(angle),\n\t\t\t\t\t\toriginLineIntersection = centerY - centerX * tanAngle,\n\t\t\t\t\t\tuserDistance = (startPointY - startPointX * tanAngle - originLineIntersection) * cosAngle,\n\t\t\t\t\t\tuserXOffset = userDistance * Math.sin(angle),\n\t\t\t\t\t\tuserYOffset = userDistance * cosAngle,\n\t\t\t\t\t\tstartPointX = startPointX + userXOffset,\n\t\t\t\t\t\tstartPointY = startPointY - userYOffset,\n\t\t\t\t\t\tendPointX = endPointX + userXOffset,\n\t\t\t\t\t\tendPointY = endPointY - userYOffset,\n\t\t\t\t\t\tshiftedAngle = Math.PI / 2 - angle;\n\t\t\t\t\tif (angle > 0) {\n\t\t\t\t\t\tvar globalGradientStartDistance = originLineIntersection * Math.sin(shiftedAngle),\n\t\t\t\t\t\t\tglobalGradientStartOffsetX = -globalGradientStartDistance * Math.cos(shiftedAngle),\n\t\t\t\t\t\t\tglobalGradientStartOffsetY = globalGradientStartDistance * Math.sin(shiftedAngle);\n\t\t\t\t\t\tuserGradientStart = Math.sqrt(Math.pow(startPointX - globalGradientStartOffsetX,2) + Math.pow(startPointY - globalGradientStartOffsetY,2));\n\t\t\t\t\t\tuserGradientEnd = Math.sqrt(Math.pow(endPointX - globalGradientStartOffsetX,2) + Math.pow(endPointY - globalGradientStartOffsetY,2));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar globalGradientStartDistance = (this._measuredHeight - originLineIntersection) * Math.sin(shiftedAngle),\n\t\t\t\t\t\t\tglobalGradientStartOffsetX = -globalGradientStartDistance * Math.cos(shiftedAngle),\n\t\t\t\t\t\t\tglobalGradientStartOffsetY = this._measuredHeight - globalGradientStartDistance * Math.sin(shiftedAngle);\n\t\t\t\t\t\tuserGradientStart = Math.sqrt(Math.pow(startPointX - globalGradientStartOffsetX,2) + Math.pow(startPointY - globalGradientStartOffsetY,2));\n\t\t\t\t\t\tuserGradientEnd = Math.sqrt(Math.pow(endPointX - globalGradientStartOffsetX,2) + Math.pow(endPointY - globalGradientStartOffsetY,2));\n\t\t\t\t\t}\n\n\t\t\t\t\t// Set the angle info for the gradient\n\t\t\t\t\tangle = mirrorGradient ? angle + Math.PI : angle;\n\t\t\t\t\tcssVal += Math.round((360 * (2 * Math.PI - angle) / (2 * Math.PI))) + 'deg';\n\t\t\t\t}\n\n\t\t\t\t// Calculate the color stops\n\t\t\t\tfor (var i = 0; i < numColors; i++) {\n\t\t\t\t\tvar color = colors[i];\n\t\t\t\t\tif (is(color,'String')) {\n\t\t\t\t\t\tcolor = { color: color };\n\t\t\t\t\t}\n\t\t\t\t\tif (!is(color.offset,'Number')) {\n\t\t\t\t\t\tcolor.offset = i / (numColors - 1);\n\t\t\t\t\t}\n\t\t\t\t\tcssVal += ',' + color.color + ' ' + Math.round(computeSize(100 * color.offset + '%', userGradientEnd - userGradientStart) + userGradientStart) + pixelUnits;\n\t\t\t\t}\n\n\t\t\t} else if (type === 'radial') {\n\n\t\t\t\t// Convert radial specific values to absolute\n\t\t\t\tvar radiusTotalLength = Math.min(this._measuredWidth,this._measuredHeight),\n\t\t\t\t\tstartRadius = computeSize(backgroundGradient.startRadius, radiusTotalLength),\n\t\t\t\t\tendRadius = computeSize(backgroundGradient.endRadius, radiusTotalLength);\n\n\t\t\t\tvar colorList = [],\n\t\t\t\t\tmirrorGradient = false;\n\t\t\t\tif (startRadius > endRadius) {\n\t\t\t\t\tvar temp = startRadius;\n\t\t\t\t\tstartRadius = endRadius;\n\t\t\t\t\tendRadius = temp;\n\t\t\t\t\tmirrorGradient = true;\n\n\t\t\t\t\tfor (var i = 0; i <= (numColors - 2) / 2; i++) {\n\t\t\t\t\t\tvar mirroredPosition = numColors - i - 1;\n\t\t\t\t\t\tcolorList[i] = colors[mirroredPosition];\n\t\t\t\t\t\tcolorList[mirroredPosition] = colors[i];\n\t\t\t\t\t}\n\t\t\t\t\tif (numColors % 2 === 1) {\n\t\t\t\t\t\tvar middleIndex = Math.floor(numColors / 2);\n\t\t\t\t\t\tcolorList[middleIndex] = colors[middleIndex];\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tfor (var i = 0; i < numColors; i++) {\n\t\t\t\t\t\tcolorList[i] = colors[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcssVal += startPointX + pixelUnits + ' ' + startPointY + pixelUnits;\n\n\t\t\t\t// Calculate the color stops\n\t\t\t\tfor (var i = 0; i < numColors; i++) {\n\t\t\t\t\tvar color = colorList[i];\n\t\t\t\t\tif (is(color,'String')) {\n\t\t\t\t\t\tcolor = { color: color };\n\t\t\t\t\t}\n\t\t\t\t\tvar offset;\n\t\t\t\t\tif (!is(color.offset,'Number')) {\n\t\t\t\t\t\toffset = i / (numColors - 1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\toffset = mirrorGradient ? numColors % 2 === 1 && i === Math.floor(numColors / 2) ? color.offset : 1 - color.offset : color.offset;\n\t\t\t\t\t}\n\t\t\t\t\tcssVal += ',' + color.color + ' ' + Math.round(computeSize(100 * offset + '%', endRadius - startRadius) + startRadius) + pixelUnits;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\trequire.config.vendorPrefixes.css.forEach(function(vendorPrefix) {\n\t\t\t\tsetStyle(this.domNode, 'backgroundImage', vendorPrefix + cssVal + ')');\n\t\t\t}, this);\n\t\t},\n\n\t\t_defaultBackgroundColor: void 0,\n\n\t\t_defaultBackgroundImage: void 0,\n\n\t\t_defaultBackgroundDisabledColor: void 0,\n\n\t\t_defaultBackgroundDisabledImage: void 0,\n\n\t\t_defaultBackgroundFocusedColor: void 0,\n\n\t\t_defaultBackgroundFocusedImage: void 0,\n\n\t\t_defaultBackgroundSelectedColor: void 0,\n\n\t\t_defaultBackgroundSelectedImage: void 0,\n\n\t\t_borderLeftWidth: 0,\n\n\t\t_borderRightWidth: 0,\n\n\t\t_borderTopWidth: 0,\n\n\t\t_borderBottomWidth: 0,\n\n\t\t_getBorderFromCSS: function() {\n\t\t\tsetTimeout(lang.hitch(this, function () {\n\t\t\t\tvar computedStyle = global.getComputedStyle(this.domNode),\n\t\t\t\t\tleft = Math.round(parseFloat(computedStyle['border-left-width'])),\n\t\t\t\t\tright = Math.round(parseFloat(computedStyle['border-right-width'])),\n\t\t\t\t\ttop = Math.round(parseFloat(computedStyle['border-top-width'])),\n\t\t\t\t\tbottom = Math.round(parseFloat(computedStyle['border-bottom-width']));\n\n\t\t\t\tif (!(isNaN(left) || isNaN(right) || isNaN(top) || isNaN(bottom))) {\n\t\t\t\t\t\tif (left === right && left === top && left === bottom) {\n\t\t\t\t\t\t\tthis.borderWidth = left;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.borderWidth = [left, right, top, bottom];\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}), 1);\n\t\t},\n\n\t\t_doBackground: function(evt) {\n\t\t\tif (!this.backgroundGradient) {\n\t\t\t\tevt = evt || {};\n\t\t\t\tvar m = (evt.type || '').match(/mouse(over|out)/),\n\t\t\t\t\tbi = this.backgroundImage || this._defaultBackgroundImage || 'none',\n\t\t\t\t\tbc = this.backgroundColor || this._defaultBackgroundColor,\n\t\t\t\t\trepeat = this.backgroundRepeat,\n\t\t\t\t\tnodeStyle = this.domNode.style,\n\t\t\t\t\ttmp;\n\n\t\t\t\tif (this._touching) {\n\t\t\t\t\tbc = this.backgroundSelectedColor || this._defaultBackgroundSelectedColor || bc;\n\t\t\t\t\tbi = this.backgroundSelectedImage || this._defaultBackgroundSelectedImage || bi;\n\t\t\t\t}\n\n\t\t\t\tm && (this._over = m[1] === 'over');\n\t\t\t\tif (!this._touching && this.focusable && this._over) {\n\t\t\t\t\tbc = this.backgroundFocusedColor || this._defaultBackgroundFocusedColor || bc;\n\t\t\t\t\tbi = this.backgroundFocusedImage || this._defaultBackgroundFocusedImage || bi;\n\t\t\t\t}\n\n\t\t\t\tif (!this.enabled) {\n\t\t\t\t\tbc = this.backgroundDisabledColor || this._defaultBackgroundDisabledColor || bc;\n\t\t\t\t\tbi = this.backgroundDisabledImage || this._defaultBackgroundDisabledImage || bi;\n\t\t\t\t}\n\n\t\t\t\tbc = bc || (bi && bi !== 'none' ? 'transparent' : '');\n\t\t\t\tnodeStyle.backgroundColor.toLowerCase() !== bc.toLowerCase() && (nodeStyle.backgroundColor = bc);\n\n\t\t\t\tbi != 'none' && (bi = style.url(bi));\n\t\t\t\tnodeStyle.backgroundImage.replace(/'|\"/g, '').toLowerCase() !== bi.toLowerCase() && (nodeStyle.backgroundImage = (bi == 'none' ? '' : bi));\n\n\t\t\t\tif (bi) {\n\t\t\t\t\ttmp = repeat ? 'repeat' : 'no-repeat';\n\t\t\t\t\tnodeStyle.backgroundRepeat !== tmp && (nodeStyle.backgroundRepeat = tmp);\n\t\t\t\t\ttmp = repeat ? 'auto' : '100% 100%';\n\t\t\t\t\tnodeStyle.backgroundSize.replace(/(100%) 100%/, '$1') !== tmp && (nodeStyle.backgroundSize = tmp);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_setFocusNode: function(node) {\n\t\t\tvar f = this._focus = this._focus || {};\n\n\t\t\tif (f.node !== node) {\n\t\t\t\tif (f.node) {\n\t\t\t\t\tevent.off(f.evts);\n\t\t\t\t\tevent.off(f.evtsMore);\n\t\t\t\t}\n\t\t\t\tf.node = node;\n\t\t\t\tf.evts = [\n\t\t\t\t\ton(node, 'focus', this, '_doBackground'),\n\t\t\t\t\ton(node, 'blur', this, '_doBackground')\n\t\t\t\t];\n\t\t\t}\n\n\t\t\treturn node;\n\t\t},\n\n\t\tshow: function() {\n\t\t\tthis.visible = true;\n\t\t},\n\n\t\thide: function() {\n\t\t\tthis.visible = false;\n\t\t},\n\n\t\tanimate: function(anim, callback) {\n\t\t\treturn this._isAttachedToActiveWin() && Animation._play(this, anim && anim.declaredClass === 'Ti.UI.Animation' ? anim : new Animation(anim)).then(callback);\n\t\t},\n\n\t\t_setTouchEnabled: function(value) {\n\t\t\tvar children = this._children,\n\t\t\t\tchild,\n\t\t\t\ti = 0,\n\t\t\t\tlen = children.length;\n\t\t\tsetStyle(this.domNode, 'pointerEvents', value ? 'auto' : 'none');\n\t\t\tfor (; i < len; i++) {\n\t\t\t\tchild = children[i];\n\t\t\t\tchild._setTouchEnabled(value && child.touchEnabled);\n\t\t\t}\n\t\t},\n\n\t\t_measuredLeft: 0,\n\n\t\t_measuredTop: 0,\n\n\t\t_measuredWidth: 0,\n\n\t\t_measuredHeight: 0,\n\n\t\t_measuredSandboxWidth: 0,\n\n\t\t_measuredSandboxHeight: 0,\n\n\t\tconstants: {\n\t\t\tsize: {\n\t\t\t\tget: function() {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tx: 0,\n\t\t\t\t\t\ty: 0,\n\t\t\t\t\t\twidth: this._measuredWidth,\n\t\t\t\t\t\theight: this._measuredHeight\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t},\n\t\t\trect: {\n\t\t\t\tget: function() {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tx: this._measuredLeft,\n\t\t\t\t\t\ty: this._measuredTop,\n\t\t\t\t\t\twidth: this._measuredWidth,\n\t\t\t\t\t\theight: this._measuredHeight\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t},\n\t\t\tparent: function() {\n\t\t\t\treturn this._parent;\n\t\t\t}\n\t\t},\n\n\t\tproperties: {\n\t\t\tbackgroundColor: postDoBackground,\n\n\t\t\tbackgroundDisabledColor: postDoBackground,\n\n\t\t\tbackgroundDisabledImage: postDoBackground,\n\n\t\t\tbackgroundFocusedColor: postDoBackground,\n\n\t\t\tbackgroundFocusedImage: postDoBackground,\n\n\t\t\tbackgroundGradient: {\n\t\t\t\tset: function(value, oldValue) {\n\n\t\t\t\t\t// Type and colors are required\n\t\t\t\t\tif (!is(value.type,'String') || !is(value.colors,'Array') || value.colors.length < 2) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Vet the type and assign default values\n\t\t\t\t\tvar type = value.type,\n\t\t\t\t\t\tstartPoint = value.startPoint,\n\t\t\t\t\t\tendPoint = value.endPoint;\n\t\t\t\t\tif (type === 'linear') {\n\t\t\t\t\t\tif (!startPoint || !('x' in startPoint) || !('y' in startPoint)) {\n\t\t\t\t\t\t\tvalue.startPoint = {\n\t\t\t\t\t\t\t\tx: '0%',\n\t\t\t\t\t\t\t\ty: '50%'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!endPoint || !('x' in endPoint) || !('y' in endPoint)) {\n\t\t\t\t\t\t\tvalue.endPoint = {\n\t\t\t\t\t\t\t\tx: '100%',\n\t\t\t\t\t\t\t\ty: '50%'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (type === 'radial') {\n\t\t\t\t\t\tif (!startPoint || !('x' in startPoint) || !('y' in startPoint)) {\n\t\t\t\t\t\t\tvalue.startPoint = {\n\t\t\t\t\t\t\t\tx: '50%',\n\t\t\t\t\t\t\t\ty: '50%'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t},\n\t\t\t\tpost: function() {\n\t\t\t\t\tthis.backgroundGradient && this._computeGradient();\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tbackgroundImage: postDoBackground,\n\n\t\t\tbackgroundRepeat: postDoBackground,\n\n\t\t\tbackgroundSelectedColor: postDoBackground,\n\n\t\t\tbackgroundSelectedImage: postDoBackground,\n\n\t\t\tborderColor: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\tsetStyle(this.domNode, 'borderColor', value);\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tborderRadius: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\tsetStyle(this.domNode, 'borderRadius', unitize(value));\n\t\t\t\t\treturn value;\n\t\t\t\t},\n\t\t\t\tvalue: 0\n\t\t\t},\n\n\t\t\tborderWidth: {\n\t\t\t\tset: function(value, oldValue) {\n\n\t\t\t\t\tif (is(value,'Array')) {\n\t\t\t\t\t\tif (value.length !== 4) {\n\t\t\t\t\t\t\treturn oldValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsetStyle(this.domNode, {\n\t\t\t\t\t\t\tborderLeftWidth: (this._borderLeftWidth = value[0]) + pixelUnits,\n\t\t\t\t\t\t\tborderRightWidth: (this._borderRightWidth = value[1]) + pixelUnits,\n\t\t\t\t\t\t\tborderTopWidth: (this._borderTopWidth = value[2]) + pixelUnits,\n\t\t\t\t\t\t\tborderBottomWidth: (this._borderBottomWidth = value[3]) + pixelUnits\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis._borderSet = true;\n\t\t\t\t\t} else if(isNaN(value)) {\n\t\t\t\t\t\treturn oldValue;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetStyle(this.domNode, 'borderWidth', value + pixelUnits);\n\t\t\t\t\t\tthis._borderLeftWidth = this._borderRightWidth = this._borderTopWidth = this._borderBottomWidth = value;\n\t\t\t\t\t\tthis._borderSet = true;\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t},\n\t\t\t\tpost: postLayoutPropFunction,\n\t\t\t\tvalue: 0\n\t\t\t},\n\n\t\t\tbottom: postLayoutProp,\n\n\t\t\tbubbleParent: true,\n\n\t\t\tcenter: postLayoutProp,\n\n\t\t\tcolor: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\treturn setStyle(this.domNode, 'color', value);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tenabled: {\n\t\t\t\tpost: '_doBackground',\n\t\t\t\tset: function(value) {\n\t\t\t\t\tthis._focus.node.disabled = !value;\n\t\t\t\t\treturn value;\n\t\t\t\t},\n\t\t\t\tvalue: true\n\t\t\t},\n\n\t\t\tfocusable: {\n\t\t\t\tvalue: false,\n\t\t\t\tset: function(value) {\n\t\t\t\t\tdom.attr[value ? 'set' : 'remove'](this._focus.node, 'tabindex', 0);\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t_minHeight: postLayoutProp,\n\n\t\t\t_maxHeight: postLayoutProp,\n\n\t\t\theight: postLayoutProp,\n\n\t\t\tleft: postLayoutProp,\n\n\t\t\topacity: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\treturn setStyle(this.domNode, 'opacity', value);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tvisible: {\n\t\t\t\tset: function(value, orig) {\n\t\t\t\t\tvalue = !!value;\n\t\t\t\t\tif (value !== orig) {\n\t\t\t\t\t\t!value && (this._lastDisplay = style.get(this.domNode, 'display'));\n\t\t\t\t\t\tsetStyle(this.domNode, 'display', !!value ? this._lastDisplay || '' : 'none');\n\t\t\t\t\t\tvalue && orig !== void 0 && this._triggerLayout();\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tright: postLayoutProp,\n\n\t\t\ttouchEnabled: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\tthis._setTouchEnabled(value);\n\t\t\t\t\treturn value;\n\t\t\t\t},\n\t\t\t\tvalue: true\n\t\t\t},\n\n\t\t\ttop: postLayoutProp,\n\n\t\t\ttransform: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\tsetStyle(this.domNode, 'transform', value && value.toCSS());\n\t\t\t\t\treturn this._curTransform = value;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t_minWidth: postLayoutProp,\n\n\t\t\t_maxWidth: postLayoutProp,\n\n\t\t\twidth: postLayoutProp,\n\n\t\t\tzIndex: postLayoutProp\n\t\t}\n\n\t});\n\n});\n},\n\"Ti/_/css\":function(){\n/* /titanium/Ti/_/css.js */\n\ndefine([\"Ti/_\", \"Ti/_/string\"], function(_, string) {\n\tfunction processClass(node, cls, adding) {\n\t\tvar i = 0, p,\n\t\t\tcn = \" \" + node.className + \" \",\n\t\t\tcls = require.is(cls, \"Array\") ? cls : cls.split(\" \");\n\n\t\tfor (; i < cls.length; i++) {\n\t\t\tp = cn.indexOf(\" \" + cls[i] + \" \");\n\t\t\tif (adding && p === -1) {\n\t\t\t\tcn += cls[i] + \" \";\n\t\t\t} else if (!adding && p !== -1) {\n\t\t\t\tcn = cn.substring(0, p) + cn.substring(p + cls[i].length + 1);\n\t\t\t}\n\t\t}\n\n\t\tnode.className = string.trim(cn);\n\t}\n\n\treturn _.css = {\n\t\tadd: function(node, cls) {\n\t\t\tprocessClass(node, cls, 1);\n\t\t},\n\n\t\tremove: function(node, cls) {\n\t\t\tprocessClass(node, cls);\n\t\t},\n\n\t\tclean: function(cls) {\n\t\t\treturn cls.replace(/[^A-Za-z0-9\\-]/g, \"\");\n\t\t}\n\t};\n});\n},\n\"Ti/UI/Animation\":function(){\n/* /titanium/Ti/UI/Animation.js */\n\n/*global define, window, requestAnimationFrame*/\ndefine(['Ti/_/declare', 'Ti/_/Evented', 'Ti/_/style', 'Ti/UI'], function(declare, Evented, style, UI) {\n\n\tvar curves = [\n\t\t\tfunction easeInOut(n) {\n\t\t\t\tn *= 2;\n\t\t\t\treturn n < 1 ? Math.pow(n, 2) / 2 : -1 * ((--n) * (n - 2) - 1) / 2;\n\t\t\t},\n\t\t\tfunction easeIn(n) {\n\t\t\t\treturn Math.pow(n, 2);\n\t\t\t},\n\t\t\tfunction easeOut(n) {\n\t\t\t\treturn n * (n - 2) * -1;\n\t\t\t},\n\t\t\tfunction linear(n) {\n\t\t\t\treturn n;\n\t\t\t}\n\t\t],\n\t\tglobal = window,\n\t\tnow = Date.now,\n\t\ton = require.on,\n\t\tlastTime = 0,\n\t\tprefixes = ['ms', 'moz', 'webkit', 'o'],\n\t\ti = prefixes.length,\n\t\tignoreOptions = {\n\t\t\tautoreverse: 1,\n\t\t\tbottom: 1,\n\t\t\tcenter: 1,\n\t\t\tcurve: 1,\n\t\t\tdelay: 1,\n\t\t\tduration: 1,\n\t\t\trepeat: 1,\n\t\t\tright: 1,\n\t\t\tvisible: 1,\n\t\t\tzIndex: 1\n\t\t},\n\t\tcolorOptions = {\n\t\t\tbackgroundColor: 1,\n\t\t\tcolor: 1\n\t\t},\n\t\tpositionOptions = {\n\t\t\theight: 1,\n\t\t\tleft: 1,\n\t\t\topacity: 1,\n\t\t\ttop: 1,\n\t\t\twidth: 1\n\t\t},\n\t\trgbaRegExp = /^rgba?\\(([\\s\\.,0-9]+)\\)/,\n\t\tthreeDRegExp = /3d/,\n\t\ttiMatrixRegExp = /^Ti\\.UI\\.(2|3)DMatrix$/,\n\t\tmatrixRegExp = /matrix(3d)?\\(([^\\)]*)/,\n\t\trotateRegExp = /rotate(3d)?\\(([^\\)]*)/,\n\t\tneedsRender,\n\t\tanimations = {},\n\t\ttransformName = style.discover('transform'),\n\t\tcolors = require(require.config.ti.colorsModule),\n\t\tapi = declare('Ti.UI.Animation', Evented, {\n\t\t\tproperties: {\n\t\t\t\tautoreverse: void 0,\n\t\t\t\tbackgroundColor: void 0,\n\t\t\t\tbottom: void 0,\n\t\t\t\tcenter: void 0,\n\t\t\t\tcolor: void 0,\n\t\t\t\tcurve: void 0,\n\t\t\t\tdelay: void 0,\n\t\t\t\tduration: void 0,\n\t\t\t\theight: void 0,\n\t\t\t\tleft: void 0,\n\t\t\t\topacity: void 0,\n\t\t\t\trepeat: void 0,\n\t\t\t\tright: void 0,\n\t\t\t\ttop: void 0,\n\t\t\t\ttransform: void 0,\n\t\t\t\tvisible: void 0,\n\t\t\t\twidth: void 0,\n\t\t\t\tzIndex: void 0\n\t\t\t}\n\t\t});\n\n\twhile (--i >= 0 && !global.requestAnimationFrame) {\n\t\tglobal.requestAnimationFrame = global[prefixes[i] + 'RequestAnimationFrame'];\n\t}\n\n\tglobal.requestAnimationFrame || (global.requestAnimationFrame = function(callback) {\n\t\tvar currTime = now(),\n\t\t\ttimeToCall = Math.max(0, 16 - (currTime - lastTime)),\n\t\t\ttimer = window.setTimeout(function() { callback(currTime + timeToCall); }, timeToCall);\n\t\tlastTime = currTime + timeToCall;\n\t\treturn timer;\n\t});\n\n\tfunction pump() {\n\t\tUI._layoutInProgress ? on.once(UI, 'postlayout', function() {\n\t\t\trequestAnimationFrame(render);\n\t\t}) : requestAnimationFrame(render);\n\t}\n\n\tfunction render() {\n\t\tvar wid,\n\t\t\tanis,\n\t\t\tani,\n\t\t\telem,\n\t\t\ti,\n\t\t\tj,\n\t\t\tlen,\n\t\t\tfrom,\n\t\t\tto,\n\t\t\tts = now(),\n\t\t\tpct,\n\t\t\tprogress,\n\t\t\tprop,\n\t\t\tval,\n\t\t\tvals;\n\n\t\tneedsRender = 0;\n\n\t\tfor (wid in animations) {\n\t\t\tfor (anis = animations[wid], i = 0; i < anis.length; i++) {\n\t\t\t\tani = anis[i];\n\t\t\t\tif (!ani.paused) {\n\t\t\t\t\tpct = ani.duration ? Math.min(1, (ts - ani.ts) / ani.duration) : 1;\n\t\t\t\t\tprogress = curves[ani.curve](ani.forward ? pct : 1 - pct);\n\t\t\t\t\telem = ani.elem;\n\n\t\t\t\t\tif (elem._isAttachedToActiveWin()) {\n\t\t\t\t\t\tfor (prop in ani.props) {\n\t\t\t\t\t\t\tvals = ani.props[prop];\n\t\t\t\t\t\t\tfrom = vals[0];\n\t\t\t\t\t\t\tto = vals[1];\n\n\t\t\t\t\t\t\tpct === 1 && (val = ani.forward ? to : from);\n\n\t\t\t\t\t\t\tif (prop === 'transform') {\n\t\t\t\t\t\t\t\tif (pct !== 1) {\n\t\t\t\t\t\t\t\t\tval = [];\n\t\t\t\t\t\t\t\t\tlen = from.length;\n\t\t\t\t\t\t\t\t\tfor (j = 0; j < len; j++) {\n\t\t\t\t\t\t\t\t\t\t// for 3d matrices, indices 12-14 are normally [0, 0, 0, 1], but since they are\n\t\t\t\t\t\t\t\t\t\t// unused, we use them to store the rotation vector which we want to skip\n\t\t\t\t\t\t\t\t\t\tif (j < 12 || j > 14) {\n\t\t\t\t\t\t\t\t\t\t\tval[j] = from[j] + ((to[j] - from[j]) * progress);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tneedsRender = 1;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (val.length === 16) {\n\t\t\t\t\t\t\t\t\tj = val.splice(12);\n\t\t\t\t\t\t\t\t\tval = 'matrix3d(' + val.join(',') + ') rotate3d(' + j.join(',') + 'deg)';\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tj = val.pop();\n\t\t\t\t\t\t\t\t\tval = 'matrix(' + val.join(',') + ') rotate(' + j + 'deg)';\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tprop = transformName;\n\n\t\t\t\t\t\t\t} else if (colorOptions[prop]) {\n\t\t\t\t\t\t\t\tif (pct !== 1) {\n\t\t\t\t\t\t\t\t\tval = [];\n\t\t\t\t\t\t\t\t\tfor (j = 0; j < 4; j++) {\n\t\t\t\t\t\t\t\t\t\tval[j] = Math.floor(from[j] + ((to[j] - from[j]) * progress));\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tneedsRender = 1;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tval = 'rgba(' + val.join(',') + ')';\n\n\t\t\t\t\t\t\t} else if (positionOptions[prop]) {\n\t\t\t\t\t\t\t\tif (pct !== 1) {\n\t\t\t\t\t\t\t\t\tval = from + ((to - from) * progress);\n\t\t\t\t\t\t\t\t\tneedsRender = 1;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tval = prop === 'opacity' ? val : val + 'px';\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tani.prev !== val && (elem.domNode.style[prop] = val);\n\t\t\t\t\t\t\tani.prev = val;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (pct === 1) {\n\t\t\t\t\t\tani.ts = ts;\n\t\t\t\t\t\tif (ani.duration && ani.reverse && ani.forward) {\n\t\t\t\t\t\t\tani.forward = 0;\n\t\t\t\t\t\t\tneedsRender = 1;\n\t\t\t\t\t\t} else if (ani.repeat-- > 0) {\n\t\t\t\t\t\t\tneedsRender = ani.forward = 1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// we need to remove this animation before resolving\n\t\t\t\t\t\t\tanis.splice(i--, 1);\n\t\t\t\t\t\t\tani.promise.resolve();\n\t\t\t\t\t\t\tif (!anis.length && !animations[wid].activeCount) {\n\t\t\t\t\t\t\t\tdelete animations[wid];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tneedsRender && pump();\n\t}\n\n\tfunction parseColor(color) {\n\t\tvar i, bits, mask, result;\n\n\t\tcolor = color.trim().toLowerCase();\n\n\t\tif (color.charAt(0) === '#') {\n\t\t\t// hex\n\t\t\tbits = color.length == 4 ? 4 : 8;\n\t\t\tif (!isNaN(color = Number('0x' + color.substring(1)))) {\n\t\t\t\tmask = (1 << bits) - 1; // 15 or 255\n\t\t\t\tresult = bits === 4 ? 17 : 1; // multiplier\n\t\t\t\tresult = [((color >> bits * 2) & mask) * result, ((color >> bits) & mask) * result, (color & mask) * result, 1];\n\t\t\t}\n\t\t} else if (i = color.match(rgbaRegExp)) {\n\t\t\t// rgb, rbga\n\t\t\tresult = i[1].split(/\\s*,\\s*/);\n\t\t\tfor (i = 0; i < 3;) {\n\t\t\t\tresult[i++] |= 0;\n\t\t\t}\n\t\t} else if (colors) {\n\t\t\t// named color\n\t\t\tresult = colors[color];\n\t\t}\n\n\t\tif (result) {\n\t\t\tresult[3] = isNaN(i = parseFloat(result[3])) ? 1 : Math.min(Math.max(i, 0), 1);\n\t\t\treturn result;\n\t\t}\n\t}\n\n\tfunction parse3dMatrix(matrix, rotate, to, toType) {\n\t\t// this function parses an existing 2d or 3d tranform into a 3d matrix\n\n\t\tvar is3d,\n\t\t\tparams,\n\t\t\tlen,\n\t\t\ti,\n\t\t\tfrom = [1, 0, 0, 0,\n\t\t\t        0, 1, 0, 0,\n\t\t\t        0, 0, 1, 0,\n\t\t\t        0, 0, 0, 0]; // m11, m12, m13, m14, m21, m22, m23, m24, m31, m32, m33, m34, rx, ry, rz, r\n\n\t\tif (matrix) {\n\t\t\tis3d = matrix[1];\n\t\t\tparams = matrix[2].split(',');\n\t\t\tlen = params.length;\n\n\t\t\tif (is3d && len === 16) {\n\t\t\t\tfor (i = 0; i < 12; i++) {\n\t\t\t\t\tfrom[i] = params[i];\n\t\t\t\t}\n\t\t\t} else if (!is3d && len === 6) {\n\t\t\t\tfrom[0] = params[0];\n\t\t\t\tfrom[1] = params[1];\n\t\t\t\tfrom[4] = params[2];\n\t\t\t\tfrom[5] = params[3];\n\t\t\t\tfrom[3] = params[4];\n\t\t\t\tfrom[7] = params[5];\n\t\t\t}\n\t\t}\n\n\t\tif (rotate) {\n\t\t\tis3d = rotate[1];\n\t\t\tparams = rotate[2].split(',');\n\t\t\tlen = params.length;\n\n\t\t\tif (is3d && len === 4) {\n\t\t\t\tfor (i = 0; i < 4; i++) {\n\t\t\t\t\tfrom[12 + i] = params[i];\n\t\t\t\t}\n\t\t\t} else if (!is3d && len === 1) {\n\t\t\t\tfrom[14] = 1;\n\t\t\t\tfrom[15] = params[0];\n\t\t\t}\n\t\t}\n\n\t\tif (toType === 2) {\n\t\t\t// promote 2dmatrix \"to\" into a 3D array\n\t\t\tto = [to.a, to.b, 0, to.tx,\n\t\t\t      to.c, to.d, 0, to.ty,\n\t\t\t      0, 0, 1, 0,\n\t\t\t      0, 0, 1, to.rotation]; // m11, m12, m13, m14, m21, m22, m23, m24, m31, m32, m33, m34, rx, ry, rz, r\n\t\t} else {\n\t\t\t// translate \"to\" into a 3D array\n\t\t\tto = [to.m11, to.m12, to.m13, to.m14,\n\t\t\t      to.m21, to.m22, to.m23, to.m24,\n\t\t\t      to.m31, to.m32, to.m33, to.m34,\n\t\t\t      to.rotationX, to.rotationY, to.rotationZ, to.rotation];\n\t\t}\n\n\t\treturn [from, to];\n\t}\n\n\tapi._play = function animationPlay(elem, anim) {\n\t\tvar promise = new require.Promise,\n\t\t\twid = elem.widgetId,\n\t\t\tid = Math.random() * 1e9 | 0,\n\t\t\tanis = animations[wid] = (animations[wid] || []),\n\t\t\tproperties = anim.__values__.properties,\n\t\t\tdelay = properties.delay | 0,\n\t\t\tvisible = !!properties.visible,\n\t\t\tzIndex = properties.zIndex;\n\n\t\tanis.activeCount = ~~anis.activeCount + 1;\n\n\t\tfunction go() {\n\n\t\t\tif (!elem._alive || !elem._isAttachedToActiveWin()) {\n\t\t\t\tanis.activeCount--;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar i,\n\t\t\t\tlen,\n\t\t\t\tprops = {},\n\t\t\t\tprop,\n\t\t\t\tfrom,\n\t\t\t\ttoType,\n\t\t\t\tto,\n\t\t\t\ttmp,\n\t\t\t\tparams,\n\t\t\t\tmatrix,\n\t\t\t\trotate,\n\t\t\t\tlayoutTo = elem._parent._layout.calculateAnimation(elem, anim);\n\n\t\t\t// get all animatable properties that are defined\n\t\t\tfor (prop in properties) {\n\t\t\t\tto = properties[prop];\n\t\t\t\tif (!ignoreOptions[prop] && to !== void 0) {\n\t\t\t\t\t// see if we are already animating this element's property\n\t\t\t\t\tfor (i = 0; i < anis.length; i++) {\n\t\t\t\t\t\tdelete anis[i].props[prop];\n\t\t\t\t\t\tif (require.isEmpty(anis[i].props)) {\n\t\t\t\t\t\t\tanis.splice(i--, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tfrom = style.get(elem.domNode, prop);\n\n\t\t\t\t\tif (colorOptions[prop]) {\n\t\t\t\t\t\tfrom = parseColor(from);\n\t\t\t\t\t\tto = parseColor(to);\n\t\t\t\t\t\t(from < to || to < from) && (props[prop] = [from, to]);\n\t\t\t\t\t} else if (positionOptions[prop]) {\n\t\t\t\t\t\tisNaN(from = parseFloat(from)) && prop === 'opacity' && (from = 1);\n\t\t\t\t\t\tto = prop in layoutTo ? layoutTo[prop] : to;\n\t\t\t\t\t\tfrom !== to && (props[prop] = [from, to]);\n\t\t\t\t\t} else if (prop === 'transform' && (toType = to.declaredClass.match(tiMatrixRegExp))) {\n\t\t\t\t\t\ttoType = toType[1] | 0;\n\n\t\t\t\t\t\tmatrix = from.match(matrixRegExp);\n\t\t\t\t\t\trotate = from.match(rotateRegExp);\n\n\t\t\t\t\t\tif (threeDRegExp.test(from) || toType === 3) {\n\t\t\t\t\t\t\ttmp = parse3dMatrix(matrix, rotate, to, toType);\n\t\t\t\t\t\t\tfrom = tmp[0];\n\t\t\t\t\t\t\tto = tmp[1];\n\t\t\t\t\t\t} else if (toType === 2) {\n\t\t\t\t\t\t\t// parse \"from\" into 2D matrix\n\t\t\t\t\t\t\tfrom = [1, 0, 0, 1, 0, 0, 0]; // a, b, c, d, tx, ty, r\n\n\t\t\t\t\t\t\tif (matrix) {\n\t\t\t\t\t\t\t\tparams = matrix[2].split(',');\n\t\t\t\t\t\t\t\tlen = Math.min(6, params.length);\n\t\t\t\t\t\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\t\t\t\t\t\tfrom[i] = parseFloat(params[i]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (rotate) {\n\t\t\t\t\t\t\t\tparams = rotate[2].split(',');\n\t\t\t\t\t\t\t\tparams.length && (from[6] = parseFloat(params[0]));\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// translate \"to\" into a 2D array\n\t\t\t\t\t\t\tto = [to.a, to.b, to.c, to.d, to.tx, to.ty, to.rotation];\n\t\t\t\t\t\t\ttmp = [from, to];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t(from < to || to < from) && (props[prop] = tmp);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tanis.push({\n\t\t\t\tid: id,\n\t\t\t\telem: elem,\n\t\t\t\tpromise: promise,\n\t\t\t\tprops: props,\n\t\t\t\tts: now(),\n\t\t\t\treverse: !!properties.autoreverse,\n\t\t\t\tforward: 1,\n\t\t\t\tcurve: Math.max(0, Math.min(curves.length - 1, properties.curve | 0)),\n\t\t\t\tduration: properties.duration | 0,\n\t\t\t\trepeat: !!properties.repeat\n\t\t\t});\n\n\t\t\tanim.fireEvent('start');\n\n\t\t\tif (!needsRender) {\n\t\t\t\tneedsRender = 1;\n\t\t\t\tpump();\n\t\t\t}\n\t\t}\n\n\t\tsetTimeout(go, delay || 0);\n\n\t\tfunction findAnimation() {\n\t\t\tvar i = 0,\n\t\t\t\tlen = anis && anis.length;\n\t\t\tfor (; i < len; i++) {\n\t\t\t\tif (anis[i].id === id) {\n\t\t\t\t\treturn anis[i];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tpromise.source = elem;\n\n\t\tpromise.animation = anim;\n\n\t\tpromise.pause = function() {\n\t\t\tvar a = findAnimation();\n\t\t\ta = !!a && (a.paused || (a.paused = now()));\n\t\t\tanim.fireEvent('pause');\n\t\t\treturn a;\n\t\t};\n\n\t\tpromise.resume = function() {\n\t\t\tvar a = findAnimation();\n\n\t\t\tif (a) {\n\t\t\t\ta.paused && (a.ts += (now() - a.paused));\n\n\t\t\t\t/*\n\t\t\t\tTODO: if the layout changes while an animation is paused,\n\t\t\t\tthen we need to recalculate the layout prior to resuming.\n\n\t\t\t\telem._parent._layout.calculateAnimation(elem, anim)\n\t\t\t\tfor (prop in a.props) {\n\t\t\t\t\t//\n\t\t\t\t}\n\t\t\t\t*/\n\n\t\t\t\tif (!needsRender) {\n\t\t\t\t\tneedsRender = 1;\n\t\t\t\t\tpump();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ta = !!a && !(a.paused = 0);\n\n\t\t\tanim.fireEvent('resume');\n\n\t\t\treturn a;\n\t\t};\n\n\t\tpromise.cancel = function(reset) {\n\t\t\tvar ani,\n\t\t\t\tprop,\n\t\t\t\tnode,\n\t\t\t\ti = 0,\n\t\t\t\tj = anis && anis.length,\n\t\t\t\tresult = false;\n\n\t\t\tfor (; i < j; i++) {\n\t\t\t\tif (anis[i].id === id) {\n\t\t\t\t\tani = anis[i];\n\n\t\t\t\t\tif (reset) {\n\t\t\t\t\t\tnode = ani.elem.domNode;\n\t\t\t\t\t\tfor (prop in ani.props) {\n\t\t\t\t\t\t\tj = ani.props[prop][0];\n\t\t\t\t\t\t\tstyle.set(node, prop, positionOptions[prop] && prop !== 'opacity' ? j + 'px' : j);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tanis.splice(i, 1);\n\t\t\t\t\tif (!anis.length && !anis.activeCount) {\n\t\t\t\t\t\tdelete animations[wid];\n\t\t\t\t\t}\n\n\t\t\t\t\tresult = true;\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tanis.activeCount--;\n\t\t\tanim.fireEvent('cancel');\n\n\t\t\treturn result;\n\t\t};\n\n\t\treturn promise.then(function() {\n\t\t\tproperties.visible !== void 0 && (elem.visible = visible);\n\t\t\tproperties.zIndex !== void 0 && (elem.zIndex = zIndex);\n\n\t\t\t// TODO: update View.rect here: TIMOB-8930\n\n\t\t\tanis.activeCount--;\n\n\t\t\tanim.fireEvent('complete');\n\t\t});\n\t};\n\n\treturn api;\n\n});\n\n},\n\"Ti/_/Layouts\":function(){\n/* /titanium/Ti/_/Layouts.js */\n\ndefine(\n\t[\"Ti/_/Layouts/Composite\", \"Ti/_/Layouts/Horizontal\", \"Ti/_/Layouts/Vertical\", \"Ti/_/Layouts/ConstrainingHorizontal\", \"Ti/_/Layouts/ConstrainingVertical\"],\n\tfunction(Composite, Horizontal, Vertical, ConstrainingHorizontal, ConstrainingVertical) {\n\n\treturn {\n\t\tComposite: Composite,\n\t\tHorizontal: Horizontal,\n\t\tVertical: Vertical,\n\t\t\n\t\t// Mobile web specific layouts, used for internal controls\n\t\tConstrainingHorizontal: ConstrainingHorizontal,\n\t\tConstrainingVertical: ConstrainingVertical\n\t};\n\n});\n},\n\"Ti/_/Layouts/Composite\":function(){\n/* /titanium/Ti/_/Layouts/Composite.js */\n\n/*global define*/\ndefine(['Ti/_/Layouts/Base', 'Ti/_/declare', 'Ti/UI', 'Ti/_/lang'], function(Base, declare, UI, lang) {\n\n\tvar isDef = lang.isDef,\n\t\tpixelUnits = 'px',\n\t\tround = Math.round;\n\n\treturn declare('Ti._.Layouts.Composite', Base, {\n\n\t\t_doLayout: function(element, width, height, isWidthSize, isHeightSize) {\n\t\t\tvar computedSize = {width: 0, height: 0},\n\t\t\t\tchildren = element._children,\n\t\t\t\tchild,\n\t\t\t\ti = 0,\n\t\t\t\tlayoutCoefficients,\n\t\t\t\twidthLayoutCoefficients, heightLayoutCoefficients, sandboxWidthLayoutCoefficients, sandboxHeightLayoutCoefficients, topLayoutCoefficients, leftLayoutCoefficients,\n\t\t\t\tminWidthLayoutCoefficients, minHeightLayoutCoefficients,\n\t\t\t\tchildSize,\n\t\t\t\tmeasuredWidth, measuredHeight, measuredSandboxHeight, measuredSandboxWidth, measuredLeft, measuredTop,\n\t\t\t\tdeferredLeftCalculations = [],\n\t\t\t\tdeferredTopCalculations = [],\n\t\t\t\tlen = children.length,\n\t\t\t\tmeasureNode = this._measureNode,\n\t\t\t\tstyle;\n\n\t\t\t// Calculate size and position for the children\n\t\t\tfor(i = 0; i < len; i++) {\n\n\t\t\t\tchild = element._children[i];\n\t\t\t\tif (!child._alive || !child.domNode) {\n\t\t\t\t\tthis.handleInvalidState(child,element);\n\t\t\t\t} else {\n\n\t\t\t\t\tif (child._markedForLayout) {\n\t\t\t\t\t\t((child._preLayout && child._preLayout(width, height, isWidthSize, isHeightSize)) || child._needsMeasuring) && measureNode(child, child, child._layoutCoefficients, this);\n\n\t\t\t\t\t\tlayoutCoefficients = child._layoutCoefficients;\n\t\t\t\t\t\twidthLayoutCoefficients = layoutCoefficients.width;\n\t\t\t\t\t\tminWidthLayoutCoefficients = layoutCoefficients.minWidth;\n\t\t\t\t\t\theightLayoutCoefficients = layoutCoefficients.height;\n\t\t\t\t\t\tminHeightLayoutCoefficients = layoutCoefficients.minHeight;\n\t\t\t\t\t\tsandboxWidthLayoutCoefficients = layoutCoefficients.sandboxWidth;\n\t\t\t\t\t\tsandboxHeightLayoutCoefficients = layoutCoefficients.sandboxHeight;\n\t\t\t\t\t\tleftLayoutCoefficients = layoutCoefficients.left;\n\t\t\t\t\t\ttopLayoutCoefficients = layoutCoefficients.top;\n\n\t\t\t\t\t\tmeasuredWidth = widthLayoutCoefficients.x1 * width + widthLayoutCoefficients.x2;\n\t\t\t\t\t\tminWidthLayoutCoefficients.x1 !== void 0 && (measuredWidth = Math.max(measuredWidth,\n\t\t\t\t\t\t\tminWidthLayoutCoefficients.x1 * width + minWidthLayoutCoefficients.x2));\n\n\t\t\t\t\t\tmeasuredHeight = heightLayoutCoefficients.x1 * height + heightLayoutCoefficients.x2;\n\t\t\t\t\t\tminHeightLayoutCoefficients.x1 !== void 0 && (measuredHeight = Math.max(measuredHeight,\n\t\t\t\t\t\t\tminHeightLayoutCoefficients.x1 * height + minHeightLayoutCoefficients.x2));\n\n\t\t\t\t\t\tif (child._getContentSize) {\n\t\t\t\t\t\t\tchildSize = child._getContentSize(measuredWidth, measuredHeight);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tchildSize = child._layout._doLayout(\n\t\t\t\t\t\t\t\tchild,\n\t\t\t\t\t\t\t\tisNaN(measuredWidth) ? width : measuredWidth - child._borderLeftWidth - child._borderRightWidth,\n\t\t\t\t\t\t\t\tisNaN(measuredHeight) ? height : measuredHeight - child._borderTopWidth - child._borderBottomWidth,\n\t\t\t\t\t\t\t\tisNaN(measuredWidth),\n\t\t\t\t\t\t\t\tisNaN(measuredHeight));\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (isNaN(measuredWidth)) {\n\t\t\t\t\t\t\tmeasuredWidth = childSize.width + child._borderLeftWidth + child._borderRightWidth;\n\t\t\t\t\t\t\tminWidthLayoutCoefficients.x1 !== void 0 && (measuredWidth = Math.max(measuredWidth,\n\t\t\t\t\t\t\t\tminWidthLayoutCoefficients.x1 * width + minWidthLayoutCoefficients.x2));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (isNaN(measuredHeight)) {\n\t\t\t\t\t\t\tmeasuredHeight = childSize.height + child._borderTopWidth + child._borderBottomWidth;\n\t\t\t\t\t\t\tminHeightLayoutCoefficients.x1 !== void 0 && (measuredHeight = Math.max(measuredHeight,\n\t\t\t\t\t\t\t\tminHeightLayoutCoefficients.x1 * height + minHeightLayoutCoefficients.x2));\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (isWidthSize && leftLayoutCoefficients.x1 !== 0) {\n\t\t\t\t\t\t\tdeferredLeftCalculations.push(child);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tmeasuredLeft = leftLayoutCoefficients.x1 * width + leftLayoutCoefficients.x2 * measuredWidth + leftLayoutCoefficients.x3;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (isHeightSize && topLayoutCoefficients.x1 !== 0) {\n\t\t\t\t\t\t\tdeferredTopCalculations.push(child);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tmeasuredTop = topLayoutCoefficients.x1 * height + topLayoutCoefficients.x2 * measuredHeight + topLayoutCoefficients.x3;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tchild._measuredSandboxWidth = measuredSandboxWidth = sandboxWidthLayoutCoefficients.x1 * height + sandboxWidthLayoutCoefficients.x2 + measuredWidth + (isNaN(measuredLeft) ? 0 : measuredLeft);\n\t\t\t\t\t\tchild._measuredSandboxHeight = measuredSandboxHeight = sandboxHeightLayoutCoefficients.x1 * height + sandboxHeightLayoutCoefficients.x2 + measuredHeight + (isNaN(measuredTop) ? 0 : measuredTop);\n\n\t\t\t\t\t\tchild._measuredWidth = measuredWidth;\n\t\t\t\t\t\tchild._measuredHeight = measuredHeight;\n\t\t\t\t\t\tchild._measuredLeft = measuredLeft;\n\t\t\t\t\t\tchild._measuredTop = measuredTop;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Update the size of the component\n\t\t\t\t\tchild._measuredSandboxWidth > computedSize.width && (computedSize.width = child._measuredSandboxWidth);\n\t\t\t\t\tchild._measuredSandboxHeight > computedSize.height && (computedSize.height = child._measuredSandboxHeight);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Second pass, if necessary, to determine the left/top values\n\t\t\tlen = deferredLeftCalculations.length;\n\t\t\tfor(i = 0; i < len; i++) {\n\t\t\t\tchild = deferredLeftCalculations[i];\n\t\t\t\tleftLayoutCoefficients = child._layoutCoefficients.left;\n\t\t\t\tsandboxWidthLayoutCoefficients = child._layoutCoefficients.sandboxWidth;\n\t\t\t\tchild._measuredLeft = measuredLeft = leftLayoutCoefficients.x1 * computedSize.width + leftLayoutCoefficients.x2 * measuredWidth + leftLayoutCoefficients.x3;\n\t\t\t\tchild._measuredSandboxWidth = measuredSandboxWidth = sandboxWidthLayoutCoefficients.x1 * height + sandboxWidthLayoutCoefficients.x2 + child._measuredWidth + measuredLeft;\n\n\t\t\t\t// Update the size of the component\n\t\t\t\tmeasuredSandboxWidth = child._measuredSandboxWidth;\n\t\t\t\tmeasuredSandboxWidth > computedSize.width && (computedSize.width = measuredSandboxWidth);\n\t\t\t}\n\t\t\tlen = deferredTopCalculations.length;\n\t\t\tfor(i = 0; i < len; i++) {\n\t\t\t\tchild = deferredTopCalculations[i];\n\t\t\t\ttopLayoutCoefficients = child._layoutCoefficients.top;\n\t\t\t\tsandboxHeightLayoutCoefficients = child._layoutCoefficients.sandboxHeight;\n\t\t\t\tchild._measuredTop = measuredTop = topLayoutCoefficients.x1 * computedSize.height + topLayoutCoefficients.x2 * measuredHeight + topLayoutCoefficients.x3;\n\t\t\t\tchild._measuredSandboxHeight = measuredSandboxHeight = sandboxHeightLayoutCoefficients.x1 * height + sandboxHeightLayoutCoefficients.x2 + child._measuredHeight + measuredTop;\n\n\t\t\t\t// Update the size of the component\n\t\t\t\tmeasuredSandboxHeight = child._measuredSandboxHeight;\n\t\t\t\tmeasuredSandboxHeight > computedSize.height && (computedSize.height = measuredSandboxHeight);\n\t\t\t}\n\n\t\t\t// Position the children\n\t\t\tlen = children.length;\n\t\t\tfor(i = 0; i < len; i++) {\n\t\t\t\tchild = children[i];\n\t\t\t\tif (child._markedForLayout) {\n\t\t\t\t\tUI._elementLayoutCount++;\n\t\t\t\t\tstyle = child.domNode.style;\n\t\t\t\t\tstyle.zIndex = child.zIndex;\n\t\t\t\t\tstyle.left = round(child._measuredLeft) + pixelUnits;\n\t\t\t\t\tstyle.top = round(child._measuredTop) + pixelUnits;\n\t\t\t\t\tstyle.width = round(child._measuredWidth - child._borderLeftWidth - child._borderRightWidth) + pixelUnits;\n\t\t\t\t\tstyle.height = round(child._measuredHeight - child._borderTopWidth - child._borderBottomWidth) + pixelUnits;\n\t\t\t\t\tchild._markedForLayout = false;\n\t\t\t\t\tchild.fireEvent('postlayout');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this._computedSize = computedSize;\n\t\t},\n\n\t\t_getWidth: function(node, width) {\n\n\t\t\t// Get the width or default width, depending on which one is needed\n\t\t\t!isDef(width) && (isDef(node.left) + isDef(node.center && node.center.x) + isDef(node.right) < 2) && (width = node._defaultWidth);\n\n\t\t\t// Check if the width is INHERIT, and if so fetch the inherited width\n\t\t\tif (width === UI.INHERIT) {\n\t\t\t\tif (node._parent._parent) {\n\t\t\t\t\treturn node._parent._parent._layout._getWidth(node._parent, node._parent.width) === UI.SIZE ? UI.SIZE : UI.FILL;\n\t\t\t\t}\n\t\t\t\t// This is the root level content container, which we know has a width of FILL\n\t\t\t\treturn UI.FILL;\n\t\t\t}\n\t\t\treturn width;\n\t\t},\n\n\t\t_getHeight: function(node, height) {\n\n\t\t\t// Get the height or default height, depending on which one is needed\n\t\t\t!isDef(height) && (isDef(node.top) + isDef(node.center && node.center.y) + isDef(node.bottom) < 2) && (height = node._defaultHeight);\n\n\t\t\t// Check if the width is INHERIT, and if so fetch the inherited width\n\t\t\tif (height === UI.INHERIT) {\n\t\t\t\tif (node._parent._parent) {\n\t\t\t\t\treturn node._parent._parent._layout._getHeight(node._parent, node._parent.height) === UI.SIZE ? UI.SIZE : UI.FILL;\n\t\t\t\t}\n\t\t\t\t// This is the root level content container, which we know has a width of FILL\n\t\t\t\treturn UI.FILL;\n\t\t\t}\n\t\t\treturn height;\n\t\t},\n\n\t\t_isDependentOnParent: function(node){\n\t\t\tvar layoutCoefficients = node._layoutCoefficients;\n\t\t\treturn (!isNaN(layoutCoefficients.width.x1) && layoutCoefficients.width.x1 !== 0) || // width\n\t\t\t\t(!isNaN(layoutCoefficients.height.x1) && layoutCoefficients.height.x1 !== 0) || // height\n\t\t\t\tlayoutCoefficients.left.x1 !== 0 || // left\n\t\t\t\tlayoutCoefficients.top.x1 !== 0; // top\n\t\t},\n\n\t\t_doAnimationLayout: function(node, animationCoefficients) {\n\n\t\t\tvar parentWidth = node._parent._measuredWidth,\n\t\t\t\tparentHeight = node._parent._measuredHeight,\n\t\t\t\twidth = animationCoefficients.width.x1 * parentWidth + animationCoefficients.width.x2,\n\t\t\t\theight = animationCoefficients.height.x1 * parentHeight + animationCoefficients.height.x2;\n\n\t\t\treturn {\n\t\t\t\twidth: width,\n\t\t\t\theight: height,\n\t\t\t\tleft: animationCoefficients.left.x1 * parentWidth + animationCoefficients.left.x2 * width + animationCoefficients.left.x3,\n\t\t\t\ttop: animationCoefficients.top.x1 * parentHeight + animationCoefficients.top.x2 * height + animationCoefficients.top.x3\n\t\t\t};\n\t\t},\n\n\t\t_measureNode: function(node, layoutProperties, layoutCoefficients, self) {\n\n\t\t\tnode._needsMeasuring = false;\n\n\t\t\t// Pre-processing\n\t\t\tvar getValueType = self.getValueType,\n\t\t\t\tcomputeValue = self.computeValue,\n\n\t\t\t\twidth = self._getWidth(node, layoutProperties.width),\n\t\t\t\twidthType = getValueType(width),\n\t\t\t\twidthValue = computeValue(width, widthType),\n\n\t\t\t\tminWidth = layoutProperties._minWidth,\n\t\t\t\tminWidthType = getValueType(minWidth),\n\t\t\t\tminWidthValue = computeValue(minWidth, minWidthType),\n\n\t\t\t\theight = self._getHeight(node, layoutProperties.height),\n\t\t\t\theightType = getValueType(height),\n\t\t\t\theightValue = computeValue(height, heightType),\n\n\t\t\t\tminHeight = layoutProperties._minHeight,\n\t\t\t\tminHeightType = getValueType(minHeight),\n\t\t\t\tminHeightValue = computeValue(minHeight, minHeightType),\n\n\t\t\t\tleft = layoutProperties.left,\n\t\t\t\tleftType = getValueType(left),\n\t\t\t\tleftValue = computeValue(left, leftType),\n\n\t\t\t\tcenterX = layoutProperties.center && layoutProperties.center.x,\n\t\t\t\tcenterXType = getValueType(centerX),\n\t\t\t\tcenterXValue = computeValue(centerX, centerXType),\n\n\t\t\t\tright = layoutProperties.right,\n\t\t\t\trightType = getValueType(right),\n\t\t\t\trightValue = computeValue(right, rightType),\n\n\t\t\t\ttop = layoutProperties.top,\n\t\t\t\ttopType = getValueType(top),\n\t\t\t\ttopValue = computeValue(top, topType),\n\n\t\t\t\tcenterY = layoutProperties.center && layoutProperties.center.y,\n\t\t\t\tcenterYType = getValueType(centerY),\n\t\t\t\tcenterYValue = computeValue(centerY, centerYType),\n\n\t\t\t\tbottom = layoutProperties.bottom,\n\t\t\t\tbottomType = getValueType(bottom),\n\t\t\t\tbottomValue = computeValue(bottom, bottomType),\n\n\t\t\t\tx1, x2, x3,\n\n\t\t\t\tsandboxWidthLayoutCoefficients = layoutCoefficients.sandboxWidth,\n\t\t\t\tsandboxHeightLayoutCoefficients = layoutCoefficients.sandboxHeight,\n\n\t\t\t\t// Width/height rule evaluation\n\t\t\t\tparamsSet = [\n\t\t\t\t\t[widthType, widthValue, leftType, leftValue, centerXType, centerXValue, rightType, rightValue],\n\t\t\t\t\t[heightType, heightValue, topType, topValue, centerYType, centerYValue, bottomType, bottomValue]\n\t\t\t\t],\n\t\t\t\tparams, sizeType, sizeValue, startType, startValue, centerType, centerValue, endType, endValue,\n\t\t\t\ti = 0,\n\t\t\t\ttype;\n\t\t\tfor (; i < 2; i++) {\n\n\t\t\t\tparams = paramsSet[i];\n\t\t\t\tsizeType = params[0];\n\t\t\t\tsizeValue = params[1];\n\t\t\t\tstartType = params[2];\n\t\t\t\tstartValue = params[3];\n\t\t\t\tcenterType = params[4];\n\t\t\t\tcenterValue = params[5];\n\t\t\t\tendType = params[6];\n\t\t\t\tendValue = params[7];\n\n\t\t\t\tx1 = x2 = 0;\n\t\t\t\tif (sizeType === UI.SIZE) {\n\t\t\t\t\tx1 = x2 = NaN;\n\t\t\t\t} else if (sizeType === UI.FILL) {\n\t\t\t\t\tx1 = 1;\n\t\t\t\t\tif (startType === '%') {\n\t\t\t\t\t\tx1 -= startValue;\n\t\t\t\t\t} else if (startType === '#') {\n\t\t\t\t\t\tx2 = -startValue;\n\t\t\t\t\t} else if (endType === '%') {\n\t\t\t\t\t\tx1 -= endValue;\n\t\t\t\t\t} else if (endType === '#') {\n\t\t\t\t\t\tx2 = -endValue;\n\t\t\t\t\t}\n\t\t\t\t} else if (sizeType === '%') {\n\t\t\t\t\tx1 = sizeValue;\n\t\t\t\t} else if (sizeType === '#') {\n\t\t\t\t\tx2 = sizeValue;\n\t\t\t\t} else if (startType === '%') {\n\t\t\t\t\tif (centerType === '%') {\n\t\t\t\t\t\tx1 = 2 * (centerValue - startValue);\n\t\t\t\t\t} else if (centerType === '#') {\n\t\t\t\t\t\tx1 = -2 * startValue;\n\t\t\t\t\t\tx2 = 2 * centerValue;\n\t\t\t\t\t} else if (endType === '%') {\n\t\t\t\t\t\tx1 = 1 - startValue - endValue;\n\t\t\t\t\t} else if (endType === '#') {\n\t\t\t\t\t\tx1 = 1 - startValue;\n\t\t\t\t\t\tx2 = -endValue;\n\t\t\t\t\t}\n\t\t\t\t} else if (startType === '#') {\n\t\t\t\t\tif (centerType === '%') {\n\t\t\t\t\t\tx1 = 2 * centerValue;\n\t\t\t\t\t\tx2 = -2 * startValue;\n\t\t\t\t\t} else if (centerType === '#') {\n\t\t\t\t\t\tx2 = 2 * (centerValue - startValue);\n\t\t\t\t\t} else if (endType === '%') {\n\t\t\t\t\t\tx1 = 1 - endValue;\n\t\t\t\t\t\tx2 = -startValue;\n\t\t\t\t\t} else if (endType === '#') {\n\t\t\t\t\t\tx1 = 1;\n\t\t\t\t\t\tx2 = -endValue - startValue;\n\t\t\t\t\t}\n\t\t\t\t} else if (centerType === '%') {\n\t\t\t\t\tif (endType === '%') {\n\t\t\t\t\t\tx1 = 2 * (endValue - centerValue);\n\t\t\t\t\t} else if (endType === '#') {\n\t\t\t\t\t\tx1 = -2 * centerValue;\n\t\t\t\t\t\tx2 = 2 * endValue;\n\t\t\t\t\t}\n\t\t\t\t} else if (centerType === '#') {\n\t\t\t\t\tif (endType === '%') {\n\t\t\t\t\t\tx1 = 2 * endValue;\n\t\t\t\t\t\tx2 = -2 * centerValue;\n\t\t\t\t\t} else if (endType === '#') {\n\t\t\t\t\t\tx2 = 2 * (endValue - centerValue);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tlayoutCoefficients[type = i === 0 ? 'width' : 'height'].x1 = x1;\n\t\t\t\tlayoutCoefficients[type].x2 = x2;\n\t\t\t}\n\n\t\t\t// Min width/height rule evaluation\n\t\t\tparamsSet = {\n\t\t\t\tminWidth: [minWidthType, minWidthValue, leftType, leftValue, centerXType, centerXValue, rightType, rightValue],\n\t\t\t\tminHeight: [minHeightType, minHeightValue, topType, topValue, centerYType, centerYValue, bottomType, bottomValue]\n\t\t\t};\n\t\t\tfor (i in paramsSet) {\n\n\t\t\t\tparams = paramsSet[i];\n\t\t\t\tsizeType = params[0];\n\t\t\t\tsizeValue = params[1];\n\t\t\t\tstartType = params[2];\n\t\t\t\tstartValue = params[3];\n\t\t\t\tcenterType = params[4];\n\t\t\t\tcenterValue = params[5];\n\t\t\t\tendType = params[6];\n\t\t\t\tendValue = params[7];\n\n\t\t\t\tx1 = x2 = x3 = 0;\n\t\t\t\tif (sizeType === UI.SIZE) {\n\t\t\t\t\tx1 = x2 = NaN;\n\t\t\t\t} else if (sizeType === UI.FILL) {\n\t\t\t\t\tx1 = 1;\n\t\t\t\t\tif (startType === '%') {\n\t\t\t\t\t\tx1 -= startValue;\n\t\t\t\t\t} else if (startType === '#') {\n\t\t\t\t\t\tx2 = -startValue;\n\t\t\t\t\t} else if (endType === '%') {\n\t\t\t\t\t\tx1 -= endValue;\n\t\t\t\t\t} else if (endType === '#') {\n\t\t\t\t\t\tx2 = -endValue;\n\t\t\t\t\t}\n\t\t\t\t} else if (sizeType === '%') {\n\t\t\t\t\tx1 = sizeValue;\n\t\t\t\t} else if (sizeType === '#') {\n\t\t\t\t\tx2 = sizeValue;\n\t\t\t\t} else {\n\t\t\t\t\tx1 = x2 = x3 = void 0;\n\t\t\t\t}\n\t\t\t\tlayoutCoefficients[i].x1 = x1;\n\t\t\t\tlayoutCoefficients[i].x2 = x2;\n\t\t\t\tlayoutCoefficients[i].x3 = x3;\n\t\t\t}\n\n\t\t\t// Left/top rule evaluation\n\t\t\tparamsSet = [\n\t\t\t\t[leftType, leftValue, centerXType, centerXValue, rightType, rightValue],\n\t\t\t\t[topType, topValue, centerYType, centerYValue, bottomType, bottomValue]\n\t\t\t];\n\t\t\tfor (i = 0; i < 2; i++) {\n\n\t\t\t\tparams = paramsSet[i];\n\t\t\t\tstartType = params[0];\n\t\t\t\tstartValue = params[1];\n\t\t\t\tcenterType = params[2];\n\t\t\t\tcenterValue = params[3];\n\t\t\t\tendType = params[4];\n\t\t\t\tendValue = params[5];\n\n\t\t\t\tx1 = x2 = x3 = 0;\n\t\t\t\tif (startType === '%') {\n\t\t\t\t\tx1 = startValue;\n\t\t\t\t} else if(startType === '#') {\n\t\t\t\t\tx3 = startValue;\n\t\t\t\t} else if (centerType === '%') {\n\t\t\t\t\tx1 = centerValue;\n\t\t\t\t\tx2 = -0.5;\n\t\t\t\t} else if (centerType === '#') {\n\t\t\t\t\tx2 = -0.5;\n\t\t\t\t\tx3 = centerValue;\n\t\t\t\t} else if (endType === '%') {\n\t\t\t\t\tx1 = 1 - endValue;\n\t\t\t\t\tx2 = -1;\n\t\t\t\t} else if (endType === '#') {\n\t\t\t\t\tx1 = 1;\n\t\t\t\t\tx2 = -1;\n\t\t\t\t\tx3 = -endValue;\n\t\t\t\t} else {\n\t\t\t\t\tswitch(i === 'left' ? self._defaultHorizontalAlignment : self._defaultVerticalAlignment) {\n\t\t\t\t\t\tcase 'center':\n\t\t\t\t\t\t\tx1 = 0.5;\n\t\t\t\t\t\t\tx2 = -0.5;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'end':\n\t\t\t\t\t\t\tx1 = 1;\n\t\t\t\t\t\t\tx2 = -1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tlayoutCoefficients[type = i === 0 ? 'left' : 'top'].x1 = x1;\n\t\t\t\tlayoutCoefficients[type].x2 = x2;\n\t\t\t\tlayoutCoefficients[type].x3 = x3;\n\t\t\t}\n\n\t\t\t// Sandbox width/height rule evaluation\n\t\t\tsandboxWidthLayoutCoefficients.x1 = rightType === '%' ? rightValue : 0;\n\t\t\tsandboxWidthLayoutCoefficients.x2 = rightType === '#' ? rightValue : 0;\n\t\t\tsandboxHeightLayoutCoefficients.x1 = bottomType === '%' ? bottomValue : 0;\n\t\t\tsandboxHeightLayoutCoefficients.x2 = bottomType === '#' ? bottomValue : 0;\n\t\t},\n\n\t\t_defaultHorizontalAlignment: 'center',\n\n\t\t_defaultVerticalAlignment: 'center'\n\n\t});\n\n});\n\n},\n\"Ti/_/Layouts/Base\":function(){\n/* /titanium/Ti/_/Layouts/Base.js */\n\n/*global define*/\ndefine(['Ti/_/css', 'Ti/_/declare', 'Ti/_/style', 'Ti/_/lang', 'Ti/API', 'Ti/UI', 'Ti/_', 'Ti/_/dom'],\n\tfunction(css, declare, style, lang, API, UI, _, dom) {\n\n\treturn declare('Ti._.Layouts.Base', null, {\n\n\t\tcomputedSize: {width: 0, height: 0},\n\n\t\tconstructor: function(args) {\n\t\t\tcss.add(args.element.domNode, css.clean(this.declaredClass));\n\t\t},\n\n\t\tdestroy: function() {\n\t\t\tcss.remove(this.element.domNode, css.clean(this.declaredClass));\n\t\t},\n\n\t\thandleInvalidState: function(child, parent) {\n\t\t\tAPI.debug('WARNING: Attempting to layout element that has been destroyed.\\n\\t Removing the element from the parent.\\n\\t The parent has a widget ID of ' + parent.widgetId + '.');\n\t\t\tvar children = parent._children;\n\t\t\tchildren.splice(children.indexOf(child),1);\n\t\t},\n\n\t\tgetValueType: function(value) {\n\t\t\tif (value !== void 0) {\n\t\t\t\tif (value === UI.SIZE || value === UI.FILL) {\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t\treturn ~(value + '').indexOf('%') ? '%' : '#';\n\t\t\t}\n\t\t},\n\n\t\t/*\n\t\tcalculateAnimation: function(node, animation) {\n\t\t\tvar val = lang.val,\n\t\t\t\tanimationCoefficients = node._animationCoefficients,\n\t\t\t\tcenter,\n\t\t\t\tresults,\n\t\t\t\tpixelUnits = 'px';\n\n\t\t\t(node.center || animation.center) && (center = {});\n\t\t\tif (center) {\n\t\t\t\tcenter.x = val(animation.center && animation.center.x, node.center && node.center.x);\n\t\t\t\tcenter.y = val(animation.center && animation.center.y, node.center && node.center.y);\n\t\t\t}\n\n\t\t\t!animationCoefficients && (animationCoefficients = node._animationCoefficients = {\n\t\t\t\twidth: {},\n\t\t\t\tminWidth: {},\n\t\t\t\tsandboxWidth: {},\n\t\t\t\theight: {},\n\t\t\t\tminHeight: {},\n\t\t\t\tsandboxHeight: {},\n\t\t\t\tleft: {},\n\t\t\t\ttop: {}\n\t\t\t});\n\n\t\t\tthis._measureNode(node, {\n\t\t\t\tleft: val(animation.left,node.left),\n\t\t\t\tright: val(animation.right,node.right),\n\t\t\t\ttop: val(animation.top,node.top),\n\t\t\t\tbottom: val(animation.bottom,node.bottom),\n\t\t\t\tcenter: center,\n\t\t\t\twidth: val(animation.width,node.width),\n\t\t\t\tminWidth: node.minWidth,\n\t\t\t\tminHeight: node.minHeight,\n\t\t\t\theight: val(animation.height,node.height)\n\t\t\t},animationCoefficients, this);\n\n\t\t\tresults = this._doAnimationLayout(node, animationCoefficients);\n\n\t\t\tstyle.set(node.domNode, {\n\t\t\t\tzIndex: node.zIndex | 0,\n\t\t\t\tleft: Math.round(results.left) + pixelUnits,\n\t\t\t\ttop: Math.round(results.top) + pixelUnits,\n\t\t\t\twidth: Math.round(results.width - node._borderLeftWidth - node._borderRightWidth) + pixelUnits,\n\t\t\t\theight: Math.round(results.height - node._borderTopWidth - node._borderBottomWidth) + pixelUnits\n\t\t\t});\n\t\t},\n\t\t*/\n\n\t\tcalculateAnimation: function(elem, animation) {\n\t\t\tvar val = lang.val,\n\t\t\t\tanimationCoefficients = elem._animationCoefficients || (elem._animationCoefficients = {\n\t\t\t\t\theight: {},\n\t\t\t\t\tleft: {},\n\t\t\t\t\tminWidth: {},\n\t\t\t\t\tsandboxWidth: {},\n\t\t\t\t\tminHeight: {},\n\t\t\t\t\tsandboxHeight: {},\n\t\t\t\t\ttop: {},\n\t\t\t\t\twidth: {}\n\t\t\t\t}),\n\t\t\t\tresults = {};\n\n\t\t\tthis._measureNode(elem, {\n\t\t\t\tleft: val(animation.left, elem.left),\n\t\t\t\tright: val(animation.right, elem.right),\n\t\t\t\ttop: val(animation.top, elem.top),\n\t\t\t\tbottom: val(animation.bottom, elem.bottom),\n\t\t\t\tcenter: (elem.center || animation.center) && {\n\t\t\t\t\tx: val(animation.center && animation.center.x, elem.center && elem.center.x),\n\t\t\t\t\ty: val(animation.center && animation.center.y, elem.center && elem.center.y)\n\t\t\t\t},\n\t\t\t\twidth: val(animation.width, elem.width),\n\t\t\t\tminWidth: elem.minWidth,\n\t\t\t\tminHeight: elem.minHeight,\n\t\t\t\theight: val(animation.height, elem.height)\n\t\t\t}, animationCoefficients, this);\n\n\t\t\tresults = this._doAnimationLayout(elem, animationCoefficients);\n\n\t\t\treturn {\n\t\t\t\tleft: results.left,\n\t\t\t\ttop: results.top,\n\t\t\t\twidth: results.width - elem._borderLeftWidth - elem._borderRightWidth,\n\t\t\t\theight: results.height - elem._borderTopWidth - elem._borderBottomWidth\n\t\t\t};\n\t\t},\n\n\t\tcomputeValue: function(dimension, valueType) {\n\t\t\tif (valueType === '%') {\n\t\t\t\treturn parseFloat(dimension) / 100;\n\t\t\t}\n\t\t\tif (valueType === '#') {\n\t\t\t\treturn dom.computeSize(dimension);\n\t\t\t}\n\t\t}\n\n\t});\n\n});\n},\n\"Ti/_/Layouts/Horizontal\":function(){\n/* /titanium/Ti/_/Layouts/Horizontal.js */\n\n/*global define*/\ndefine(['Ti/_/Layouts/Base', 'Ti/_/declare', 'Ti/API', 'Ti/UI', 'Ti/_/lang'],\n\tfunction(Base, declare, API, UI, lang) {\n\n\tvar isDef = lang.isDef,\n\t\tround = Math.round,\n\t\tfloor = Math.floor,\n\t\tceil = Math.ceil;\n\n\treturn declare('Ti._.Layouts.Horizontal', Base, {\n\n\t\t_doLayout: function(element, width, height, isWidthSize, isHeightSize) {\n\t\t\tvar computedSize = {width: 0, height: 0},\n\t\t\t\tchildren = element._children,\n\t\t\t\tchild,\n\t\t\t\ti = 0, j,\n\t\t\t\tlayoutCoefficients,\n\t\t\t\twidthLayoutCoefficients, heightLayoutCoefficients, sandboxWidthLayoutCoefficients, sandboxHeightLayoutCoefficients, topLayoutCoefficients, leftLayoutCoefficients,\n\t\t\t\tchildSize,\n\t\t\t\tmeasuredWidth, measuredHeight, measuredSandboxHeight, measuredSandboxWidth, measuredLeft, measuredTop,\n\t\t\t\tpixelUnits = 'px',\n\t\t\t\trunningHeight = 0, runningWidth = 0,\n\t\t\t\trows = [[]], row,\n\t\t\t\trowHeights = [], rowHeight,\n\t\t\t\tdeferredTopCalculations = [],\n\t\t\t\tverticalAlignmentOffset = 0,\n\t\t\t\tlen = children.length, rowLen,\n\t\t\t\tmeasureNode = this._measureNode,\n\t\t\t\tnodeStyle;\n\n\t\t\t// Calculate horizontal size and position for the children\n\t\t\tfor(i = 0; i < len; i++) {\n\n\t\t\t\tchild = element._children[i];\n\t\t\t\tif (!child._alive || !child.domNode) {\n\t\t\t\t\tthis.handleInvalidState(child,element);\n\t\t\t\t} else {\n\n\t\t\t\t\tchild._measuredRunningWidth = runningWidth;\n\n\t\t\t\t\tif (child._markedForLayout) {\n\t\t\t\t\t\t((child._preLayout && child._preLayout(width, height, isWidthSize, isHeightSize)) || child._needsMeasuring) && measureNode(child, child, child._layoutCoefficients, this);\n\n\t\t\t\t\t\tlayoutCoefficients = child._layoutCoefficients;\n\t\t\t\t\t\twidthLayoutCoefficients = layoutCoefficients.width;\n\t\t\t\t\t\theightLayoutCoefficients = layoutCoefficients.height;\n\t\t\t\t\t\tsandboxWidthLayoutCoefficients = layoutCoefficients.sandboxWidth;\n\t\t\t\t\t\tleftLayoutCoefficients = layoutCoefficients.left;\n\n\t\t\t\t\t\tmeasuredWidth = widthLayoutCoefficients.x1 * width + widthLayoutCoefficients.x2 * (width - runningWidth) + widthLayoutCoefficients.x3;\n\t\t\t\t\t\tmeasuredHeight = heightLayoutCoefficients.x2 === 0 ? heightLayoutCoefficients.x1 * height + heightLayoutCoefficients.x3 : NaN;\n\n\t\t\t\t\t\tif (isNaN(measuredWidth) || isNaN(heightLayoutCoefficients.x1)) {\n\t\t\t\t\t\t\tif (child._getContentSize) {\n\t\t\t\t\t\t\t\tchildSize = child._getContentSize(measuredWidth, measuredHeight);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tchildSize = child._layout._doLayout(\n\t\t\t\t\t\t\t\t\tchild,\n\t\t\t\t\t\t\t\t\tisNaN(measuredWidth) ? width : measuredWidth - child._borderLeftWidth - child._borderRightWidth,\n\t\t\t\t\t\t\t\t\tisNaN(measuredHeight) ? height : measuredHeight - child._borderTopWidth - child._borderBottomWidth,\n\t\t\t\t\t\t\t\t\tisNaN(measuredWidth),\n\t\t\t\t\t\t\t\t\tisNaN(measuredHeight));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tisNaN(measuredWidth) && (measuredWidth = childSize.width + child._borderLeftWidth + child._borderRightWidth);\n\t\t\t\t\t\t\tisNaN(heightLayoutCoefficients.x1) && (measuredHeight = childSize.height + child._borderTopWidth + child._borderBottomWidth);\n\n\t\t\t\t\t\t\tchild._childrenLaidOut = true;\n\t\t\t\t\t\t\tif (heightLayoutCoefficients.x2 !== 0 && !isNaN(heightLayoutCoefficients.x2)) {\n\t\t\t\t\t\t\t\tAPI.warn('Child of width SIZE and height FILL detected in a horizontal layout. Performance degradation may occur.');\n\t\t\t\t\t\t\t\tchild._childrenLaidOut = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tchild._childrenLaidOut = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tchild._measuredWidth = measuredWidth;\n\t\t\t\t\t\tchild._measuredHeight = measuredHeight;\n\n\t\t\t\t\t\tmeasuredSandboxWidth = child._measuredSandboxWidth = sandboxWidthLayoutCoefficients.x1 * width + sandboxWidthLayoutCoefficients.x2 + measuredWidth;\n\n\t\t\t\t\t\tmeasuredLeft = leftLayoutCoefficients.x1 * width + leftLayoutCoefficients.x2 + runningWidth;\n\t\t\t\t\t\tif (!isWidthSize && floor(measuredSandboxWidth + runningWidth) > ceil(width)) {\n\t\t\t\t\t\t\trows.push([]);\n\t\t\t\t\t\t\tmeasuredLeft -= runningWidth;\n\t\t\t\t\t\t\trunningWidth = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tchild._measuredLeft = measuredLeft;\n\t\t\t\t\t\trows[rows.length - 1].push(child);\n\t\t\t\t\t\trunningWidth += measuredSandboxWidth;\n\t\t\t\t\t}\n\t\t\t\t\trunningWidth > computedSize.width && (computedSize.width = runningWidth);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Calculate vertical size and position for the children\n\t\t\tlen = rows.length;\n\t\t\tfor(i = 0; i < len; i++) {\n\t\t\t\trow = rows[i];\n\t\t\t\trowHeight = 0;\n\t\t\t\trowLen = row.length;\n\t\t\t\tfor (j = 0; j < rowLen; j++) {\n\t\t\t\t\tchild = row[j];\n\n\t\t\t\t\tif (child._markedForLayout) {\n\t\t\t\t\t\tlayoutCoefficients = child._layoutCoefficients;\n\t\t\t\t\t\ttopLayoutCoefficients = layoutCoefficients.top;\n\t\t\t\t\t\theightLayoutCoefficients = layoutCoefficients.height;\n\t\t\t\t\t\tsandboxHeightLayoutCoefficients = layoutCoefficients.sandboxHeight;\n\t\t\t\t\t\tmeasuredHeight = child._measuredHeight;\n\t\t\t\t\t\tisNaN(measuredHeight) && (child._measuredHeight = measuredHeight = heightLayoutCoefficients.x1 *\n\t\t\t\t\t\t\theight + heightLayoutCoefficients.x2 * (height - runningHeight) + heightLayoutCoefficients.x3);\n\n\t\t\t\t\t\tif (!child._childrenLaidOut) {\n\t\t\t\t\t\t\tmeasuredWidth = child._measuredWidth;\n\t\t\t\t\t\t\tchild._childrenLaidOut = true;\n\t\t\t\t\t\t\tchild._layout._doLayout(\n\t\t\t\t\t\t\t\tchild,\n\t\t\t\t\t\t\t\tisNaN(measuredWidth) ? width : measuredWidth - child._borderLeftWidth - child._borderRightWidth,\n\t\t\t\t\t\t\t\tisNaN(measuredHeight) ? height : measuredHeight - child._borderTopWidth - child._borderBottomWidth,\n\t\t\t\t\t\t\t\tisNaN(measuredWidth),\n\t\t\t\t\t\t\t\tisNaN(measuredHeight));\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (topLayoutCoefficients.x2 !== 0) {\n\t\t\t\t\t\t\tdeferredTopCalculations.push(child);\n\t\t\t\t\t\t\tmeasuredTop = runningHeight; // Temporary for use in calculating row height\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tchild._measuredTop = measuredTop = topLayoutCoefficients.x1 * height +\n\t\t\t\t\t\t\t\ttopLayoutCoefficients.x3 * measuredHeight + topLayoutCoefficients.x4 + runningHeight;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tchild._measuredSandboxHeight = measuredSandboxHeight = sandboxHeightLayoutCoefficients.x1 * height + sandboxHeightLayoutCoefficients.x2 + measuredHeight + measuredTop - runningHeight;\n\t\t\t\t\t\trowHeight < measuredSandboxHeight && (rowHeight = measuredSandboxHeight);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\trowHeights.push(rowHeight);\n\t\t\t\trunningHeight += rowHeight;\n\t\t\t}\n\n\t\t\t// Second pass, if necessary, to determine the top values\n\t\t\trunningHeight = 0;\n\t\t\tlen = rows.length;\n\t\t\tfor(i = 0; i < len; i++) {\n\t\t\t\trow = rows[i];\n\t\t\t\trowHeight = rowHeights[i];\n\t\t\t\trowLen = row.length;\n\t\t\t\tfor (j = 0; j < rowLen; j++) {\n\t\t\t\t\tchild = row[j];\n\t\t\t\t\tchild._measuredRunningHeight = runningHeight;\n\t\t\t\t\tchild._measuredRowHeight = rowHeight;\n\t\t\t\t\tif (~deferredTopCalculations.indexOf(child) && child._markedForLayout) {\n\t\t\t\t\t\tmeasuredHeight = child._measuredHeight;\n\t\t\t\t\t\ttopLayoutCoefficients = child._layoutCoefficients.top;\n\t\t\t\t\t\tchild._measuredTop = topLayoutCoefficients.x1 * height + topLayoutCoefficients.x2 * rowHeight + topLayoutCoefficients.x3 * measuredHeight + topLayoutCoefficients.x4 + runningHeight;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\trunningHeight += rowHeight;\n\t\t\t}\n\t\t\tcomputedSize.height = runningHeight;\n\n\t\t\t// Calculate the alignment offset (mobile web specific)\n\t\t\tif(!isHeightSize) {\n\t\t\t\tswitch(this._defaultVerticalAlignment) {\n\t\t\t\t\tcase 'end':\n\t\t\t\t\t\tverticalAlignmentOffset = height - runningHeight;\n\t\t\t\t\tcase 'center':\n\t\t\t\t\t\tverticalAlignmentOffset /= 2;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Position the children\n\t\t\tlen = children.length;\n\t\t\tfor(i = 0; i < len; i++) {\n\t\t\t\tchild = children[i];\n\t\t\t\tif (child._markedForLayout) {\n\t\t\t\t\tUI._elementLayoutCount++;\n\t\t\t\t\tchild = children[i];\n\t\t\t\t\tnodeStyle = child.domNode.style;\n\t\t\t\t\tnodeStyle.zIndex = child.zIndex;\n\t\t\t\t\tnodeStyle.left = round(child._measuredLeft) + pixelUnits;\n\t\t\t\t\tnodeStyle.top = round(child._measuredTop) + pixelUnits;\n\t\t\t\t\tnodeStyle.width = round(child._measuredWidth - child._borderLeftWidth - child._borderRightWidth) + pixelUnits;\n\t\t\t\t\tnodeStyle.height = round(child._measuredHeight - child._borderTopWidth - child._borderBottomWidth) + pixelUnits;\n\t\t\t\t\tchild._markedForLayout = false;\n\t\t\t\t\tchild.fireEvent('postlayout');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this._computedSize = computedSize;\n\t\t},\n\n\t\t_getWidth: function(node, width) {\n\n\t\t\t// Get the width or default width, depending on which one is needed\n\t\t\t!isDef(width) && (width = node._defaultWidth);\n\n\t\t\t// Check if the width is INHERIT, and if so fetch the inherited width\n\t\t\tif (width === UI.INHERIT) {\n\t\t\t\tif (node._parent._parent) {\n\t\t\t\t\treturn node._parent._parent._layout._getWidth(node._parent, node._parent.width) === UI.SIZE ? UI.SIZE : UI.FILL;\n\t\t\t\t}\n\t\t\t\t// This is the root level content container, which we know has a width of FILL\n\t\t\t\treturn UI.FILL;\n\t\t\t}\n\t\t\treturn width;\n\t\t},\n\n\t\t_getHeight: function(node, height) {\n\n\t\t\t// Get the height or default height, depending on which one is needed\n\t\t\t!isDef(height) && (height = node._defaultHeight);\n\n\t\t\t// Check if the width is INHERIT, and if so fetch the inherited width\n\t\t\tif (height === UI.INHERIT) {\n\t\t\t\tif (node._parent._parent) {\n\t\t\t\t\treturn node._parent._parent._layout._getHeight(node._parent, node._height) === UI.SIZE ? UI.SIZE : UI.FILL;\n\t\t\t\t}\n\t\t\t\t// This is the root level content container, which we know has a width of FILL\n\t\t\t\treturn UI.FILL;\n\t\t\t}\n\t\t\treturn height;\n\t\t},\n\n\t\t_isDependentOnParent: function(node){\n\t\t\tvar layoutCoefficients = node._layoutCoefficients;\n\t\t\treturn (!isNaN(layoutCoefficients.width.x1) && layoutCoefficients.width.x1 !== 0) ||\n\t\t\t\t(!isNaN(layoutCoefficients.width.x2) && layoutCoefficients.width.x2 !== 0) || // width\n\t\t\t\t(!isNaN(layoutCoefficients.height.x1) && layoutCoefficients.height.x1 !== 0) ||\n\t\t\t\t(!isNaN(layoutCoefficients.height.x2) && layoutCoefficients.height.x2 !== 0) || // height\n\t\t\t\tlayoutCoefficients.sandboxWidth.x1 !== 0 || // sandbox width\n\t\t\t\tlayoutCoefficients.sandboxHeight.x1 !== 0 || // sandbox height\n\t\t\t\tlayoutCoefficients.left.x1 !== 0 || // left\n\t\t\t\tlayoutCoefficients.top.x1 !== 0; // top\n\t\t},\n\n\t\t_doAnimationLayout: function(node, animationCoefficients) {\n\n\t\t\tvar parentWidth = node._parent._measuredWidth,\n\t\t\t\tparentHeight = node._parent._measuredHeight,\n\t\t\t\tnodeHeight = node._measuredHeight,\n\t\t\t\trunningWidth = node._measuredRunningWidth,\n\t\t\t\trunningHeight = node._measuredRunningHeight,\n\t\t\t\trowHeight = node._measuredRowHeight;\n\n\t\t\treturn {\n\t\t\t\twidth: animationCoefficients.width.x1 * parentWidth + animationCoefficients.width.x2 * (parentWidth - runningWidth) + animationCoefficients.width.x3,\n\t\t\t\theight: animationCoefficients.height.x1 * parentHeight + animationCoefficients.height.x2 * (parentHeight - runningHeight) + animationCoefficients.height.x3,\n\t\t\t\tleft: animationCoefficients.left.x1 * parentWidth + animationCoefficients.left.x2  + runningWidth,\n\t\t\t\ttop: animationCoefficients.top.x1 * parentHeight + animationCoefficients.top.x2 * rowHeight + animationCoefficients.top.x3 * nodeHeight + animationCoefficients.top.x4 + runningHeight\n\t\t\t};\n\t\t},\n\n\t\t_measureNode: function(node, layoutProperties, layoutCoefficients, self) {\n\n\t\t\tnode._needsMeasuring = false;\n\n\t\t\t// Pre-processing\n\t\t\tvar getValueType = self.getValueType,\n\t\t\t\tcomputeValue = self.computeValue,\n\n\t\t\t\twidth = self._getWidth(node, layoutProperties.width),\n\t\t\t\twidthType = getValueType(width),\n\t\t\t\twidthValue = computeValue(width, widthType),\n\n\t\t\t\theight = self._getHeight(node, layoutProperties.height),\n\t\t\t\theightType = getValueType(height),\n\t\t\t\theightValue = computeValue(height, heightType),\n\n\t\t\t\tleft = layoutProperties.left,\n\t\t\t\tleftType = getValueType(left),\n\t\t\t\tleftValue = computeValue(left, leftType),\n\n\t\t\t\tright = layoutProperties.right,\n\t\t\t\trightType = getValueType(right),\n\t\t\t\trightValue = computeValue(right, rightType),\n\n\t\t\t\ttop = layoutProperties.top,\n\t\t\t\ttopType = getValueType(top),\n\t\t\t\ttopValue = computeValue(top, topType),\n\n\t\t\t\tbottom = layoutProperties.bottom,\n\t\t\t\tbottomType = getValueType(bottom),\n\t\t\t\tbottomValue = computeValue(bottom, bottomType),\n\n\t\t\t\tx1, x2, x3, x4,\n\n\t\t\t\twidthLayoutCoefficients = layoutCoefficients.width,\n\t\t\t\theightLayoutCoefficients = layoutCoefficients.height,\n\t\t\t\tsandboxWidthLayoutCoefficients = layoutCoefficients.sandboxWidth,\n\t\t\t\tsandboxHeightLayoutCoefficients = layoutCoefficients.sandboxHeight,\n\t\t\t\tleftLayoutCoefficients = layoutCoefficients.left,\n\t\t\t\ttopLayoutCoefficients = layoutCoefficients.top;\n\n\t\t\t// Width rule calculation\n\t\t\tx1 = x2 = x3 = 0;\n\t\t\tif (widthType === UI.SIZE) {\n\t\t\t\tx1 = x2 = x3 = NaN;\n\t\t\t} else if (widthType === UI.FILL) {\n\t\t\t\tx2 = 1;\n\t\t\t\tleftType === '%' && (x1 = -leftValue);\n\t\t\t\tleftType === '#' && (x3 = -leftValue);\n\t\t\t\trightType === '%' && (x1 = -rightValue);\n\t\t\t\trightType === '#' && (x3 = -rightValue);\n\t\t\t} else if (widthType === '%') {\n\t\t\t\tx1 = widthValue;\n\t\t\t} else if (widthType === '#') {\n\t\t\t\tx3 = widthValue;\n\t\t\t}\n\t\t\twidthLayoutCoefficients.x1 = x1;\n\t\t\twidthLayoutCoefficients.x2 = x2;\n\t\t\twidthLayoutCoefficients.x3 = x3;\n\n\t\t\t// Sandbox width rule calculation\n\t\t\tx1 = x2 = 0;\n\t\t\tleftType === '%' && (x1 = leftValue);\n\t\t\tleftType === '#' && (x2 = leftValue);\n\t\t\trightType === '%' && (x1 += rightValue);\n\t\t\trightType === '#' && (x2 += rightValue);\n\t\t\tsandboxWidthLayoutCoefficients.x1 = x1;\n\t\t\tsandboxWidthLayoutCoefficients.x2 = x2;\n\n\t\t\t// Height rule calculation\n\t\t\tx1 = x2 = x3 = 0;\n\t\t\tif (heightType === UI.SIZE) {\n\t\t\t\tx1 = x2 = x3 = NaN;\n\t\t\t} else if (heightType === UI.FILL) {\n\t\t\t\tx2 = 1;\n\t\t\t\ttopType === '%' && (x1 = -topValue);\n\t\t\t\ttopType === '#' && (x3 = -topValue);\n\t\t\t} else if (heightType === '%') {\n\t\t\t\tx1 = heightValue;\n\t\t\t} else if (heightType === '#') {\n\t\t\t\tx3 = heightValue;\n\t\t\t}\n\t\t\theightLayoutCoefficients.x1 = x1;\n\t\t\theightLayoutCoefficients.x2 = x2;\n\t\t\theightLayoutCoefficients.x3 = x3;\n\n\t\t\t// Sandbox height rule calculation\n\t\t\tsandboxHeightLayoutCoefficients.x1 = bottomType === '%' ? bottomValue : 0;\n\t\t\tsandboxHeightLayoutCoefficients.x2 = bottomType === '#' ? bottomValue : 0;\n\n\t\t\t// Left rule calculation\n\t\t\tleftLayoutCoefficients.x1 = leftType === '%' ? leftValue : 0;\n\t\t\tleftLayoutCoefficients.x2 = leftType === '#' ? leftValue : 0;\n\n\t\t\t// Top rule calculation\n\t\t\tx1 = x2 = x3 = x4 = 0;\n\t\t\tif (topType === '%') {\n\t\t\t\tx1 = topValue;\n\t\t\t} else if(topType === '#') {\n\t\t\t\tx4 = topValue;\n\t\t\t} else if(bottomType === '%') {\n\t\t\t\tx1 = 1 - bottomValue;\n\t\t\t\tx3 = -1;\n\t\t\t} else if(bottomType === '#') {\n\t\t\t\tx1 = 1;\n\t\t\t\tx3 = -1;\n\t\t\t\tx4 = -bottomValue;\n\t\t\t} else {\n\t\t\t\tswitch(self._defaultRowAlignment) {\n\t\t\t\t\tcase 'center':\n\t\t\t\t\t\tx2 = 0.5;\n\t\t\t\t\t\tx3 = -0.5;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'end':\n\t\t\t\t\t\tx2 = 1;\n\t\t\t\t\t\tx3 = -1;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttopLayoutCoefficients.x1 = x1;\n\t\t\ttopLayoutCoefficients.x2 = x2;\n\t\t\ttopLayoutCoefficients.x3 = x3;\n\t\t\ttopLayoutCoefficients.x4 = x4;\n\t\t},\n\n\t\t_defaultHorizontalAlignment: 'start',\n\n\t\t_defaultVerticalAlignment: 'start',\n\n\t\t_defaultRowAlignment: 'center'\n\n\t});\n\n});\n\n},\n\"Ti/_/Layouts/Vertical\":function(){\n/* /titanium/Ti/_/Layouts/Vertical.js */\n\n/*global define*/\ndefine(['Ti/_/Layouts/Base', 'Ti/_/declare', 'Ti/UI', 'Ti/_/lang'], function(Base, declare, UI, lang) {\n\n\tvar isDef = lang.isDef,\n\t\tround = Math.round;\n\n\treturn declare('Ti._.Layouts.Vertical', Base, {\n\n\t\t_doLayout: function(element, width, height, isWidthSize, isHeightSize) {\n\t\t\tvar computedSize = {width: 0, height: 0},\n\t\t\t\tchildren = element._children,\n\t\t\t\tchild,\n\t\t\t\ti = 0,\n\t\t\t\tlayoutCoefficients,\n\t\t\t\twidthLayoutCoefficients, heightLayoutCoefficients, sandboxWidthLayoutCoefficients, sandboxHeightLayoutCoefficients, topLayoutCoefficients, leftLayoutCoefficients,\n\t\t\t\tchildSize,\n\t\t\t\tmeasuredWidth, measuredHeight, measuredSandboxHeight, measuredSandboxWidth, measuredLeft,\n\t\t\t\tpixelUnits = 'px',\n\t\t\t\tdeferredLeftCalculations = [],\n\t\t\t\trunningHeight = 0,\n\t\t\t\tlen = children.length,\n\t\t\t\tmeasureNode = this._measureNode,\n\t\t\t\tstyle;\n\n\t\t\t// Calculate size and position for the children\n\t\t\tfor(i = 0; i < len; i++) {\n\n\t\t\t\tchild = element._children[i];\n\t\t\t\tif (!child._alive || !child.domNode) {\n\t\t\t\t\tthis.handleInvalidState(child,element);\n\t\t\t\t} else {\n\n\t\t\t\t\tchild._measuredRunningHeight = runningHeight;\n\n\t\t\t\t\tif (child._markedForLayout) {\n\t\t\t\t\t\t((child._preLayout && child._preLayout(width, height, isWidthSize, isHeightSize)) || child._needsMeasuring) && measureNode(child, child, child._layoutCoefficients, this);\n\n\t\t\t\t\t\tlayoutCoefficients = child._layoutCoefficients;\n\t\t\t\t\t\twidthLayoutCoefficients = layoutCoefficients.width;\n\t\t\t\t\t\theightLayoutCoefficients = layoutCoefficients.height;\n\t\t\t\t\t\tsandboxWidthLayoutCoefficients = layoutCoefficients.sandboxWidth;\n\t\t\t\t\t\tsandboxHeightLayoutCoefficients = layoutCoefficients.sandboxHeight;\n\t\t\t\t\t\tleftLayoutCoefficients = layoutCoefficients.left;\n\t\t\t\t\t\ttopLayoutCoefficients = layoutCoefficients.top;\n\n\t\t\t\t\t\tmeasuredWidth = widthLayoutCoefficients.x1 * width + widthLayoutCoefficients.x2;\n\t\t\t\t\t\tmeasuredHeight = heightLayoutCoefficients.x1 * height + heightLayoutCoefficients.x2 * (height - runningHeight) + heightLayoutCoefficients.x3;\n\n\t\t\t\t\t\tif (child._getContentSize) {\n\t\t\t\t\t\t\tchildSize = child._getContentSize(measuredWidth, measuredHeight);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tchildSize = child._layout._doLayout(\n\t\t\t\t\t\t\t\tchild,\n\t\t\t\t\t\t\t\tisNaN(measuredWidth) ? width : measuredWidth - child._borderLeftWidth - child._borderRightWidth,\n\t\t\t\t\t\t\t\tisNaN(measuredHeight) ? height : measuredHeight - child._borderTopWidth - child._borderBottomWidth,\n\t\t\t\t\t\t\t\tisNaN(measuredWidth),\n\t\t\t\t\t\t\t\tisNaN(measuredHeight));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tisNaN(measuredWidth) && (measuredWidth = childSize.width + child._borderLeftWidth + child._borderRightWidth);\n\t\t\t\t\t\tisNaN(measuredHeight) && (measuredHeight = childSize.height + child._borderTopWidth + child._borderBottomWidth);\n\t\t\t\t\t\tchild._measuredWidth = measuredWidth;\n\t\t\t\t\t\tchild._measuredHeight = measuredHeight;\n\n\t\t\t\t\t\tif (isWidthSize && leftLayoutCoefficients.x1 !== 0) {\n\t\t\t\t\t\t\tdeferredLeftCalculations.push(child);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tmeasuredLeft = child._measuredLeft = leftLayoutCoefficients.x1 * width + leftLayoutCoefficients.x2 * measuredWidth + leftLayoutCoefficients.x3;\n\t\t\t\t\t\t\tmeasuredSandboxWidth = child._measuredSandboxWidth = sandboxWidthLayoutCoefficients.x1 * width + sandboxWidthLayoutCoefficients.x2 + measuredWidth + (isNaN(measuredLeft) ? 0 : measuredLeft);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tchild._measuredTop = topLayoutCoefficients.x1 * height + topLayoutCoefficients.x2 + runningHeight;\n\n\t\t\t\t\t\tmeasuredSandboxHeight = child._measuredSandboxHeight = sandboxHeightLayoutCoefficients.x1 * height + sandboxHeightLayoutCoefficients.x2 + measuredHeight;\n\t\t\t\t\t}\n\t\t\t\t\tchild._measuredSandboxWidth > computedSize.width && (computedSize.width = child._measuredSandboxWidth);\n\t\t\t\t\trunningHeight = (computedSize.height += child._measuredSandboxHeight);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Calculate the preliminary sandbox widths (missing left, since one of these widths may end up impacting all the lefts)\n\t\t\tlen = deferredLeftCalculations.length;\n\t\t\tfor(i = 0; i < len; i++) {\n\t\t\t\tchild = deferredLeftCalculations[i];\n\t\t\t\tsandboxWidthLayoutCoefficients = child._layoutCoefficients.sandboxWidth;\n\t\t\t\tmeasuredSandboxWidth = child._measuredSandboxWidth = sandboxWidthLayoutCoefficients.x1 * width + sandboxWidthLayoutCoefficients.x2 + child._measuredWidth;\n\t\t\t\tmeasuredSandboxWidth > computedSize.width && (computedSize.width = measuredSandboxWidth);\n\t\t\t}\n\n\t\t\t// Second pass, if necessary, to determine the left values\n\t\t\tfor(i = 0; i < len; i++) {\n\t\t\t\tchild = deferredLeftCalculations[i];\n\n\t\t\t\tleftLayoutCoefficients = child._layoutCoefficients.left;\n\t\t\t\tsandboxWidthLayoutCoefficients = child._layoutCoefficients.sandboxWidth;\n\t\t\t\tmeasuredWidth = child._measuredWidth;\n\t\t\t\tmeasuredSandboxWidth = child._measuredSandboxWidth;\n\n\t\t\t\tmeasuredSandboxWidth > computedSize.width && (computedSize.width = measuredSandboxWidth);\n\t\t\t\tmeasuredLeft = child._measuredLeft = leftLayoutCoefficients.x1 * computedSize.width + leftLayoutCoefficients.x2 * measuredWidth + leftLayoutCoefficients.x3;\n\t\t\t\tchild._measuredSandboxWidth += (isNaN(measuredLeft) ? 0 : measuredLeft);\n\t\t\t}\n\n\t\t\t// Position the children\n\t\t\tlen = children.length;\n\t\t\tfor(i = 0; i < len; i++) {\n\t\t\t\tchild = children[i];\n\t\t\t\tif (child._markedForLayout) {\n\t\t\t\t\tUI._elementLayoutCount++;\n\t\t\t\t\tchild = children[i];\n\t\t\t\t\tstyle = child.domNode.style;\n\t\t\t\t\tstyle.zIndex = child.zIndex;\n\t\t\t\t\tstyle.left = round(child._measuredLeft) + pixelUnits;\n\t\t\t\t\tstyle.top = round(child._measuredTop) + pixelUnits;\n\t\t\t\t\tstyle.width = round(child._measuredWidth - child._borderLeftWidth - child._borderRightWidth) + pixelUnits;\n\t\t\t\t\tstyle.height = round(child._measuredHeight - child._borderTopWidth - child._borderBottomWidth) + pixelUnits;\n\t\t\t\t\tchild._markedForLayout = false;\n\t\t\t\t\tchild.fireEvent('postlayout');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this._computedSize = computedSize;\n\t\t},\n\n\t\t_getWidth: function(node, width) {\n\n\t\t\t// Get the width or default width, depending on which one is needed\n\t\t\t!isDef(width) && (isDef(node.left) + isDef(node.center && node.center.x) + isDef(node.right) < 2) && (width = node._defaultWidth);\n\n\t\t\t// Check if the width is INHERIT, and if so fetch the inherited width\n\t\t\tif (width === UI.INHERIT) {\n\t\t\t\tif (node._parent._parent) {\n\t\t\t\t\treturn node._parent._parent._layout._getWidth(node._parent, node._parent.width) === UI.SIZE ? UI.SIZE : UI.FILL;\n\t\t\t\t}\n\t\t\t\t// This is the root level content container, which we know has a width of FILL\n\t\t\t\treturn UI.FILL;\n\t\t\t}\n\t\t\treturn width;\n\t\t},\n\n\t\t_getHeight: function(node, height) {\n\n\t\t\t// Get the height or default height, depending on which one is needed\n\t\t\t!isDef(height) && (height = node._defaultHeight);\n\n\t\t\t// Check if the width is INHERIT, and if so fetch the inherited width\n\t\t\tif (height === UI.INHERIT) {\n\t\t\t\tif (node._parent._parent) {\n\t\t\t\t\treturn node._parent._parent._layout._getHeight(node._parent, node._parent.height) === UI.SIZE ? UI.SIZE : UI.FILL;\n\t\t\t\t}\n\t\t\t\t// This is the root level content container, which we know has a width of FILL\n\t\t\t\treturn UI.FILL;\n\t\t\t}\n\t\t\treturn height;\n\t\t},\n\n\t\t_isDependentOnParent: function(node){\n\t\t\tvar layoutCoefficients = node._layoutCoefficients;\n\t\t\treturn (!isNaN(layoutCoefficients.width.x1) && layoutCoefficients.width.x1 !== 0) || // width\n\t\t\t\t(!isNaN(layoutCoefficients.height.x1) && layoutCoefficients.height.x1 !== 0) ||\n\t\t\t\t(!isNaN(layoutCoefficients.height.x2) && layoutCoefficients.height.x2 !== 0) || // height\n\t\t\t\tlayoutCoefficients.sandboxWidth.x1 !== 0 || // sandbox width\n\t\t\t\tlayoutCoefficients.sandboxHeight.x1 !== 0 || // sandbox height\n\t\t\t\tlayoutCoefficients.left.x1 !== 0 || // left\n\t\t\t\tlayoutCoefficients.top.x1 !== 0; // top\n\t\t},\n\n\t\t_doAnimationLayout: function(node, animationCoefficients) {\n\n\t\t\tvar parentWidth = node._parent._measuredWidth,\n\t\t\t\tparentHeight = node._parent._measuredHeight,\n\t\t\t\trunningHeight = node._measuredRunningHeight,\n\t\t\t\twidth = animationCoefficients.width.x1 * parentWidth + animationCoefficients.width.x2;\n\n\t\t\treturn {\n\t\t\t\twidth: width,\n\t\t\t\theight: animationCoefficients.height.x1 * parentHeight + animationCoefficients.height.x2 * (parentHeight - runningHeight) + animationCoefficients.height.x3,\n\t\t\t\tleft: animationCoefficients.left.x1 * parentWidth + animationCoefficients.left.x2 * width + animationCoefficients.left.x3,\n\t\t\t\ttop: animationCoefficients.top.x1 * parentHeight + animationCoefficients.top.x2 + runningHeight\n\t\t\t};\n\t\t},\n\n\t\t_measureNode: function(node, layoutProperties, layoutCoefficients, self) {\n\n\t\t\tnode._needsMeasuring = false;\n\n\t\t\t// Pre-processing\n\t\t\tvar getValueType = self.getValueType,\n\t\t\t\tcomputeValue = self.computeValue,\n\n\t\t\t\twidth = self._getWidth(node, layoutProperties.width),\n\t\t\t\twidthType = getValueType(width),\n\t\t\t\twidthValue = computeValue(width, widthType),\n\n\t\t\t\theight = self._getHeight(node, layoutProperties.height),\n\t\t\t\theightType = getValueType(height),\n\t\t\t\theightValue = computeValue(height, heightType),\n\n\t\t\t\tleft = layoutProperties.left,\n\t\t\t\tleftType = getValueType(left),\n\t\t\t\tleftValue = computeValue(left, leftType),\n\n\t\t\t\tcenterX = layoutProperties.center && layoutProperties.center.x,\n\t\t\t\tcenterXType = getValueType(centerX),\n\t\t\t\tcenterXValue = computeValue(centerX, centerXType),\n\n\t\t\t\tright = layoutProperties.right,\n\t\t\t\trightType = getValueType(right),\n\t\t\t\trightValue = computeValue(right, rightType),\n\n\t\t\t\ttop = layoutProperties.top,\n\t\t\t\ttopType = getValueType(top),\n\t\t\t\ttopValue = computeValue(top, topType),\n\n\t\t\t\tbottom = layoutProperties.bottom,\n\t\t\t\tbottomType = getValueType(bottom),\n\t\t\t\tbottomValue = computeValue(bottom, bottomType),\n\n\t\t\t\tx1, x2, x3,\n\n\t\t\t\twidthLayoutCoefficients = layoutCoefficients.width,\n\t\t\t\theightLayoutCoefficients = layoutCoefficients.height,\n\t\t\t\tsandboxWidthLayoutCoefficients = layoutCoefficients.sandboxWidth,\n\t\t\t\tsandboxHeightLayoutCoefficients = layoutCoefficients.sandboxHeight,\n\t\t\t\tleftLayoutCoefficients = layoutCoefficients.left,\n\t\t\t\ttopLayoutCoefficients = layoutCoefficients.top;\n\n\t\t\t// Width rule evaluation\n\t\t\tx1 = x2 = 0;\n\t\t\tif (widthType === UI.SIZE) {\n\t\t\t\tx1 = x2 = NaN;\n\t\t\t} else if (widthType === UI.FILL) {\n\t\t\t\tx1 = 1;\n\t\t\t\tif (leftType === '%') {\n\t\t\t\t\tx1 -= leftValue;\n\t\t\t\t} else if (leftType === '#') {\n\t\t\t\t\tx2 = -leftValue;\n\t\t\t\t} else if (rightType === '%') {\n\t\t\t\t\tx1 -= rightValue;\n\t\t\t\t} else if (rightType === '#') {\n\t\t\t\t\tx2 = -rightValue;\n\t\t\t\t}\n\t\t\t} else if (widthType === '%') {\n\t\t\t\tx1 = widthValue;\n\t\t\t} else if (widthType === '#') {\n\t\t\t\tx2 = widthValue;\n\t\t\t} else if (leftType === '%') {\n\t\t\t\tif (centerXType === '%') {\n\t\t\t\t\tx1 = 2 * (centerXValue - leftValue);\n\t\t\t\t} else if (centerXType === '#') {\n\t\t\t\t\tx1 = -2 * leftValue;\n\t\t\t\t\tx2 = 2 * centerXValue;\n\t\t\t\t} else if (rightType === '%') {\n\t\t\t\t\tx1 = 1 - leftValue - rightValue;\n\t\t\t\t} else if (rightType === '#') {\n\t\t\t\t\tx1 = 1 - leftValue;\n\t\t\t\t\tx2 = -rightValue;\n\t\t\t\t}\n\t\t\t} else if (leftType === '#') {\n\t\t\t\tif (centerXType === '%') {\n\t\t\t\t\tx1 = 2 * centerXValue;\n\t\t\t\t\tx2 = -2 * leftValue;\n\t\t\t\t} else if (centerXType === '#') {\n\t\t\t\t\tx2 = 2 * (centerXValue - leftValue);\n\t\t\t\t} else if (rightType === '%') {\n\t\t\t\t\tx1 = 1 - rightValue;\n\t\t\t\t\tx2 = -leftValue;\n\t\t\t\t} else if (rightType === '#') {\n\t\t\t\t\tx1 = 1;\n\t\t\t\t\tx2 = -rightValue - leftValue;\n\t\t\t\t}\n\t\t\t} else if (centerXType === '%') {\n\t\t\t\tif (rightType === '%') {\n\t\t\t\t\tx1 = 2 * (rightValue - centerXValue);\n\t\t\t\t} else if (rightType === '#') {\n\t\t\t\t\tx1 = -2 * centerXValue;\n\t\t\t\t\tx2 = 2 * rightValue;\n\t\t\t\t}\n\t\t\t} else if (centerXType === '#') {\n\t\t\t\tif (rightType === '%') {\n\t\t\t\t\tx1 = 2 * rightValue;\n\t\t\t\t\tx2 = -2 * centerXValue;\n\t\t\t\t} else if (rightType === '#') {\n\t\t\t\t\tx2 = 2 * (rightValue - centerXValue);\n\t\t\t\t}\n\t\t\t}\n\t\t\twidthLayoutCoefficients.x1 = x1;\n\t\t\twidthLayoutCoefficients.x2 = x2;\n\n\t\t\t// Sandbox width/height rule evaluation\n\t\t\tsandboxWidthLayoutCoefficients.x1 = rightType === '%' ? rightValue : 0;\n\t\t\tsandboxWidthLayoutCoefficients.x2 = rightType === '#' ? rightValue : 0;\n\n\t\t\t// Height rule calculation\n\t\t\tx1 = x2 = x3 = 0;\n\t\t\tif (heightType === UI.SIZE) {\n\t\t\t\tx1 = x2 = x3 = NaN;\n\t\t\t} else if (heightType === UI.FILL) {\n\t\t\t\tx2 = 1;\n\t\t\t\ttopType === '%' && (x1 = -topValue);\n\t\t\t\ttopType === '#' && (x3 = -topValue);\n\t\t\t\tbottomType === '%' && (x1 = -bottomValue);\n\t\t\t\tbottomType === '#' && (x3 = -bottomValue);\n\t\t\t} else if (heightType === '%') {\n\t\t\t\tx1 = heightValue;\n\t\t\t} else if (heightType === '#') {\n\t\t\t\tx3 = heightValue;\n\t\t\t}\n\t\t\theightLayoutCoefficients.x1 = x1;\n\t\t\theightLayoutCoefficients.x2 = x2;\n\t\t\theightLayoutCoefficients.x3 = x3;\n\n\t\t\t// Sandbox height rule calculation\n\t\t\tx1 = x2 = 0;\n\t\t\ttopType === '%' && (x1 = topValue);\n\t\t\ttopType === '#' && (x2 = topValue);\n\t\t\tbottomType === '%' && (x1 += bottomValue);\n\t\t\tbottomType === '#' && (x2 += bottomValue);\n\t\t\tsandboxHeightLayoutCoefficients.x1 = x1;\n\t\t\tsandboxHeightLayoutCoefficients.x2 = x2;\n\n\t\t\t// Left rule calculation\n\t\t\tx1 = x2 = x3 = 0;\n\t\t\tif (leftType === '%') {\n\t\t\t\tx1 = leftValue;\n\t\t\t} else if(leftType === '#') {\n\t\t\t\tx3 = leftValue;\n\t\t\t} else if (centerXType === '%') {\n\t\t\t\tx1 = centerXValue;\n\t\t\t\tx2 = -0.5;\n\t\t\t} else if (centerXType === '#') {\n\t\t\t\tx2 = -0.5;\n\t\t\t\tx3 = centerXValue;\n\t\t\t} else if (rightType === '%') {\n\t\t\t\tx1 = 1 - rightValue;\n\t\t\t\tx2 = -1;\n\t\t\t} else if (rightType === '#') {\n\t\t\t\tx1 = 1;\n\t\t\t\tx2 = -1;\n\t\t\t\tx3 = -rightValue;\n\t\t\t} else {\n\t\t\t\tswitch(self._defaultHorizontalAlignment) {\n\t\t\t\t\tcase 'center':\n\t\t\t\t\t\tx1 = 0.5;\n\t\t\t\t\t\tx2 = -0.5;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'end':\n\t\t\t\t\t\tx1 = 1;\n\t\t\t\t\t\tx2 = -1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tleftLayoutCoefficients.x1 = x1;\n\t\t\tleftLayoutCoefficients.x2 = x2;\n\t\t\tleftLayoutCoefficients.x3 = x3;\n\n\t\t\t// Top rule calculation\n\t\t\ttopLayoutCoefficients.x1 = topType === '%' ? topValue : 0;\n\t\t\ttopLayoutCoefficients.x2 = topType === '#' ? topValue : 0;\n\t\t},\n\n\t\t_defaultHorizontalAlignment: 'center',\n\n\t\t_defaultVerticalAlignment: 'start'\n\n\t});\n\n});\n\n},\n\"Ti/_/Layouts/ConstrainingHorizontal\":function(){\n/* /titanium/Ti/_/Layouts/ConstrainingHorizontal.js */\n\n/*global define*/\ndefine(['Ti/_/Layouts/Base', 'Ti/_/declare', 'Ti/UI', 'Ti/_/lang'], function(Base, declare, UI, lang) {\n\n\tvar isDef = lang.isDef,\n\t\tround = Math.round;\n\n\treturn declare('Ti._.Layouts.ConstrainingHorizontal', Base, {\n\n\t\t_doLayout: function(element, width, height, isWidthSize, isHeightSize) {\n\t\t\tvar computedSize = {width: 0, height: 0},\n\t\t\t\tchildren = element._children,\n\t\t\t\tchild,\n\t\t\t\ti = 0,\n\t\t\t\tlayoutCoefficients,\n\t\t\t\twidthLayoutCoefficients, heightLayoutCoefficients, sandboxWidthLayoutCoefficients, sandboxHeightLayoutCoefficients, topLayoutCoefficients, leftLayoutCoefficients,\n\t\t\t\tchildSize,\n\t\t\t\tmeasuredWidth, measuredHeight, measuredSandboxHeight, measuredSandboxWidth, measuredLeft, measuredTop,\n\t\t\t\tpixelUnits = 'px',\n\t\t\t\tdeferredTopCalculations = [],\n\t\t\t\trunningWidth = 0,\n\t\t\t\tremainingSpace,\n\t\t\t\tfillCount = 0,\n\t\t\t\tlen = children.length,\n\t\t\t\tmeasureNode = this._measureNode,\n\t\t\t\tstyle;\n\n\t\t\t// Calculate size for the non-FILL children\n\t\t\tfor(i = 0; i < len; i++) {\n\n\t\t\t\tchild = element._children[i];\n\t\t\t\tif (!child._alive || !child.domNode) {\n\t\t\t\t\tthis.handleInvalidState(child,element);\n\t\t\t\t} else {\n\n\t\t\t\t\tif (child._markedForLayout) {\n\t\t\t\t\t\t((child._preLayout && child._preLayout(width, height, isWidthSize, isHeightSize)) || child._needsMeasuring) && measureNode(child, child, child._layoutCoefficients, this);\n\n\t\t\t\t\t\tlayoutCoefficients = child._layoutCoefficients;\n\t\t\t\t\t\twidthLayoutCoefficients = layoutCoefficients.width;\n\n\t\t\t\t\t\tif (widthLayoutCoefficients.x2 === 0 || isNaN(widthLayoutCoefficients.x2)) {\n\t\t\t\t\t\t\theightLayoutCoefficients = layoutCoefficients.height;\n\t\t\t\t\t\t\tsandboxWidthLayoutCoefficients = layoutCoefficients.sandboxWidth;\n\t\t\t\t\t\t\tsandboxHeightLayoutCoefficients = layoutCoefficients.sandboxHeight;\n\n\t\t\t\t\t\t\tmeasuredHeight = heightLayoutCoefficients.x1 * height + heightLayoutCoefficients.x2;\n\t\t\t\t\t\t\tmeasuredWidth = widthLayoutCoefficients.x1 * width + widthLayoutCoefficients.x2 * (width - runningWidth) + widthLayoutCoefficients.x3;\n\n\t\t\t\t\t\t\tif (child._getContentSize) {\n\t\t\t\t\t\t\t\tchildSize = child._getContentSize(measuredWidth, measuredHeight);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tchildSize = child._layout._doLayout(\n\t\t\t\t\t\t\t\t\tchild,\n\t\t\t\t\t\t\t\t\tisNaN(measuredWidth) ? width : measuredWidth - child._borderLeftWidth - child._borderRightWidth,\n\t\t\t\t\t\t\t\t\tisNaN(measuredHeight) ? height : measuredHeight - child._borderTopWidth - child._borderBottomWidth,\n\t\t\t\t\t\t\t\t\tisNaN(measuredWidth),\n\t\t\t\t\t\t\t\t\tisNaN(measuredHeight));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tisNaN(measuredWidth) && (measuredWidth = childSize.width + child._borderLeftWidth + child._borderRightWidth);\n\t\t\t\t\t\t\tisNaN(measuredHeight) && (measuredHeight = childSize.height + child._borderTopWidth + child._borderBottomWidth);\n\n\t\t\t\t\t\t\tmeasuredSandboxWidth = child._measuredSandboxWidth = sandboxWidthLayoutCoefficients.x1 * width + sandboxWidthLayoutCoefficients.x2 + measuredWidth;\n\n\t\t\t\t\t\t\trunningWidth += measuredSandboxWidth;\n\n\t\t\t\t\t\t\tchild._measuredWidth = measuredWidth;\n\t\t\t\t\t\t\tchild._measuredHeight = measuredHeight;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfillCount++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Calculate size for the FILL children\n\t\t\tremainingSpace = width - runningWidth;\n\t\t\trunningWidth = Math.floor(remainingSpace / fillCount); // Temporary repurposing of runningHeight\n\t\t\tfor(i = 0; i < len; i++) {\n\n\t\t\t\tchild = element._children[i];\n\t\t\t\tif (child._markedForLayout) {\n\n\t\t\t\t\tlayoutCoefficients = child._layoutCoefficients;\n\t\t\t\t\twidthLayoutCoefficients = layoutCoefficients.width;\n\n\t\t\t\t\tif (widthLayoutCoefficients.x2 !== 0 && !isNaN(widthLayoutCoefficients.x2)) {\n\t\t\t\t\t\theightLayoutCoefficients = layoutCoefficients.height;\n\t\t\t\t\t\tsandboxWidthLayoutCoefficients = layoutCoefficients.sandboxWidth;\n\t\t\t\t\t\tsandboxHeightLayoutCoefficients = layoutCoefficients.sandboxHeight;\n\n\t\t\t\t\t\tmeasuredHeight = heightLayoutCoefficients.x1 * height + heightLayoutCoefficients.x2;\n\t\t\t\t\t\tmeasuredWidth = widthLayoutCoefficients.x1 * width + widthLayoutCoefficients.x2 * (i < len - 1 ? runningWidth : remainingSpace - runningWidth * (fillCount - 1)) + widthLayoutCoefficients.x3;\n\n\t\t\t\t\t\tif (child._getContentSize) {\n\t\t\t\t\t\t\tchildSize = child._getContentSize(measuredWidth, measuredHeight);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tchildSize = child._layout._doLayout(\n\t\t\t\t\t\t\t\tchild,\n\t\t\t\t\t\t\t\tisNaN(measuredWidth) ? width : measuredWidth - child._borderLeftWidth - child._borderRightWidth,\n\t\t\t\t\t\t\t\tisNaN(measuredHeight) ? height : measuredHeight - child._borderTopWidth - child._borderBottomWidth,\n\t\t\t\t\t\t\t\tisNaN(measuredWidth),\n\t\t\t\t\t\t\t\tisNaN(measuredHeight));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tisNaN(measuredWidth) && (measuredWidth = childSize.width + child._borderLeftWidth + child._borderRightWidth);\n\t\t\t\t\t\tisNaN(measuredHeight) && (measuredHeight = childSize.height + child._borderTopWidth + child._borderBottomWidth);\n\t\t\t\t\t\tchild._measuredWidth = measuredWidth;\n\t\t\t\t\t\tchild._measuredHeight = measuredHeight;\n\n\t\t\t\t\t\tmeasuredSandboxWidth = child._measuredSandboxWidth = sandboxWidthLayoutCoefficients.x1 * width + sandboxWidthLayoutCoefficients.x2 + measuredWidth;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Calculate position for the children\n\t\t\trunningWidth = 0;\n\t\t\tfor(i = 0; i < len; i++) {\n\n\t\t\t\tchild = element._children[i];\n\t\t\t\tchild._measuredRunningWidth = runningWidth;\n\t\t\t\tif (child._markedForLayout) {\n\t\t\t\t\tlayoutCoefficients = child._layoutCoefficients;\n\t\t\t\t\tsandboxHeightLayoutCoefficients = layoutCoefficients.sandboxHeight;\n\t\t\t\t\ttopLayoutCoefficients = layoutCoefficients.top;\n\t\t\t\t\tleftLayoutCoefficients = layoutCoefficients.left;\n\n\t\t\t\t\tif (isHeightSize && topLayoutCoefficients.x1 !== 0) {\n\t\t\t\t\t\tdeferredTopCalculations.push(child);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmeasuredHeight = child._measuredHeight;\n\n\t\t\t\t\t\tmeasuredTop = child._measuredTop = topLayoutCoefficients.x1 * height + topLayoutCoefficients.x2 * measuredHeight + topLayoutCoefficients.x3;\n\t\t\t\t\t\tmeasuredSandboxHeight = child._measuredSandboxHeight = sandboxHeightLayoutCoefficients.x1 * height + sandboxHeightLayoutCoefficients.x2 + measuredHeight + (isNaN(measuredTop) ? 0 : measuredTop);\n\t\t\t\t\t\tchild._measuredSandboxHeight > computedSize.height && (computedSize.height = child._measuredSandboxHeight);\n\t\t\t\t\t}\n\t\t\t\t\tmeasuredLeft = child._measuredLeft = leftLayoutCoefficients.x1 * width + leftLayoutCoefficients.x2 + runningWidth;\n\t\t\t\t} else {\n\t\t\t\t\tchild._measuredSandboxHeight > computedSize.height && (computedSize.height = child._measuredSandboxHeight);\n\t\t\t\t}\n\t\t\t\trunningWidth += child._measuredSandboxWidth;\n\t\t\t}\n\t\t\tcomputedSize.width = runningWidth;\n\n\t\t\t// Calculate the preliminary sandbox heights (missing top, since one of these heights may end up impacting all the tops)\n\t\t\tlen = deferredTopCalculations.length;\n\t\t\tfor(i = 0; i < len; i++) {\n\t\t\t\tchild = deferredTopCalculations[i];\n\t\t\t\tsandboxHeightLayoutCoefficients = child._layoutCoefficients.sandboxHeight;\n\t\t\t\tmeasuredSandboxHeight = child._measuredSandboxHeight = sandboxHeightLayoutCoefficients.x1 * height + sandboxHeightLayoutCoefficients.x2 + child._measuredHeight;\n\t\t\t\tmeasuredSandboxHeight > computedSize.height && (computedSize.height = measuredSandboxHeight);\n\t\t\t}\n\n\t\t\t// Second pass, if necessary, to determine the top values\n\t\t\tfor(i = 0; i < len; i++) {\n\t\t\t\tchild = deferredTopCalculations[i];\n\n\t\t\t\ttopLayoutCoefficients = child._layoutCoefficients.top;\n\t\t\t\tsandboxHeightLayoutCoefficients = child._layoutCoefficients.sandboxHeight;\n\t\t\t\tmeasuredHeight = child._measuredHeight;\n\t\t\t\tmeasuredSandboxHeight = child._measuredSandboxHeight;\n\n\t\t\t\tmeasuredSandboxHeight > computedSize.height && (computedSize.height = measuredSandboxHeight);\n\t\t\t\tmeasuredTop = child._measuredTop = topLayoutCoefficients.x1 * computedSize.height + topLayoutCoefficients.x2 * measuredHeight + topLayoutCoefficients.x3;\n\t\t\t\tchild._measuredSandboxHeight += (isNaN(measuredTop) ? 0 : measuredTop);\n\t\t\t}\n\n\t\t\t// Position the children\n\t\t\tlen = children.length;\n\t\t\tfor(i = 0; i < len; i++) {\n\t\t\t\tchild = children[i];\n\t\t\t\tif (child._markedForLayout) {\n\t\t\t\t\tUI._elementLayoutCount++;\n\t\t\t\t\tchild = children[i];\n\t\t\t\t\tstyle = child.domNode.style;\n\t\t\t\t\tstyle.zIndex = child.zIndex;\n\t\t\t\t\tstyle.left = round(child._measuredLeft) + pixelUnits;\n\t\t\t\t\tstyle.top = round(child._measuredTop) + pixelUnits;\n\t\t\t\t\tstyle.width = round(child._measuredWidth - child._borderLeftWidth - child._borderRightWidth) + pixelUnits;\n\t\t\t\t\tstyle.height = round(child._measuredHeight - child._borderTopWidth - child._borderBottomWidth) + pixelUnits;\n\t\t\t\t\tchild._markedForLayout = false;\n\t\t\t\t\tchild.fireEvent('postlayout');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this._computedSize = computedSize;\n\t\t},\n\n\t\t_getWidth: function(node, width) {\n\n\t\t\t// Get the width or default width, depending on which one is needed\n\t\t\t!isDef(width) && (width = node._defaultWidth);\n\n\t\t\t// Check if the width is INHERIT, and if so fetch the inherited width\n\t\t\tif (width === UI.INHERIT) {\n\t\t\t\tif (node._parent._parent) {\n\t\t\t\t\treturn node._parent._parent._layout._getWidth(node._parent, node._parent.width) === UI.SIZE ? UI.SIZE : UI.FILL;\n\t\t\t\t}\n\t\t\t\t// This is the root level content container, which we know has a width of FILL\n\t\t\t\treturn UI.FILL;\n\t\t\t}\n\t\t\treturn width;\n\t\t},\n\n\t\t_getHeight: function(node, height) {\n\n\t\t\t// Get the height or default height, depending on which one is needed\n\t\t\t!isDef(height) && (isDef(node.top) + isDef(node.center && node.center.y) + isDef(node.bottom) < 2) && (height = node._defaultHeight);\n\n\t\t\t// Check if the width is INHERIT, and if so fetch the inherited width\n\t\t\tif (height === UI.INHERIT) {\n\t\t\t\tif (node._parent._parent) {\n\t\t\t\t\treturn node._parent._parent._layout._getHeight(node._parent, node._parent.height) === UI.SIZE ? UI.SIZE : UI.FILL;\n\t\t\t\t}\n\t\t\t\t// This is the root level content container, which we know has a width of FILL\n\t\t\t\treturn UI.FILL;\n\t\t\t}\n\t\t\treturn height;\n\t\t},\n\n\t\t_isDependentOnParent: function(node){\n\t\t\tvar layoutCoefficients = node._layoutCoefficients;\n\t\t\treturn (!isNaN(layoutCoefficients.width.x1) && layoutCoefficients.width.x1 !== 0) ||\n\t\t\t\t(!isNaN(layoutCoefficients.width.x2) && layoutCoefficients.width.x2 !== 0) || // width\n\t\t\t\t(!isNaN(layoutCoefficients.height.x1) && layoutCoefficients.height.x1 !== 0) || // height\n\t\t\t\tlayoutCoefficients.sandboxWidth.x1 !== 0 || // sandbox width\n\t\t\t\tlayoutCoefficients.sandboxHeight.x1 !== 0 || // sandbox height\n\t\t\t\tlayoutCoefficients.left.x1 !== 0 || // left\n\t\t\t\tlayoutCoefficients.top.x1 !== 0; // top\n\t\t},\n\n\t\t_doAnimationLayout: function(node, animationCoefficients) {\n\n\t\t\tvar parentWidth = node._parent._measuredWidth,\n\t\t\t\tparentHeight = node._parent._measuredHeight,\n\t\t\t\trunningWidth = node._measuredRunningWidth,\n\t\t\t\theight = animationCoefficients.height.x1 * parentHeight + animationCoefficients.height.x2;\n\n\t\t\treturn {\n\t\t\t\twidth: animationCoefficients.width.x1 * parentWidth + animationCoefficients.width.x2 * (parentWidth - runningWidth) + animationCoefficients.width.x3,\n\t\t\t\theight: height,\n\t\t\t\tleft: animationCoefficients.left.x1 * parentWidth + animationCoefficients.left.x2 + runningWidth,\n\t\t\t\ttop: animationCoefficients.top.x1 * parentHeight + animationCoefficients.top.x2 * height + animationCoefficients.top.x3\n\t\t\t};\n\t\t},\n\n\t\t_measureNode: function(node, layoutProperties, layoutCoefficients, self) {\n\n\t\t\tnode._needsMeasuring = false;\n\n\t\t\t// Pre-processing\n\t\t\tvar getValueType = self.getValueType,\n\t\t\t\tcomputeValue = self.computeValue,\n\n\t\t\t\twidth = self._getWidth(node, layoutProperties.width),\n\t\t\t\twidthType = getValueType(width),\n\t\t\t\twidthValue = computeValue(width, widthType),\n\n\t\t\t\theight = self._getHeight(node, layoutProperties.height),\n\t\t\t\theightType = getValueType(height),\n\t\t\t\theightValue = computeValue(height, heightType),\n\n\t\t\t\tleft = layoutProperties.left,\n\t\t\t\tleftType = getValueType(left),\n\t\t\t\tleftValue = computeValue(left, leftType),\n\n\t\t\t\tright = layoutProperties.right,\n\t\t\t\trightType = getValueType(right),\n\t\t\t\trightValue = computeValue(right, rightType),\n\n\t\t\t\ttop = layoutProperties.top,\n\t\t\t\ttopType = getValueType(top),\n\t\t\t\ttopValue = computeValue(top, topType),\n\n\t\t\t\tcenterY = layoutProperties.center && layoutProperties.center.y,\n\t\t\t\tcenterYType = getValueType(centerY),\n\t\t\t\tcenterYValue = computeValue(centerY, centerYType),\n\n\t\t\t\tbottom = layoutProperties.bottom,\n\t\t\t\tbottomType = getValueType(bottom),\n\t\t\t\tbottomValue = computeValue(bottom, bottomType),\n\n\t\t\t\tx1, x2, x3,\n\n\t\t\t\twidthLayoutCoefficients = layoutCoefficients.width,\n\t\t\t\theightLayoutCoefficients = layoutCoefficients.height,\n\t\t\t\tsandboxWidthLayoutCoefficients = layoutCoefficients.sandboxWidth,\n\t\t\t\tsandboxHeightLayoutCoefficients = layoutCoefficients.sandboxHeight,\n\t\t\t\tleftLayoutCoefficients = layoutCoefficients.left,\n\t\t\t\ttopLayoutCoefficients = layoutCoefficients.top;\n\n\t\t\t// Height rule evaluation\n\t\t\tx1 = x2 = 0;\n\t\t\tif (heightType === UI.SIZE) {\n\t\t\t\tx1 = x2 = NaN;\n\t\t\t} else if (heightType === UI.FILL) {\n\t\t\t\tx1 = 1;\n\t\t\t\tif (topType === '%') {\n\t\t\t\t\tx1 -= topValue;\n\t\t\t\t} else if (topType === '#') {\n\t\t\t\t\tx2 = -topValue;\n\t\t\t\t} else if (bottomType === '%') {\n\t\t\t\t\tx1 -= bottomValue;\n\t\t\t\t} else if (bottomType === '#') {\n\t\t\t\t\tx2 = -bottomValue;\n\t\t\t\t}\n\t\t\t} else if (heightType === '%') {\n\t\t\t\tx1 = heightValue;\n\t\t\t} else if (heightType === '#') {\n\t\t\t\tx2 = heightValue;\n\t\t\t} else if (topType === '%') {\n\t\t\t\tif (centerYType === '%') {\n\t\t\t\t\tx1 = 2 * (centerYValue - topValue);\n\t\t\t\t} else if (centerYType === '#') {\n\t\t\t\t\tx1 = -2 * topValue;\n\t\t\t\t\tx2 = 2 * centerYValue;\n\t\t\t\t} else if (bottomType === '%') {\n\t\t\t\t\tx1 = 1 - topValue - bottomValue;\n\t\t\t\t} else if (bottomType === '#') {\n\t\t\t\t\tx1 = 1 - topValue;\n\t\t\t\t\tx2 = -bottomValue;\n\t\t\t\t}\n\t\t\t} else if (topType === '#') {\n\t\t\t\tif (centerYType === '%') {\n\t\t\t\t\tx1 = 2 * centerYValue;\n\t\t\t\t\tx2 = -2 * topValue;\n\t\t\t\t} else if (centerYType === '#') {\n\t\t\t\t\tx2 = 2 * (centerYValue - topValue);\n\t\t\t\t} else if (bottomType === '%') {\n\t\t\t\t\tx1 = 1 - bottomValue;\n\t\t\t\t\tx2 = -topValue;\n\t\t\t\t} else if (bottomType === '#') {\n\t\t\t\t\tx1 = 1;\n\t\t\t\t\tx2 = -bottomValue - topValue;\n\t\t\t\t}\n\t\t\t} else if (centerYType === '%') {\n\t\t\t\tif (bottomType === '%') {\n\t\t\t\t\tx1 = 2 * (bottomValue - centerYValue);\n\t\t\t\t} else if (bottomType === '#') {\n\t\t\t\t\tx1 = -2 * centerYValue;\n\t\t\t\t\tx2 = 2 * bottomValue;\n\t\t\t\t}\n\t\t\t} else if (centerYType === '#') {\n\t\t\t\tif (bottomType === '%') {\n\t\t\t\t\tx1 = 2 * bottomValue;\n\t\t\t\t\tx2 = -2 * centerYValue;\n\t\t\t\t} else if (bottomType === '#') {\n\t\t\t\t\tx2 = 2 * (bottomValue - centerYValue);\n\t\t\t\t}\n\t\t\t}\n\t\t\theightLayoutCoefficients.x1 = x1;\n\t\t\theightLayoutCoefficients.x2 = x2;\n\n\t\t\t// Sandbox height rule evaluation\n\t\t\tsandboxHeightLayoutCoefficients.x1 = bottomType === '%' ? bottomValue : 0;\n\t\t\tsandboxHeightLayoutCoefficients.x2 = bottomType === '#' ? bottomValue : 0;\n\n\t\t\t// Width rule calculation\n\t\t\tx1 = x2 = x3 = 0;\n\t\t\tif (widthType === UI.SIZE) {\n\t\t\t\tx1 = x2 = x3 = NaN;\n\t\t\t} else if (widthType === UI.FILL) {\n\t\t\t\tx2 = 1;\n\t\t\t\tleftType === '%' && (x1 = -leftValue);\n\t\t\t\tleftType === '#' && (x3 = -leftValue);\n\t\t\t\trightType === '%' && (x1 = -rightValue);\n\t\t\t\trightType === '#' && (x3 = -rightValue);\n\t\t\t} else if (widthType === '%') {\n\t\t\t\tx1 = widthValue;\n\t\t\t} else if (widthType === '#') {\n\t\t\t\tx3 = widthValue;\n\t\t\t}\n\t\t\twidthLayoutCoefficients.x1 = x1;\n\t\t\twidthLayoutCoefficients.x2 = x2;\n\t\t\twidthLayoutCoefficients.x3 = x3;\n\n\t\t\t// Sandbox width rule calculation\n\t\t\tx1 = x2 = 0;\n\t\t\tleftType === '%' && (x1 = leftValue);\n\t\t\tleftType === '#' && (x2 = leftValue);\n\t\t\trightType === '%' && (x1 += rightValue);\n\t\t\trightType === '#' && (x2 += rightValue);\n\t\t\tsandboxWidthLayoutCoefficients.x1 = x1;\n\t\t\tsandboxWidthLayoutCoefficients.x2 = x2;\n\n\t\t\t// Top rule calculation\n\t\t\tx1 = x2 = x3 = 0;\n\t\t\tif (topType === '%') {\n\t\t\t\tx1 = topValue;\n\t\t\t} else if(topType === '#') {\n\t\t\t\tx3 = topValue;\n\t\t\t} else if (centerYType === '%') {\n\t\t\t\tx1 = centerYValue;\n\t\t\t\tx2 = -0.5;\n\t\t\t} else if (centerYType === '#') {\n\t\t\t\tx2 = -0.5;\n\t\t\t\tx3 = centerYValue;\n\t\t\t} else if (bottomType === '%') {\n\t\t\t\tx1 = 1 - bottomValue;\n\t\t\t\tx2 = -1;\n\t\t\t} else if (bottomType === '#') {\n\t\t\t\tx1 = 1;\n\t\t\t\tx2 = -1;\n\t\t\t\tx3 = -bottomValue;\n\t\t\t} else {\n\t\t\t\tswitch(self._defaultVerticalAlignment) {\n\t\t\t\t\tcase 'center':\n\t\t\t\t\t\tx1 = 0.5;\n\t\t\t\t\t\tx2 = -0.5;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'end':\n\t\t\t\t\t\tx1 = 1;\n\t\t\t\t\t\tx2 = -1;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttopLayoutCoefficients.x1 = x1;\n\t\t\ttopLayoutCoefficients.x2 = x2;\n\t\t\ttopLayoutCoefficients.x3 = x3;\n\n\t\t\t// Left rule calculation\n\t\t\tleftLayoutCoefficients.x1 = leftType === '%' ? leftValue : 0;\n\t\t\tleftLayoutCoefficients.x2 = leftType === '#' ? leftValue : 0;\n\t\t},\n\n\t\t_defaultHorizontalAlignment: 'start',\n\n\t\t_defaultVerticalAlignment: 'center'\n\n\t});\n\n});\n\n},\n\"Ti/_/Layouts/ConstrainingVertical\":function(){\n/* /titanium/Ti/_/Layouts/ConstrainingVertical.js */\n\n/*global define*/\ndefine(['Ti/_/Layouts/Base', 'Ti/_/declare', 'Ti/UI', 'Ti/_/lang'], function(Base, declare, UI, lang) {\n\n\tvar isDef = lang.isDef,\n\t\tround = Math.round;\n\n\treturn declare('Ti._.Layouts.ConstrainingVertical', Base, {\n\n\t\t_doLayout: function(element, width, height, isWidthSize, isHeightSize) {\n\t\t\tvar computedSize = {width: 0, height: 0},\n\t\t\t\tchildren = element._children,\n\t\t\t\tchild,\n\t\t\t\ti = 0,\n\t\t\t\tlayoutCoefficients,\n\t\t\t\twidthLayoutCoefficients, heightLayoutCoefficients, sandboxWidthLayoutCoefficients, sandboxHeightLayoutCoefficients, topLayoutCoefficients, leftLayoutCoefficients,\n\t\t\t\tchildSize,\n\t\t\t\tmeasuredWidth, measuredHeight, measuredSandboxHeight, measuredSandboxWidth, measuredLeft, measuredTop,\n\t\t\t\tpixelUnits = 'px',\n\t\t\t\tdeferredLeftCalculations = [],\n\t\t\t\trunningHeight = 0,\n\t\t\t\tremainingSpace,\n\t\t\t\tfillCount = 0,\n\t\t\t\tlen = children.length,\n\t\t\t\tmeasureNode = this._measureNode,\n\t\t\t\tstyle;\n\n\t\t\t// Calculate size for the non-FILL children\n\t\t\tfor(i = 0; i < len; i++) {\n\n\t\t\t\tchild = element._children[i];\n\t\t\t\tif (!child._alive || !child.domNode) {\n\t\t\t\t\tthis.handleInvalidState(child,element);\n\t\t\t\t} else {\n\n\t\t\t\t\tif (child._markedForLayout) {\n\t\t\t\t\t\t((child._preLayout && child._preLayout(width, height, isWidthSize, isHeightSize)) || child._needsMeasuring) && measureNode(child, child, child._layoutCoefficients, this);\n\n\t\t\t\t\t\tlayoutCoefficients = child._layoutCoefficients;\n\t\t\t\t\t\theightLayoutCoefficients = layoutCoefficients.height;\n\n\t\t\t\t\t\tif (heightLayoutCoefficients.x2 === 0 || isNaN(heightLayoutCoefficients.x2)) {\n\t\t\t\t\t\t\twidthLayoutCoefficients = layoutCoefficients.width;\n\t\t\t\t\t\t\tsandboxWidthLayoutCoefficients = layoutCoefficients.sandboxWidth;\n\t\t\t\t\t\t\tsandboxHeightLayoutCoefficients = layoutCoefficients.sandboxHeight;\n\n\t\t\t\t\t\t\tmeasuredWidth = widthLayoutCoefficients.x1 * width + widthLayoutCoefficients.x2;\n\t\t\t\t\t\t\tmeasuredHeight = heightLayoutCoefficients.x1 * height + heightLayoutCoefficients.x2 * (height - runningHeight) + heightLayoutCoefficients.x3;\n\n\t\t\t\t\t\t\tif (child._getContentSize) {\n\t\t\t\t\t\t\t\tchildSize = child._getContentSize(measuredWidth, measuredHeight);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tchildSize = child._layout._doLayout(\n\t\t\t\t\t\t\t\t\tchild,\n\t\t\t\t\t\t\t\t\tisNaN(measuredWidth) ? width : measuredWidth - child._borderLeftWidth - child._borderRightWidth,\n\t\t\t\t\t\t\t\t\tisNaN(measuredHeight) ? height : measuredHeight - child._borderTopWidth - child._borderBottomWidth,\n\t\t\t\t\t\t\t\t\tisNaN(measuredWidth),\n\t\t\t\t\t\t\t\t\tisNaN(measuredHeight));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tisNaN(measuredWidth) && (measuredWidth = childSize.width + child._borderLeftWidth + child._borderRightWidth);\n\t\t\t\t\t\t\tisNaN(measuredHeight) && (measuredHeight = childSize.height + child._borderTopWidth + child._borderBottomWidth);\n\n\t\t\t\t\t\t\tmeasuredSandboxHeight = child._measuredSandboxHeight = sandboxHeightLayoutCoefficients.x1 * height + sandboxHeightLayoutCoefficients.x2 + measuredHeight;\n\n\t\t\t\t\t\t\trunningHeight += measuredSandboxHeight;\n\n\t\t\t\t\t\t\tchild._measuredWidth = measuredWidth;\n\t\t\t\t\t\t\tchild._measuredHeight = measuredHeight;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfillCount++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Calculate size for the FILL children\n\t\t\tremainingSpace = height - runningHeight;\n\t\t\trunningHeight = Math.floor(remainingSpace / fillCount); // Temporary repurposing of runningHeight\n\t\t\tfor(i = 0; i < len; i++) {\n\n\t\t\t\tchild = element._children[i];\n\n\t\t\t\tif (child._markedForLayout) {\n\n\t\t\t\t\tlayoutCoefficients = child._layoutCoefficients;\n\t\t\t\t\theightLayoutCoefficients = layoutCoefficients.height;\n\n\t\t\t\t\tif (heightLayoutCoefficients.x2 !== 0 && !isNaN(heightLayoutCoefficients.x2)) {\n\t\t\t\t\t\twidthLayoutCoefficients = layoutCoefficients.width;\n\t\t\t\t\t\tsandboxWidthLayoutCoefficients = layoutCoefficients.sandboxWidth;\n\t\t\t\t\t\tsandboxHeightLayoutCoefficients = layoutCoefficients.sandboxHeight;\n\n\t\t\t\t\t\tmeasuredWidth = widthLayoutCoefficients.x1 * width + widthLayoutCoefficients.x2;\n\t\t\t\t\t\tmeasuredHeight = heightLayoutCoefficients.x1 * height + heightLayoutCoefficients.x2 * (i < len - 1 ? runningHeight : remainingSpace - runningHeight * (fillCount - 1)) + heightLayoutCoefficients.x3;\n\n\t\t\t\t\t\tif (child._getContentSize) {\n\t\t\t\t\t\t\tchildSize = child._getContentSize(measuredWidth, measuredHeight);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tchildSize = child._layout._doLayout(\n\t\t\t\t\t\t\t\tchild,\n\t\t\t\t\t\t\t\tisNaN(measuredWidth) ? width : measuredWidth - child._borderLeftWidth - child._borderRightWidth,\n\t\t\t\t\t\t\t\tisNaN(measuredHeight) ? height : measuredHeight - child._borderTopWidth - child._borderBottomWidth,\n\t\t\t\t\t\t\t\tisNaN(measuredWidth),\n\t\t\t\t\t\t\t\tisNaN(measuredHeight));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tisNaN(measuredWidth) && (measuredWidth = childSize.width + child._borderLeftWidth + child._borderRightWidth);\n\t\t\t\t\t\tisNaN(measuredHeight) && (measuredHeight = childSize.height + child._borderTopWidth + child._borderBottomWidth);\n\t\t\t\t\t\tchild._measuredWidth = measuredWidth;\n\t\t\t\t\t\tchild._measuredHeight = measuredHeight;\n\n\t\t\t\t\t\tmeasuredSandboxHeight = child._measuredSandboxHeight = sandboxHeightLayoutCoefficients.x1 * height + sandboxHeightLayoutCoefficients.x2 + measuredHeight;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Calculate position for the children\n\t\t\trunningHeight = 0;\n\t\t\tfor(i = 0; i < len; i++) {\n\n\t\t\t\tchild = element._children[i];\n\t\t\t\tchild._measuredRunningHeight = runningHeight;\n\t\t\t\tif (child._markedForLayout) {\n\t\t\t\t\tlayoutCoefficients = child._layoutCoefficients;\n\t\t\t\t\tsandboxWidthLayoutCoefficients = layoutCoefficients.sandboxWidth;\n\t\t\t\t\ttopLayoutCoefficients = layoutCoefficients.top;\n\t\t\t\t\tleftLayoutCoefficients = layoutCoefficients.left;\n\n\t\t\t\t\tif (isWidthSize && leftLayoutCoefficients.x1 !== 0) {\n\t\t\t\t\t\tdeferredLeftCalculations.push(child);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmeasuredWidth = child._measuredWidth;\n\n\t\t\t\t\t\tmeasuredLeft = child._measuredLeft = leftLayoutCoefficients.x1 * width + leftLayoutCoefficients.x2 * measuredWidth + leftLayoutCoefficients.x3;\n\t\t\t\t\t\tmeasuredSandboxWidth = child._measuredSandboxWidth = sandboxWidthLayoutCoefficients.x1 * width + sandboxWidthLayoutCoefficients.x2 + measuredWidth + (isNaN(measuredLeft) ? 0 : measuredLeft);\n\t\t\t\t\t\tchild._measuredSandboxWidth > computedSize.width && (computedSize.width = child._measuredSandboxWidth);\n\t\t\t\t\t}\n\t\t\t\t\tmeasuredTop = child._measuredTop = topLayoutCoefficients.x1 * height + topLayoutCoefficients.x2 + runningHeight;\n\t\t\t\t} else {\n\t\t\t\t\tchild._measuredSandboxWidth > computedSize.width && (computedSize.width = child._measuredSandboxWidth);\n\t\t\t\t}\n\t\t\t\trunningHeight += child._measuredSandboxHeight;\n\t\t\t}\n\t\t\tcomputedSize.height = runningHeight;\n\n\t\t\t// Calculate the preliminary sandbox widths (missing left, since one of these widths may end up impacting all the lefts)\n\t\t\tlen = deferredLeftCalculations.length;\n\t\t\tfor(i = 0; i < len; i++) {\n\t\t\t\tchild = deferredLeftCalculations[i];\n\t\t\t\tsandboxWidthLayoutCoefficients = child._layoutCoefficients.sandboxWidth;\n\t\t\t\tmeasuredSandboxWidth = child._measuredSandboxWidth = sandboxWidthLayoutCoefficients.x1 * width + sandboxWidthLayoutCoefficients.x2 + child._measuredWidth;\n\t\t\t\tmeasuredSandboxWidth > computedSize.width && (computedSize.width = measuredSandboxWidth);\n\t\t\t}\n\n\t\t\t// Second pass, if necessary, to determine the left values\n\t\t\tfor(i = 0; i < len; i++) {\n\t\t\t\tchild = deferredLeftCalculations[i];\n\n\t\t\t\tleftLayoutCoefficients = child._layoutCoefficients.left;\n\t\t\t\tsandboxWidthLayoutCoefficients = child._layoutCoefficients.sandboxWidth;\n\t\t\t\tmeasuredWidth = child._measuredWidth;\n\t\t\t\tmeasuredSandboxWidth = child._measuredSandboxWidth;\n\n\t\t\t\tmeasuredSandboxWidth > computedSize.width && (computedSize.width = measuredSandboxWidth);\n\t\t\t\tmeasuredLeft = child._measuredLeft = leftLayoutCoefficients.x1 * computedSize.width + leftLayoutCoefficients.x2 * measuredWidth + leftLayoutCoefficients.x3;\n\t\t\t\tchild._measuredSandboxWidth += (isNaN(measuredLeft) ? 0 : measuredLeft);\n\t\t\t}\n\n\t\t\t// Position the children\n\t\t\tlen = children.length;\n\t\t\tfor(i = 0; i < len; i++) {\n\t\t\t\tchild = children[i];\n\t\t\t\tif (child._markedForLayout) {\n\t\t\t\t\tUI._elementLayoutCount++;\n\t\t\t\t\tchild = children[i];\n\t\t\t\t\tstyle = child.domNode.style;\n\t\t\t\t\tstyle.zIndex = child.zIndex;\n\t\t\t\t\tstyle.left = round(child._measuredLeft) + pixelUnits;\n\t\t\t\t\tstyle.top = round(child._measuredTop) + pixelUnits;\n\t\t\t\t\tstyle.width = round(child._measuredWidth - child._borderLeftWidth - child._borderRightWidth) + pixelUnits;\n\t\t\t\t\tstyle.height = round(child._measuredHeight - child._borderTopWidth - child._borderBottomWidth) + pixelUnits;\n\t\t\t\t\tchild._markedForLayout = false;\n\t\t\t\t\tchild.fireEvent('postlayout');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this._computedSize = computedSize;\n\t\t},\n\n\t\t_getWidth: function(node, width) {\n\n\t\t\t// Get the width or default width, depending on which one is needed\n\t\t\t!isDef(width) && (isDef(node.left) + isDef(node.center && node.center.x) + isDef(node.right) < 2) && (width = node._defaultWidth);\n\n\t\t\t// Check if the width is INHERIT, and if so fetch the inherited width\n\t\t\tif (width === UI.INHERIT) {\n\t\t\t\tif (node._parent._parent) {\n\t\t\t\t\treturn node._parent._parent._layout._getWidth(node._parent, node._parent.width) === UI.SIZE ? UI.SIZE : UI.FILL;\n\t\t\t\t}\n\t\t\t\t// This is the root level content container, which we know has a width of FILL\n\t\t\t\treturn UI.FILL;\n\t\t\t}\n\t\t\treturn width;\n\t\t},\n\n\t\t_getHeight: function(node, height) {\n\n\t\t\t// Get the height or default height, depending on which one is needed\n\t\t\t!isDef(height) && (height = node._defaultHeight);\n\n\t\t\t// Check if the width is INHERIT, and if so fetch the inherited width\n\t\t\tif (height === UI.INHERIT) {\n\t\t\t\tif (node._parent._parent) {\n\t\t\t\t\treturn node._parent._parent._layout._getHeight(node._parent, node._parent.height) === UI.SIZE ? UI.SIZE : UI.FILL;\n\t\t\t\t}\n\t\t\t\t// This is the root level content container, which we know has a width of FILL\n\t\t\t\treturn UI.FILL;\n\t\t\t}\n\t\t\treturn height;\n\t\t},\n\n\t\t_isDependentOnParent: function(node){\n\t\t\tvar layoutCoefficients = node._layoutCoefficients;\n\t\t\treturn (!isNaN(layoutCoefficients.width.x1) && layoutCoefficients.width.x1 !== 0) || // width\n\t\t\t\t(!isNaN(layoutCoefficients.height.x1) && layoutCoefficients.height.x1 !== 0) ||\n\t\t\t\t(!isNaN(layoutCoefficients.height.x2) && layoutCoefficients.height.x2 !== 0) || // height\n\t\t\t\tlayoutCoefficients.sandboxWidth.x1 !== 0 || // sandbox width\n\t\t\t\tlayoutCoefficients.sandboxHeight.x1 !== 0 || // sandbox height\n\t\t\t\tlayoutCoefficients.left.x1 !== 0 || // left\n\t\t\t\tlayoutCoefficients.top.x1 !== 0; // top\n\t\t},\n\n\t\t_doAnimationLayout: function(node, animationCoefficients) {\n\n\t\t\tvar parentWidth = node._parent._measuredWidth,\n\t\t\t\tparentHeight = node._parent._measuredHeight,\n\t\t\t\trunningHeight = node._measuredRunningHeight,\n\t\t\t\twidth = animationCoefficients.width.x1 * parentWidth + animationCoefficients.width.x2;\n\n\t\t\treturn {\n\t\t\t\twidth: width,\n\t\t\t\theight: animationCoefficients.height.x1 * parentHeight + animationCoefficients.height.x2 * (parentHeight - runningHeight) + animationCoefficients.height.x3,\n\t\t\t\tleft: animationCoefficients.left.x1 * parentWidth + animationCoefficients.left.x2 * width + animationCoefficients.left.x3,\n\t\t\t\ttop: animationCoefficients.top.x1 * parentHeight + animationCoefficients.top.x2 + runningHeight\n\t\t\t};\n\t\t},\n\n\t\t_measureNode: function(node, layoutProperties, layoutCoefficients, self) {\n\n\t\t\tnode._needsMeasuring = false;\n\n\t\t\t// Pre-processing\n\t\t\tvar getValueType = self.getValueType,\n\t\t\t\tcomputeValue = self.computeValue,\n\n\t\t\t\twidth = self._getWidth(node, layoutProperties.width),\n\t\t\t\twidthType = getValueType(width),\n\t\t\t\twidthValue = computeValue(width, widthType),\n\n\t\t\t\theight = self._getHeight(node, layoutProperties.height),\n\t\t\t\theightType = getValueType(height),\n\t\t\t\theightValue = computeValue(height, heightType),\n\n\t\t\t\tleft = layoutProperties.left,\n\t\t\t\tleftType = getValueType(left),\n\t\t\t\tleftValue = computeValue(left, leftType),\n\n\t\t\t\tcenterX = layoutProperties.center && layoutProperties.center.x,\n\t\t\t\tcenterXType = getValueType(centerX),\n\t\t\t\tcenterXValue = computeValue(centerX, centerXType),\n\n\t\t\t\tright = layoutProperties.right,\n\t\t\t\trightType = getValueType(right),\n\t\t\t\trightValue = computeValue(right, rightType),\n\n\t\t\t\ttop = layoutProperties.top,\n\t\t\t\ttopType = getValueType(top),\n\t\t\t\ttopValue = computeValue(top, topType),\n\n\t\t\t\tbottom = layoutProperties.bottom,\n\t\t\t\tbottomType = getValueType(bottom),\n\t\t\t\tbottomValue = computeValue(bottom, bottomType),\n\n\t\t\t\tx1, x2, x3,\n\n\t\t\t\twidthLayoutCoefficients = layoutCoefficients.width,\n\t\t\t\theightLayoutCoefficients = layoutCoefficients.height,\n\t\t\t\tsandboxWidthLayoutCoefficients = layoutCoefficients.sandboxWidth,\n\t\t\t\tsandboxHeightLayoutCoefficients = layoutCoefficients.sandboxHeight,\n\t\t\t\tleftLayoutCoefficients = layoutCoefficients.left,\n\t\t\t\ttopLayoutCoefficients = layoutCoefficients.top;\n\n\t\t\t// Width rule evaluation\n\t\t\tx1 = x2 = 0;\n\t\t\tif (widthType === UI.SIZE) {\n\t\t\t\tx1 = x2 = NaN;\n\t\t\t} else if (widthType === UI.FILL) {\n\t\t\t\tx1 = 1;\n\t\t\t\tif (leftType === '%') {\n\t\t\t\t\tx1 -= leftValue;\n\t\t\t\t} else if (leftType === '#') {\n\t\t\t\t\tx2 = -leftValue;\n\t\t\t\t} else if (rightType === '%') {\n\t\t\t\t\tx1 -= rightValue;\n\t\t\t\t} else if (rightType === '#') {\n\t\t\t\t\tx2 = -rightValue;\n\t\t\t\t}\n\t\t\t} else if (widthType === '%') {\n\t\t\t\tx1 = widthValue;\n\t\t\t} else if (widthType === '#') {\n\t\t\t\tx2 = widthValue;\n\t\t\t} else if (leftType === '%') {\n\t\t\t\tif (centerXType === '%') {\n\t\t\t\t\tx1 = 2 * (centerXValue - leftValue);\n\t\t\t\t} else if (centerXType === '#') {\n\t\t\t\t\tx1 = -2 * leftValue;\n\t\t\t\t\tx2 = 2 * centerXValue;\n\t\t\t\t} else if (rightType === '%') {\n\t\t\t\t\tx1 = 1 - leftValue - rightValue;\n\t\t\t\t} else if (rightType === '#') {\n\t\t\t\t\tx1 = 1 - leftValue;\n\t\t\t\t\tx2 = -rightValue;\n\t\t\t\t}\n\t\t\t} else if (leftType === '#') {\n\t\t\t\tif (centerXType === '%') {\n\t\t\t\t\tx1 = 2 * centerXValue;\n\t\t\t\t\tx2 = -2 * leftValue;\n\t\t\t\t} else if (centerXType === '#') {\n\t\t\t\t\tx2 = 2 * (centerXValue - leftValue);\n\t\t\t\t} else if (rightType === '%') {\n\t\t\t\t\tx1 = 1 - rightValue;\n\t\t\t\t\tx2 = -leftValue;\n\t\t\t\t} else if (rightType === '#') {\n\t\t\t\t\tx1 = 1;\n\t\t\t\t\tx2 = -rightValue - leftValue;\n\t\t\t\t}\n\t\t\t} else if (centerXType === '%') {\n\t\t\t\tif (rightType === '%') {\n\t\t\t\t\tx1 = 2 * (rightValue - centerXValue);\n\t\t\t\t} else if (rightType === '#') {\n\t\t\t\t\tx1 = -2 * centerXValue;\n\t\t\t\t\tx2 = 2 * rightValue;\n\t\t\t\t}\n\t\t\t} else if (centerXType === '#') {\n\t\t\t\tif (rightType === '%') {\n\t\t\t\t\tx1 = 2 * rightValue;\n\t\t\t\t\tx2 = -2 * centerXValue;\n\t\t\t\t} else if (rightType === '#') {\n\t\t\t\t\tx2 = 2 * (rightValue - centerXValue);\n\t\t\t\t}\n\t\t\t}\n\t\t\twidthLayoutCoefficients.x1 = x1;\n\t\t\twidthLayoutCoefficients.x2 = x2;\n\n\t\t\t// Sandbox width rule evaluation\n\t\t\tsandboxWidthLayoutCoefficients.x1 = rightType === '%' ? rightValue : 0;\n\t\t\tsandboxWidthLayoutCoefficients.x2 = rightType === '#' ? rightValue : 0;\n\n\t\t\t// Height rule calculation\n\t\t\tx1 = x2 = x3 = 0;\n\t\t\tif (heightType === UI.SIZE) {\n\t\t\t\tx1 = x2 = x3 = NaN;\n\t\t\t} else if (heightType === UI.FILL) {\n\t\t\t\tx2 = 1;\n\t\t\t\ttopType === '%' && (x1 = -topValue);\n\t\t\t\ttopType === '#' && (x3 = -topValue);\n\t\t\t\tbottomType === '%' && (x1 = -bottomValue);\n\t\t\t\tbottomType === '#' && (x3 = -bottomValue);\n\t\t\t} else if (heightType === '%') {\n\t\t\t\tx1 = heightValue;\n\t\t\t} else if (heightType === '#') {\n\t\t\t\tx3 = heightValue;\n\t\t\t}\n\t\t\theightLayoutCoefficients.x1 = x1;\n\t\t\theightLayoutCoefficients.x2 = x2;\n\t\t\theightLayoutCoefficients.x3 = x3;\n\n\t\t\t// Sandbox height rule calculation\n\t\t\tx1 = x2 = 0;\n\t\t\ttopType === '%' && (x1 = topValue);\n\t\t\ttopType === '#' && (x2 = topValue);\n\t\t\tbottomType === '%' && (x1 += bottomValue);\n\t\t\tbottomType === '#' && (x2 += bottomValue);\n\t\t\tsandboxHeightLayoutCoefficients.x1 = x1;\n\t\t\tsandboxHeightLayoutCoefficients.x2 = x2;\n\n\t\t\t// Left rule calculation\n\t\t\tx1 = x2 = x3 = 0;\n\t\t\tif (leftType === '%') {\n\t\t\t\tx1 = leftValue;\n\t\t\t} else if(leftType === '#') {\n\t\t\t\tx3 = leftValue;\n\t\t\t} else if (centerXType === '%') {\n\t\t\t\tx1 = centerXValue;\n\t\t\t\tx2 = -0.5;\n\t\t\t} else if (centerXType === '#') {\n\t\t\t\tx2 = -0.5;\n\t\t\t\tx3 = centerXValue;\n\t\t\t} else if (rightType === '%') {\n\t\t\t\tx1 = 1 - rightValue;\n\t\t\t\tx2 = -1;\n\t\t\t} else if (rightType === '#') {\n\t\t\t\tx1 = 1;\n\t\t\t\tx2 = -1;\n\t\t\t\tx3 = -rightValue;\n\t\t\t} else {\n\t\t\t\tswitch(self._defaultHorizontalAlignment) {\n\t\t\t\t\tcase 'center':\n\t\t\t\t\t\tx1 = 0.5;\n\t\t\t\t\t\tx2 = -0.5;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'end':\n\t\t\t\t\t\tx1 = 1;\n\t\t\t\t\t\tx2 = -1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tleftLayoutCoefficients.x1 = x1;\n\t\t\tleftLayoutCoefficients.x2 = x2;\n\t\t\tleftLayoutCoefficients.x3 = x3;\n\n\t\t\t// Top rule calculation\n\t\t\ttopLayoutCoefficients.x1 = topType === '%' ? topValue : 0;\n\t\t\ttopLayoutCoefficients.x2 = topType === '#' ? topValue : 0;\n\t\t},\n\n\t\t_defaultHorizontalAlignment: 'center',\n\n\t\t_defaultVerticalAlignment: 'start'\n\n\t});\n\n});\n\n},\n\"Ti/Filesystem/FileStream\":function(){\n/* /titanium/Ti/Filesystem/FileStream.js */\n\ndefine([\"Ti/_/declare\", \"Ti/IOStream\"], function(declare, IOStream) {\n\n\treturn declare(\"Ti.Filesystem.Filestream\", IOStream);\n\n});\n},\n\"Ti/Map/Annotation\":function(){\n/* /titanium/Ti/Map/Annotation.js */\n\ndefine([\"Ti/_/declare\", \"Ti/_/Evented\", \"Ti/Locale\"], function(declare, Evented, Locale) {\n\n\tvar updateHook = {\n\t\tpost: function(newValue, oldValue, prop) {\n\t\t\tthis.fireEvent(\"update\", {\n\t\t\t\tproperty: prop,\n\t\t\t\tvalue: newValue,\n\t\t\t\toldValue: oldValue\n\t\t\t});\n\t\t}\n\t};\n\n\treturn declare(\"Ti.Map.Annotation\", Evented, {\n\n\t\t_onclick: function(mapview, idx, src) {\n\t\t\tthis.fireEvent(\"click\", {\n\t\t\t\tannotation: this,\n\t\t\t\tclicksource: src,\n\t\t\t\tindex: idx,\n\t\t\t\tmap: mapview,\n\t\t\t\ttitle: this.title\n\t\t\t});\n\t\t},\n\n\t\t_update: function() {},\n\n\t\t_getTitle: function() {\n\t\t\treturn Locale._getString(this.titleid, this.title);\n\t\t},\n\n\t\t_getSubtitle: function() {\n\t\t\treturn Locale._getString(this.subtitleid, this.subtitle);\n\t\t},\n\n\t\tproperties: {\n\t\t\tanimate: false,\n\t\t\timage: updateHook,\n\t\t\tlatitude: updateHook,\n\t\t\tlongitude: updateHook,\n\t\t\tleftButton: updateHook,\n\t\t\tpincolor: updateHook,\n\t\t\trightButton: updateHook,\n\t\t\tsubtitle: updateHook,\n\t\t\tsubtitleid: updateHook,\n\t\t\ttitle: updateHook,\n\t\t\ttitleid: updateHook\n\t\t}\n\n\t});\n\n});\n\n},\n\"Ti/Map/View\":function(){\n/* /titanium/Ti/Map/View.js */\n\ndefine([\"Ti/_/declare\", \"Ti/_/Map/Google\", \"Ti/App/Properties\"], function(declare, Google, Properties) {\n\n\tvar backend = Properties.getString(\"ti.map.backend\");\n\n\treturn declare(\"Ti.Map.View\", backend ? require(backend) : Google);\n\n});\n\n},\n\"Ti/_/Map/Google\":function(){\n/* /titanium/Ti/_/Map/Google.js */\n\n/*global define Ti*/\ndefine(['Ti/_/declare', 'Ti/_/dom', 'Ti/_/event', 'Ti/App/Properties', 'Ti/Gesture', 'Ti/Geolocation', 'Ti/Map', 'Ti/UI/View', 'Ti/Utils'],\n\tfunction(declare, dom, event, Properties, Gesture, Geolocation, Map, View, Utils) {\n\n\tfunction mapType(type) {\n\t\tvar t = gmaps.MapTypeId;\n\t\tswitch (type) {\n\t\t\tcase Map.HYBRID_TYPE: return t.HYBRID;\n\t\t\tcase Map.SATELLITE_TYPE: return t.SATELLITE;\n\t\t\tcase Map.TERRAIN_TYPE: return t.TERRAIN;\n\t\t}\n\t\treturn t.ROADMAP;\n\t}\n\n\tvar on = require.on,\n\t\tfireEvent = View.prototype.fireEvent,\n\t\tdefaultRegion = {\n\t\t\tlatitude: 39.828175,\n\t\t\tlongitude: -98.5795,\n\t\t\tlatitudeDelta: 30.137412,\n\t\t\tlongitudeDelta: 63.235658\n\t\t},\n\t\tgmaps,\n\t\tgevent,\n\t\ttheInfoWindow,\n\t\t// the order of the markers MUST match the ANNOTATION_* constants defined in Ti.Map\n\t\tmarkers = { 0: 'red', 1: 'green', 2: 'purple' },\n\t\tlocationMarkerImage,\n\t\tonload = Ti.deferStart(),\n\t\tMapView = declare('Ti.Map.View', View, {\n\n\t\t\tconstructor: function() {\n\t\t\t\tthis.__values__.properties.annotations = [];\n\t\t\t\tthis._annotationMap = {};\n\t\t\t\tthis._routes = [];\n\t\t\t\tthis.fireEvent('loading');\n\t\t\t},\n\n\t\t\tpostscript: function() {\n\t\t\t\tvar self = this,\n\t\t\t\t\tregion = self.region || defaultRegion,\n\t\t\t\t\tgmap = self._gmap = new gmaps.Map(self.domNode, {\n\t\t\t\t\t\tdisableDefaultUI: true,\n\t\t\t\t\t\tzoom: 2,\n\t\t\t\t\t\tzoomControl: true,\n\t\t\t\t\t\tcenter: new gmaps.LatLng(region.latitude, region.longitude),\n\t\t\t\t\t\tmapTypeId: mapType(self.mapType)\n\t\t\t\t\t});\n\n\t\t\t\tfunction resizeMap(init) {\n\t\t\t\t\t// get the center\n\t\t\t\t\tvar center = gmap.getCenter()\n\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tgevent.trigger(gmap, 'resize');\n\n\t\t\t\t\t\tif (!init) {\n\t\t\t\t\t\t\t// orientation change, recenter\n\t\t\t\t\t\t\tgmap.setCenter(center);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// first time, fit map region into view\n\t\t\t\t\t\tself._updateMap(region, 1);\n\t\t\t\t\t\tself._updateUserLocation(self.userLocation);\n\t\t\t\t\t\tself.annotations.forEach(self._createMarker, self);\n\t\t\t\t\t\tself._annotationEvents = [];\n\t\t\t\t\t\tself._boundsEvt = gevent.addListener(gmap, 'bounds_changed', self._fitRegion.bind(self));\n\t\t\t\t\t}, 25);\n\t\t\t\t}\n\n\t\t\t\ton.once(self, 'postlayout', function () {\n\t\t\t\t\tresizeMap(1);\n\n\t\t\t\t\tGesture.addEventListener('orientationchange', function () {\n\t\t\t\t\t\tresizeMap();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\n\t\t\tdestroy: function() {\n\t\t\t\tevent.off(this._annotationEvents);\n\t\t\t\tgevent.removeListener(this._boundsEvt);\n\t\t\t\tgevent.clearInstanceListeners(this._gmap);\n\t\t\t\tthis.removeAllAnnotations();\n\t\t\t\tthis._gmap = null;\n\t\t\t\tView.prototype.destroy.apply(this, arguments);\n\t\t\t},\n\n\t\t\taddAnnotation: function(/*Object|Ti.Map.Annotation*/a) {\n\t\t\t\tif (a) {\n\t\t\t\t\ta.declaredClass === 'Ti.Map.Annotation' || (a = new Annotation(a));\n\t\t\t\t\t~this.annotations.indexOf(a) || this._createMarker(a);\n\t\t\t\t\ta.title && (this._annotationMap[a.title] = a);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\taddAnnotations: function(/*Array*/annotations) {\n\t\t\t\tannotations && annotations.forEach(this.addAnnotation, this);\n\t\t\t},\n\n\t\t\taddRoute: function(/*Object*/route) {\n\t\t\t\tif (route && (route.points || []).length) {\n\t\t\t\t\troute.pline = new gmaps.Polyline({\n\t\t\t\t\t\tmap: this._gmap,\n\t\t\t\t\t\tpath: route.points.map(function(p) {\n\t\t\t\t\t\t\treturn new gmaps.LatLng(p.latitude, p.longitude);\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tstrokeColor: route.color || '#000',\n\t\t\t\t\t\tstrokeWeight: route.width || 1\n\t\t\t\t\t});\n\t\t\t\t\tthis._routes.push(route);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tdeselectAnnotation: function(/*String|Ti.Map.Annotation*/a) {\n\t\t\t\trequire.is(a, 'String') && (a = this._annotationMap[a]);\n\t\t\t\ta && theInfoWindow && theInfoWindow.widgetId === a.widgetId && this._hide(a);\n\t\t\t},\n\n\t\t\tremoveAllAnnotations: function() {\n\t\t\t\ttheInfoWindow && theInfoWindow.close();\n\t\t\t\twhile (this.annotations.length) {\n\t\t\t\t\tthis.removeAnnotation(this.annotations[0]);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tremoveAnnotation: function(/*String|Ti.Map.Annotation*/a) {\n\t\t\t\trequire.is(a, 'String') && (a = this._annotationMap[a]);\n\t\t\t\tif (a) {\n\t\t\t\t\tvar annotations = this.__values__.properties.annotations,\n\t\t\t\t\t\tp = annotations.indexOf(a);\n\t\t\t\t\ttheInfoWindow && this._hide(a);\n\t\t\t\t\tgevent.removeListener(a.evt);\n\t\t\t\t\ta.marker.setMap(null);\n\t\t\t\t\tdelete a.marker;\n\t\t\t\t\ta.destroy();\n\t\t\t\t\t~p && annotations.splice(p, 1);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tremoveAnnotations: function(/*Array*/annotations) {\n\t\t\t\tannotations.forEach(function(a) {\n\t\t\t\t\tthis.removeAnnotation(a);\n\t\t\t\t}, this);\n\t\t\t},\n\n\t\t\tremoveRoute: function(/*Object*/route) {\n\t\t\t\tif (route && route.name) {\n\t\t\t\t\tvar r = this._routes,\n\t\t\t\t\t\ti = 0;\n\t\t\t\t\tfor (; i < r.length; i++) {\n\t\t\t\t\t\tif (r[i].name === route.name) {\n\t\t\t\t\t\t\troute.pline.setMap(null);\n\t\t\t\t\t\t\tdelete route.pline;\n\t\t\t\t\t\t\tr.splice(i--, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tselectAnnotation: function(/*String|Ti.Map.Annotation*/a) {\n\t\t\t\trequire.is(a, 'String') && (a = this._annotationMap[a]);\n\t\t\t\ta && this._show(a);\n\t\t\t},\n\n\t\t\tsetLocation: function(location) {\n\t\t\t\tlocation && (this.region = location);\n\t\t\t\tisDef(location.animate) && (this.animated = location.animate);\n\t\t\t\tisDef(location.animated) && (this.animated = location.animated);\n\t\t\t\tisDef(location.regionFit) && (this.regionFit = location.regionFit);\n\t\t\t\tthis._updateMap(location);\n\t\t\t},\n\n\t\t\tzoom: function(level) {\n\t\t\t\tvar gmap = this._gmap;\n\t\t\t\tgmap.setZoom(gmap.getZoom() + level);\n\t\t\t},\n\n\t\t\t_show: function(annotation, clicksource) {\n\t\t\t\tif (annotation && (!theInfoWindow || theInfoWindow.widgetId !== annotation.widgetId)) {\n\t\t\t\t\tvar _t = this,\n\t\t\t\t\t\twidgetId = annotation.widgetId,\n\t\t\t\t\t\tcls = 'TiMapAnnotation',\n\t\t\t\t\t\ttype,\n\t\t\t\t\t\tp = dom.create('div', { className: cls }),\n\t\t\t\t\t\tannotationNode = p,\n\t\t\t\t\t\tnodes = {\n\t\t\t\t\t\t\tannotation: annotationNode,\n\t\t\t\t\t\t\tleftButton: annotation.leftButton && dom.create('img', { className: cls + 'LeftButton', src: annotation.leftButton }, p),\n\t\t\t\t\t\t\trightButton: annotation.rightButton && dom.create('img', { className: cls + 'RightButton', src: annotation.rightButton }, p),\n\t\t\t\t\t\t\tdummy: (p = dom.create('div', { className: cls + 'Content' }, p)) && 0,\n\t\t\t\t\t\t\ttitle: dom.create('h1', { innerHTML: annotation._getTitle() }, p),\n\t\t\t\t\t\t\tsubtitle: dom.create('p', { innerHTML: annotation._getSubtitle() }, p)\n\t\t\t\t\t\t},\n\t\t\t\t\t\tshown;\n\n\t\t\t\t\tfunction onShow() {\n\t\t\t\t\t\tshown || (shown = 1) && _t._dispatchEvents(annotation, clicksource);\n\t\t\t\t\t}\n\n\t\t\t\t\t// wire up the dom nodes in the info window\n\t\t\t\t\tevent.off(_t._annotationEvents);\n\t\t\t\t\tfor (type in nodes) {\n\t\t\t\t\t\t(function(t, node) {\n\t\t\t\t\t\t\tnode && _t._annotationEvents.push(on(node, 'click', function(evt) {\n\t\t\t\t\t\t\t\tevent.stop(evt);\n\t\t\t\t\t\t\t\t_t._hide(annotation, t);\n\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t}(type, nodes[type]));\n\t\t\t\t\t}\n\n\t\t\t\t\t// listen for updates to the annotation object\n\t\t\t\t\t_t._annotationEvents.push(on(annotation, 'update', this, function(args) {\n\t\t\t\t\t\tif (theInfoWindow.widgetId === widgetId) {\n\t\t\t\t\t\t\tvar p = args.property,\n\t\t\t\t\t\t\t\tv = args.value,\n\t\t\t\t\t\t\t\tmarkerImg,\n\t\t\t\t\t\t\t\tamap = this._annotationMap;\n\t\t\t\t\t\t\tswitch (p) {\n\t\t\t\t\t\t\t\tcase 'title':\n\t\t\t\t\t\t\t\tcase 'subtitle':\n\t\t\t\t\t\t\t\t\tnodes[p].innerHTML = v;\n\t\t\t\t\t\t\t\t\tdelete amap[args.oldValue];\n\t\t\t\t\t\t\t\t\tv && (amap[v] = annotation);\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 'leftButton':\n\t\t\t\t\t\t\t\tcase 'rightButton':\n\t\t\t\t\t\t\t\t\tnodes[p].src = v;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 'image':\n\t\t\t\t\t\t\t\tcase 'pincolor':\n\t\t\t\t\t\t\t\t\tmarkerImg = _t._getMarkerImage(annotation);\n\t\t\t\t\t\t\t\t\tannotation.marker.setIcon(markerImg[0]);\n\t\t\t\t\t\t\t\t\tannotation.marker.setShadow(markerImg[1] || null);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}));\n\n\t\t\t\t\tif (theInfoWindow) {\n\t\t\t\t\t\tonShow();\n\t\t\t\t\t\ttheInfoWindow.setContent(annotationNode);\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttheInfoWindow = new gmaps.InfoWindow({ content: annotationNode });\n\t\t\t\t\t\tgevent.addListener(theInfoWindow, 'domready', onShow);\n\t\t\t\t\t\tgevent.addListener(theInfoWindow, 'closeclick', function() {\n\t\t\t\t\t\t\t_t._hide(annotation, 'annotation');\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\ttheInfoWindow.open(_t._gmap, annotation.marker);\n\t\t\t\t\ttheInfoWindow.widgetId = annotation.widgetId;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t_hide: function(annotation, clicksource) {\n\t\t\t\tif (!clicksource || !~clicksource.indexOf('Button')) {\n\t\t\t\t\ttheInfoWindow.close();\n\t\t\t\t\ttheInfoWindow.widgetId = 0;\n\t\t\t\t}\n\t\t\t\tthis._dispatchEvents(annotation, clicksource);\n\t\t\t},\n\n\t\t\t_dispatchEvents: function(annotation, clicksource) {\n\t\t\t\tvar idx = this.annotations.indexOf(annotation),\n\t\t\t\t\tprops = {\n\t\t\t\t\t\tannotation: annotation,\n\t\t\t\t\t\tclicksource: clicksource = clicksource || 'pin',\n\t\t\t\t\t\tindex: idx,\n\t\t\t\t\t\tlatitude: annotation.latitude,\n\t\t\t\t\t\tlongitude: annotation.longitude,\n\t\t\t\t\t\tmap: this,\n\t\t\t\t\t\tsubtitle: annotation._getSubtitle(),\n\t\t\t\t\t\ttitle: annotation._getTitle()\n\t\t\t\t\t};\n\n\t\t\t\tfireEvent.call(this, 'singletap', props);\n\t\t\t\tfireEvent.call(this, 'click', props);\n\t\t\t\tannotation._onclick(this, idx, clicksource);\n\t\t\t},\n\n\t\t\t_getMarkerImage: function(a) {\n\t\t\t\tvar markerImg = markers[a.pincolor | 0],\n\t\t\t\t\thash,\n\t\t\t\t\tblob;\n\n\t\t\t\tif (a.image) {\n\t\t\t\t\tif (a.image.declaredClass === 'Ti.Blob') {\n\t\t\t\t\t\tmarkerImg = markers[hash = Utils.md5HexDigest(blob = a.image.toString())];\n\t\t\t\t\t\tmarkerImg || (markerImg = markers[hash] = [new gmaps.MarkerImage(blob)]); //, new gmaps.Size(x1, 34), new point(x2, 0), new point(10, 34));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmarkerImg = markers[a.image];\n\t\t\t\t\t\tmarkerImg || (markerImg = markers[a.image] = [new gmaps.MarkerImage(a.image)]);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn markerImg;\n\t\t\t},\n\n\t\t\t_createMarker: function(a) {\n\t\t\t\tvar _t = this,\n\t\t\t\t\tmarkerImg = _t._getMarkerImage(a);\n\n\t\t\t\ta.evt = gevent.addListener(a.marker = new gmaps.Marker({\n\t\t\t\t\tmap: _t._gmap,\n\t\t\t\t\ticon: markerImg[0],\n\t\t\t\t\tshadow: markerImg[1],\n\t\t\t\t\tposition: new gmaps.LatLng(a.latitude, a.longitude),\n\t\t\t\t\toptimized: false,\n\t\t\t\t\ttitle: a._getTitle(),\n\t\t\t\t\tanimation: a.animate && gmaps.Animation.DROP\n\t\t\t\t}), 'click', function() {\n\t\t\t\t\t_t[theInfoWindow && theInfoWindow.widgetId === a.widgetId ? '_hide' : '_show'](a);\n\t\t\t\t});\n\n\t\t\t\t_t.__values__.properties.annotations.push(a);\n\t\t\t},\n\n\t\t\t_fitRegion: function() {\n\t\t\t\tvar c = this.__values__.constants,\n\t\t\t\t\tgmap = this._gmap,\n\t\t\t\t\tcenter = gmap.getCenter(),\n\t\t\t\t\tbounds = gmap.getBounds(),\n\t\t\t\t\tne = bounds.getNorthEast(),\n\t\t\t\t\tsw = bounds.getSouthWest(),\n\t\t\t\t\tlatD = c.latitudeDelta = ne.lat() - sw.lat(),\n\t\t\t\t\tlngD = c.longitudeDelta = ne.lng() - sw.lng(),\n\t\t\t\t\tregion = {\n\t\t\t\t\t\tlatitude: center.lat(),\n\t\t\t\t\t\tlongitude: center.lng(),\n\t\t\t\t\t\tlatitudeDelta: latD,\n\t\t\t\t\t\tlongitudeDelta: lngD\n\t\t\t\t\t};\n\n\t\t\t\tthis.regionFit && (this.__values__.properties.region = region);\n\n\t\t\t\tif (!this._initialized) {\n\t\t\t\t\tthis._initialized = 1;\n\t\t\t\t\tthis.fireEvent('complete');\n\t\t\t\t}\n\n\t\t\t\tthis.fireEvent('regionchanged', region);\n\t\t\t},\n\n\t\t\t_updateMap: function(region, dontAnimate) {\n\t\t\t\tvar gmap = this._gmap;\n\t\t\t\tif (gmap) {\n\t\t\t\t\tvar animated = !dontAnimate && this.animated,\n\t\t\t\t\t\tlatD = region.latitudeDelta / 2.0,\n\t\t\t\t\t\tlngD = region.longitudeDelta / 2.0;\n\t\t\t\t\tgmap[animated ? 'panTo' : 'setCenter'](new gmaps.LatLng(region.latitude, region.longitude));\n\t\t\t\t\tgmap[animated ? 'panToBounds' : 'fitBounds'](new gmaps.LatLngBounds(\n\t\t\t\t\t\tnew gmaps.LatLng(region.latitude - latD, region.longitude - lngD),\n\t\t\t\t\t\tnew gmaps.LatLng(region.latitude + latD, region.longitude + lngD)\n\t\t\t\t\t));\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t_updateUserLocation: function(userLocation) {\n\t\t\t\tvar _t = this,\n\t\t\t\t\tgmap = _t._gmap;\n\n\t\t\t\tif (gmap && (userLocation || _t._locationInited)) {\n\t\t\t\t\t_t._locationInited = 1;\n\n\t\t\t\t\tGeolocation[userLocation ? 'addEventListener' : 'removeEventListener']('location', function (e) {\n\t\t\t\t\t\tvar marker = _t._locationMarker,\n\t\t\t\t\t\t\tcoords = e.coords,\n\t\t\t\t\t\t\tcode = e.code,\n\t\t\t\t\t\t\tpos;\n\n\t\t\t\t\t\tif (coords) {\n\t\t\t\t\t\t\tpos = new gmaps.LatLng(coords.latitude, coords.longitude);\n\t\t\t\t\t\t\tif (marker) {\n\t\t\t\t\t\t\t\tmarker.setPosition(pos);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_t._locationMarker = new gmaps.Marker({\n\t\t\t\t\t\t\t\t\tmap: _t._gmap,\n\t\t\t\t\t\t\t\t\ticon: locationMarkerImage,\n\t\t\t\t\t\t\t\t\tposition: pos\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if ('code' in e) {\n\t\t\t\t\t\t\tTi.API.warn('Geolocation error: ' + (code === Geolocation.ERROR_DENIED ? 'permission denied' : code === Geolocation.ERROR_TIMEOUT ? 'timeout' : code === Geolocation.ERROR_LOCATION_UNKNOWN ? 'position unavailable' : 'unknown'));\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tif (!Geolocation.locationServicesEnabled) {\n\t\t\t\t\t\tTi.API.warn('Geolocation services unavailable');\n\t\t\t\t\t\t_t.__values__.properties.userLocation = false;\n\t\t\t\t\t} else if (!userLocation || _t._locationMarker) {\n\t\t\t\t\t\t_t._locationMarker.setVisible(userLocation);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tfireEvent: function(type, e) {\n\t\t\t\t/(click|singletap)/.test(type) || View.prototype.fireEvent.apply(this,arguments);\n\t\t\t},\n\n\t\t\tconstants: {\n\t\t\t\tlatitudeDelta: 0,\n\t\t\t\tlongitudeDelta: 0\n\t\t\t},\n\n\t\t\tproperties: {\n\t\t\t\tanimated: false,\n\t\t\t\tannotations: {\n\t\t\t\t\tset: function(value) {\n\t\t\t\t\t\tvalue = value.filter(function(a) { return a && a.declaredClass === 'Ti.Map.Annotation'; });\n\t\t\t\t\t\tif (this._gmap) {\n\t\t\t\t\t\t\tthis.removeAllAnnotations();\n\t\t\t\t\t\t\tvalue.forEach(this._createMarker, this);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tmapType: {\n\t\t\t\t\tset: function(value) {\n\t\t\t\t\t\tthis._gmap && this._gmap.setMapTypeId(mapType(value));\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tregion: {\n\t\t\t\t\tset: function(newValue, oldValue) {\n\t\t\t\t\t\treturn require.mix({}, defaultRegion, oldValue, newValue);\n\t\t\t\t\t},\n\t\t\t\t\tpost: function(newValue, oldValue) {\n\t\t\t\t\t\tnewValue !== oldValue && this._updateMap(newValue);\n\t\t\t\t\t},\n\t\t\t\t\tvalue: null\n\t\t\t\t},\n\t\t\t\tregionFit: true,\n\t\t\t\tuserLocation: {\n\t\t\t\t\tpost: function(value) {\n\t\t\t\t\t\tthis._updateUserLocation(value);\n\t\t\t\t\t},\n\t\t\t\t\tvalue: false\n\t\t\t\t}\n\t\t\t}\n\n\t\t});\n\n\twindow.TiMapViewInit = function() {\n\t\tgmaps = google.maps;\n\t\tgevent = gmaps.event;\n\n\t\tvar i,\n\t\t\tprefix = 'themes/' + require.config.ti.theme + '/Map/',\n\t\t\tpoint = gmaps.Point;\n\n\t\tfunction makeMarker(color, x1, x2) {\n\t\t\treturn new gmaps.MarkerImage(prefix + 'marker_' + color + '.png', new gmaps.Size(x1, 34), new point(x2, 0), new point(10, 34));\n\t\t}\n\n\t\tfor (i in markers) {\n\t\t\tmarkers[i] = [makeMarker(markers[i], 20, 0), makeMarker(markers[i], 37, 20)];\n\t\t}\n\n\t\tlocationMarkerImage = new gmaps.MarkerImage(prefix + 'location.png', new gmaps.Size(22, 22), new point(0, 0), new point(11, 11));\n\n\t\tonload();\n\t};\n\n\trequire(['//maps.googleapis.com/maps/api/js?key=' + Properties.getString('ti.map.apikey', '') + '&sensor=true&callback=TiMapViewInit'], 0, onload);\n\n\treturn MapView;\n\n});\n},\n\"Ti/Media/AudioPlayer\":function(){\n/* /titanium/Ti/Media/AudioPlayer.js */\n\ndefine([\"Ti/_/declare\", \"Ti/_/Evented\"], function(declare, Evented) {\n\t\n\treturn declare(\"Ti.Media.AudioPlayer\", Evented, {\n\t});\n\n});\n},\n\"Ti/Media/Sound\":function(){\n/* /titanium/Ti/Media/Sound.js */\n\ndefine([\"Ti/_/declare\", \"Ti/_/Evented\"], function(declare, Evented) {\n\t\n\treturn declare(\"Ti.Media.Sound\", Evented, {\n\t});\n\n});\n},\n\"Ti/Media/VideoPlayer\":function(){\n/* /titanium/Ti/Media/VideoPlayer.js */\n\ndefine([\"Ti/_/declare\", \"Ti/_/dom\", \"Ti/_/event\", \"Ti/_/lang\", \"Ti/Media\", \"Ti/UI/View\"],\n\tfunction(declare, dom, event, lang, Media, View) {\n\n\tvar doc = document,\n\t\ton = require.on,\n\t\tprefixes = require.config.vendorPrefixes.dom,\n\t\tSTOPPED = 0,\n\t\tSTOPPING = 1,\n\t\tPAUSED = 2,\n\t\tPLAYING = 3,\n\t\trequestFullScreen = \"requestFullScreen\",\n\t\texitFullScreen = \"exitFullScreen\",\n\t\tnativeFullScreen = (function() {\n\t\t\tfor (var i = 0, prefix; i < prefixes.length; i++) {\n\t\t\t\tprefix = prefixes[i].toLowerCase();\n\t\t\t\tif (doc[prefix + \"CancelFullScreen\"]) {\n\t\t\t\t\trequestFullScreen = prefix + \"RequestFullScreen\";\n\t\t\t\t\texitFullScreen = prefix + \"ExitFullScreen\";\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn !!doc.cancelFullScreen;\n\t\t}()),\n\t\tfakeFullscreen = true,\n\t\tmimeTypes = {\n\t\t\t\"m4v\": \"video/mp4\",\n\t\t\t\"mov\": \"video/quicktime\",\n\t\t\t\"mp4\": \"video/mp4\",\n\t\t\t\"ogg\": \"video/ogg\",\n\t\t\t\"ogv\": \"video/ogg\",\n\t\t\t\"webm\": \"video/webm\"\n\t\t};\n\n\tfunction isFullScreen(fs) {\n\t\treturn nativeFullScreen ? (!!doc.mozFullScreen || !!doc.webkitIsFullScreen) : !!fs;\n\t}\n\n\treturn declare(\"Ti.Media.VideoPlayer\", View, {\n\n\t\t_currentState: STOPPED,\n\n\t\tconstructor: function() {\n\t\t\tthis._handles = [];\n\t\t},\n\n\t\tproperties: {\n\t\t\tautoplay: false,\n\t\t\tcurrentPlaybackTime: {\n\t\t\t\tget: function() {\n\t\t\t\t\treturn this._video ? this._video.currentTime * 1000 : 0;\n\t\t\t\t},\n\t\t\t\tset: function(value) {\n\t\t\t\t\tthis._video && (this._video.currentTime = (value / 1000) | 0);\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\t\t\tfullscreen: {\n\t\t\t\tvalue: isFullScreen(),\n\n\t\t\t\tset: function(value) {\n\t\t\t\t\tvar h,\n\t\t\t\t\t\tv = this._video;\n\n\t\t\t\t\tvalue = !!value;\n\t\t\t\t\tif (nativeFullScreen) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tvalue === isFullScreen() && (value = !value);\n\t\t\t\t\t\t\tv[value ? requestFullScreen : exitFullScreen]();\n\t\t\t\t\t\t} catch(ex) {}\n\t\t\t\t\t} else if (fakeFullscreen) {\n\t\t\t\t\t\tv.className = value ? \"fullscreen\" : \"\";\n\t\t\t\t\t\tvalue && (h = on(window, \"keydown\", function(e) {\n\t\t\t\t\t\t\tif (e.keyCode === 27) {\n\t\t\t\t\t\t\t\tthis.fullscreen = 0;\n\t\t\t\t\t\t\t\th();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}));\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.fireEvent(\"fullscreen\", {\n\t\t\t\t\t\tentering: value\n\t\t\t\t\t});\n\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\t\t\tmediaControlStyle: {\n\t\t\t\tvalue: Media.VIDEO_CONTROL_DEFAULT,\n\t\t\t\tset: function(value) {\n\t\t\t\t\tthis._video && (this._video.controls = value === Media.VIDEO_CONTROL_DEFAULT);\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\t\t\trepeatMode: Media.VIDEO_REPEAT_MODE_NONE,\n\t\t\tscalingMode: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\tvar n = this.domNode,\n\t\t\t\t\t\tfit = Media.VIDEO_SCALING_ASPECT_FIT,\n\t\t\t\t\t\tm = {};\n\n\t\t\t\t\tm[Media.VIDEO_SCALING_NONE] = \"TiScalingNone\";\n\t\t\t\t\tm[fit] = \"TiScalingAspectFit\";\n\t\t\t\t\tn.className = n.className.replace(/(scaling\\-[\\w\\-]+)/, \"\") + ' ' + (m[value] || m[value = fit]);\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\t\t\turl: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\tthis.__values__.constants.playing = false;\n\t\t\t\t\tthis._currentState = STOPPED;\n\t\t\t\t\tthis.__values__.properties.url = value;\n\t\t\t\t\tthis._createVideo();\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tconstants: {\n\t\t\tplaybackState: Media.VIDEO_PLAYBACK_STATE_STOPPED,\n\t\t\tplaying: false,\n\t\t\tinitialPlaybackTime: 0,\n\t\t\tendPlaybackTime: 0,\n\t\t\tplayableDuration: 0,\n\t\t\tloadState: Media.VIDEO_LOAD_STATE_UNKNOWN,\n\t\t\tduration: 0\n\t\t},\n\n\t\t_set: function(type, state) {\n\t\t\tvar evt = {};\n\t\t\tevt[type] = this.__values__.constants[type] = state;\n\t\t\tthis.fireEvent(type.toLowerCase(), evt);\n\t\t},\n\n\t\t_complete: function(evt) {\n\t\t\tvar ended = evt.type === \"ended\";\n\t\t\tthis.__values__.constants.playing = false;\n\t\t\tthis._currentState = STOPPED;\n\t\t\tthis.fireEvent(\"complete\", {\n\t\t\t\treason: ended ? Media.VIDEO_FINISH_REASON_PLAYBACK_ENDED : Media.VIDEO_FINISH_REASON_USER_EXITED\n\t\t\t});\n\t\t\tended && this.repeatMode === Media.VIDEO_REPEAT_MODE_ONE && setTimeout(lang.hitch(this, function() { this._video.play(); }), 1);\n\t\t},\n\n\t\t_stalled: function() {\n\t\t\tthis._set(\"loadState\", Media.VIDEO_LOAD_STATE_STALLED);\n\t\t},\n\n\t\t_fullscreenChange: function(e) {\n\t\t\tthis.__values__.properties.fullscreen = !isFullScreen(this.fullscreen);\n\t\t},\n\n\t\t_durationChange: function() {\n\t\t\tvar d = this._video.duration * 1000,\n\t\t\t\tc = this.__values__.constants;\n\t\t\tif (d !== Infinity) {\n\t\t\t\tthis.duration || this.fireEvent(\"durationavailable\", {\n\t\t\t\t\tduration: d\n\t\t\t\t});\n\t\t\t\tc.duration = c.playableDuration = c.endPlaybackTime = d;\n\t\t\t}\n\t\t},\n\n\t\t_paused: function() {\n\t\t\tvar pbs = Media.VIDEO_PLAYBACK_STATE_STOPPED;\n\t\t\tthis.__values__.constants.playing = false;\n\t\t\tif (this._currentState === PLAYING) {\n\t\t\t\tthis._currentState = PAUSED;\n\t\t\t\tpbs = Media.VIDEO_PLAYBACK_STATE_PAUSED;\n\t\t\t} else if (this._currentState === STOPPING) {\n\t\t\t\tthis._video.currentTime = 0;\n\t\t\t}\n\t\t\tthis._set(\"playbackState\", pbs);\n\t\t},\n\n\t\t_createVideo: function(dontCreate) {\n\t\t\tvar i, match,\n\t\t\t\tvideo = this._video,\n\t\t\t\turl = this.url,\n\t\t\t\tc = this.__values__.constants;\n\n\t\t\tif (!url) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (dontCreate && video && video.parentNode) {\n\t\t\t\treturn video;\n\t\t\t}\n\n\t\t\tthis.release();\n\n\t\t\tvideo = this._video = dom.create(\"video\", {\n\t\t\t\ttabindex: 0\n\t\t\t});\n\n\t\t\tthis.mediaControlStyle === Media.VIDEO_CONTROL_DEFAULT && (video.controls = 1);\n\t\t\tthis.scalingMode = Media.VIDEO_SCALING_ASPECT_FIT;\n\n\t\t\tthis._handles = [\n\t\t\t\ton(video, \"playing\", this, function() {\n\t\t\t\t\tthis._currentState = PLAYING;\n\t\t\t\t\tc.playing = true;\n\t\t\t\t\tthis.fireEvent(\"playing\", {\n\t\t\t\t\t\turl: video.currentSrc\n\t\t\t\t\t});\n\t\t\t\t\tthis._set(\"playbackState\", Media.VIDEO_PLAYBACK_STATE_PLAYING);\n\t\t\t\t}),\n\t\t\t\ton(video, \"pause\", this, \"_paused\"),\n\t\t\t\ton(video, \"canplay\", this, function() {\n\t\t\t\t\tthis._set(\"loadState\", Media.VIDEO_LOAD_STATE_PLAYABLE);\n\t\t\t\t\tthis._currentState === STOPPED && this.autoplay && video.play();\n\t\t\t\t}),\n\t\t\t\ton(video, \"canplaythrough\", this, function() {\n\t\t\t\t\tthis._set(\"loadState\", Media.VIDEO_LOAD_STATE_PLAYTHROUGH_OK);\n\t\t\t\t\tthis.fireEvent(\"preload\");\n\t\t\t\t}),\n\t\t\t\ton(video, \"loadeddata\", this, function() {\n\t\t\t\t\tthis.fireEvent(\"load\");\n\t\t\t\t}),\n\t\t\t\ton(video, \"loadedmetadata\", this, \"_durationChange\"),\n\t\t\t\ton(video, \"durationchange\", this, \"_durationChange\"),\n\t\t\t\ton(video, \"timeupdate\", this, function() {\n\t\t\t\t\tc.currentPlaybackTime = this._video.currentTime * 1000;\n\t\t\t\t\tthis._currentState === STOPPING && this.pause();\n\t\t\t\t}),\n\t\t\t\ton(video, \"error\", this, function() {\n\t\t\t\t\tvar msg = \"Unknown error\";\n\t\t\t\t\tswitch (video.error.code) {\n\t\t\t\t\t\tcase 1: msg = \"Aborted\"; break;\n\t\t\t\t\t\tcase 2: msg = \"Decode error\"; break;\n\t\t\t\t\t\tcase 3: msg = \"Network error\"; break;\n\t\t\t\t\t\tcase 4: msg = \"Unsupported format\";\n\t\t\t\t\t}\n\t\t\t\t\tc.playing = false;\n\t\t\t\t\tthis._set(\"loadState\", Media.VIDEO_LOAD_STATE_UNKNOWN);\n\t\t\t\t\tthis.fireEvent(\"error\", {\n\t\t\t\t\t\tmessage: msg\n\t\t\t\t\t});\n\t\t\t\t\tthis.fireEvent(\"complete\", {\n\t\t\t\t\t\treason: Media.VIDEO_FINISH_REASON_PLAYBACK_ERROR\n\t\t\t\t\t});\n\t\t\t\t}),\n\t\t\t\ton(video, \"abort\", this, \"_complete\"),\n\t\t\t\ton(video, \"ended\", this, \"_complete\"),\n\t\t\t\ton(video, \"stalled\", this, \"_stalled\"),\n\t\t\t\ton(video, \"waiting\", this, \"_stalled\"),\n\t\t\t\ton(video, \"mozfullscreenchange\", this, \"_fullscreenChange\"),\n\t\t\t\ton(video, \"webkitfullscreenchange\", this, \"_fullscreenChange\")\n\t\t\t];\n\n\t\t\tthis.domNode.appendChild(video);\n\n\t\t\trequire.is(url, \"Array\") || (url = [url]);\n\n\t\t\tfor (i = 0; i < url.length; i++) {\n\t\t\t\tmatch = url[i].match(/.+\\.([^\\/\\.]+?)$/);\n\t\t\t\tdom.create(\"source\", {\n\t\t\t\t\tsrc: url[i],\n\t\t\t\t\ttype: match && mimeTypes[match[1]]\n\t\t\t\t}, video);\n\t\t\t}\n\n\t\t\treturn video;\n\t\t},\n\n\t\tplay: function() {\n\t\t\tthis._currentState !== PLAYING && this._createVideo(1).play();\n\t\t},\n\n\t\tpause: function() {\n\t\t\tthis._currentState === PLAYING && this._createVideo(1).pause();\n\t\t},\n\n\t\tdestroy: function() {\n\t\t\tthis.release();\n\t\t\tView.prototype.destroy.apply(this, arguments);\n\t\t},\n\n\t\trelease: function() {\n\t\t\tvar i,\n\t\t\t\tvideo = this._video,\n\t\t\t\tparent = video && video.parentNode;\n\t\t\tthis._currentState = STOPPED;\n\t\t\tthis.__values__.constants.playing = false;\n\t\t\tif (parent) {\n\t\t\t\tevent.off(this._handles);\n\t\t\t\tparent.removeChild(video);\n\t\t\t}\n\t\t\tthis._video = null;\n\t\t},\n\n\t\tstop: function() {\n\t\t\tvar v = this._video;\n\t\t\tthis._currentState = STOPPING;\n\t\t\tif (v) {\n\t\t\t\tv.pause();\n\t\t\t\tv.currentTime = 0;\n\t\t\t}\n\t\t}\n\n\t});\n\n});\n\n},\n\"Ti/Network/HTTPClient\":function(){\n/* /titanium/Ti/Network/HTTPClient.js */\n\ndefine([\"Ti/_\", \"Ti/_/declare\", \"Ti/_/has\", \"Ti/_/lang\", \"Ti/_/Evented\", \"Ti/Filesystem\", \"Ti/Network\", \"Ti/Blob\", \"Ti/_/event\", \"Ti/App\"],\n\tfunction(_, declare, has, lang, Evented, Filesystem, Network, Blob, event, App) {\n\n\tvar is = require.is,\n\t\ton = require.on;\n\n\treturn declare(\"Ti.Network.HTTPClient\", Evented, {\n\n\t\tconstructor: function() {\n\t\t\tvar xhr = this._xhr = new XMLHttpRequest;\n\n\t\t\tthis._handles = [\n\t\t\t\ton(xhr, \"error\", this, \"_onError\"),\n\t\t\t\txhr.upload && on(xhr.upload, \"error\", this, \"_onError\"),\n\t\t\t\ton(xhr, \"progress\", this, function(evt) {\n\t\t\t\t\tevt.progress = evt.lengthComputable ? evt.loaded / evt.total : false;\n\t\t\t\t\tis(this.ondatastream, \"Function\") && this.ondatastream.call(this, evt);\n\t\t\t\t}),\n\t\t\t\txhr.upload && on(xhr.upload, \"progress\", this, function(evt) {\n\t\t\t\t\tevt.progress = evt.lengthComputable ? evt.loaded / evt.total : false;\n\t\t\t\t\tis(this.onsendstream, \"Function\") && this.onsendstream.call(this, evt);\n\t\t\t\t})\n\t\t\t];\n\n\t\t\txhr.onreadystatechange = lang.hitch(this, function() {\n\t\t\t\tvar c = this.__values__.constants,\n\t\t\t\t\tf,\n\t\t\t\t\tonload = this.onload;\n\n\t\t\t\tswitch (xhr.readyState) {\n\t\t\t\t\tcase 0: c.readyState = this.UNSENT; break;\n\t\t\t\t\tcase 1: c.readyState = this.OPENED; break;\n\t\t\t\t\tcase 2: c.readyState = this.LOADING; break;\n\t\t\t\t\tcase 3: c.readyState = this.HEADERS_RECEIVED; break;\n\t\t\t\t\tcase 4:\n\t\t\t\t\t\tclearTimeout(this._timeoutTimer);\n\t\t\t\t\t\tthis._completed = 1;\n\t\t\t\t\t\tc.readyState = this.DONE;\n\n\t\t\t\t\t\tif (!this._aborted) {\n\t\t\t\t\t\t\tif (f = this.file) {\n\t\t\t\t\t\t\t\tf = Filesystem.getFile(f);\n\t\t\t\t\t\t\t\tf.writable && f.write(xhr.responseText);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tc.responseText = xhr.responseText;\n\t\t\t\t\t\t\tc.responseData = new Blob({\n\t\t\t\t\t\t\t\tdata: xhr.responseText,\n\t\t\t\t\t\t\t\tlength: xhr.responseText.length,\n\t\t\t\t\t\t\t\tmimeType: xhr.getResponseHeader(\"Content-Type\") || \"text/plain\"\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tc.responseXML = xhr.responseXML;\n\n\t\t\t\t\t\t\thas(\"ti-instrumentation\") && (instrumentation.stopTest(this._requestInstrumentationTest, this.location));\n\n\t\t\t\t\t\t\txhr.status >= 400 && (onload = this._onError);\n\t\t\t\t\t\t\tis(onload, \"Function\") && onload.call(this);\n\t\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis._fireStateChange();\n\t\t\t});\n\t\t},\n\n\t\tdestroy: function() {\n\t\t\tif (this._xhr) {\n\t\t\t\tthis._xhr.abort();\n\t\t\t\tthis._xhr = null;\n\t\t\t}\n\t\t\tevent.off(this._handles);\n\t\t\tEvented.destroy.apply(this, arguments);\n\t\t},\n\n\t\t_onError: function(error) {\n\t\t\tis(error, \"Object\") || (error = { message: error });\n\t\t\terror.source = this;\n\t\t\terror.type = \"error\";\n\t\t\terror.error || (error.error = error.message || this._xhr.status);\n\t\t\tparseInt(error.error) || (error.error = \"Can't reach host\");\n\t\t\tis(this.onerror, \"Function\") && this.onerror.call(this, error);\n\t\t},\n\n\t\tabort: function() {\n\t\t\tclearTimeout(this._timeoutTimer);\n\t\t\tthis._aborted = 1;\n\t\t\tthis.connected && this._xhr.abort();\n\t\t\tthis.__values__.constants.readyState = this.UNSENT;\n\t\t\tthis._fireStateChange();\n\t\t},\n\n\t\t_fireStateChange: function() {\n\t\t\tis(this.onreadystatechange, \"Function\") && this.onreadystatechange.call(this);\n\t\t},\n\n\t\tgetResponseHeader: function(name) {\n\t\t\treturn this._xhr.readyState > 1 ? this._xhr.getResponseHeader(name) : null;\n\t\t},\n\n\t\topen: function(method, url, async) {\n\t\t\tvar httpURLFormatter = Ti.Network.httpURLFormatter,\n\t\t\t\tc = this.__values__.constants,\n\t\t\t\twc = this.withCredentials,\n\t\t\t\tloc = _.getAbsolutePath(httpURLFormatter ? httpURLFormatter(url) : url),\n\t\t\t\tparts = loc.match(/^((?:.+\\:)?\\/\\/)?(?:.+@)?(.*)$/);\n\n\t\t\tif (parts && this.username && this.password) {\n\t\t\t\tloc = (parts[1] || '') + (this.domain ? this.domain + '\\\\' : '') + this.username + ':' + this.password + '@' + parts[2];\n\t\t\t}\n\n\t\t\tthis.abort();\n\t\t\tthis._xhr.open(\n\t\t\t\tc.connectionType = method,\n\t\t\t\tc.location = loc,\n\t\t\t\twc || async === void 0 ? true : !!async\n\t\t\t);\n\t\t\twc && (this._xhr.withCredentials = wc);\n\t\t},\n\n\t\tsend: function(args){\n\t\t\ttry {\n\t\t\t\tvar timeout = this.timeout | 0;\n\t\t\t\tthis._aborted = this._completed = 0;\n\t\t\t\thas(\"ti-instrumentation\") && (this._requestInstrumentationTest = instrumentation.startTest(\"HTTP Request\"));\n\t\t\t\targs = is(args, \"Object\") ? lang.urlEncode(args) : args;\n\t\t\t\tthis._contentTypeSet || args && this._xhr.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\n\t\t\t\tthis._xhr.setRequestHeader('X-Titanium-Id', App.guid);\n\t\t\t\tthis._xhr.send(args);\n\t\t\t\tclearTimeout(this._timeoutTimer);\n\t\t\t\ttimeout && (this._timeoutTimer = setTimeout(lang.hitch(this, function() {\n\t\t\t\t\tif (this.connected) {\n\t\t\t\t\t\tthis.abort();\n\t\t\t\t\t\t!this._completed && this._onError(\"Request timed out\");\n\t\t\t\t\t}\n\t\t\t\t}), timeout));\n\t\t\t} catch (ex) {}\n\t\t},\n\n\t\tsetRequestHeader: function(name, value) {\n\t\t\tname === 'Content-Type' && (this._contentTypeSet = 1);\n\t\t\tthis._xhr.setRequestHeader(name, value);\n\t\t},\n\n\t\tproperties: {\n\t\t\tondatastream: void 0,\n\t\t\tonerror: void 0,\n\t\t\tonload: void 0,\n\t\t\tonreadystatechange: void 0,\n\t\t\tonsendstream: void 0,\n\t\t\ttimeout: void 0,\n\t\t\tusername: null,\n\t\t\tpassword: null,\n\t\t\tdomain: null,\n\t\t\twithCredentials: false\n\t\t},\n\n\t\tconstants: {\n\t\t\tDONE: 4,\n\n\t\t\tHEADERS_RECEIVED: 2,\n\n\t\t\tLOADING: 3,\n\n\t\t\tOPENED: 1,\n\n\t\t\tUNSENT: 1,\n\n\t\t\tconnected: function() {\n\t\t\t\treturn this.readyState >= this.OPENED;\n\t\t\t},\n\n\t\t\tconnectionType: void 0,\n\n\t\t\tlocation: void 0,\n\n\t\t\treadyState: this.UNSENT,\n\n\t\t\tresponseData: void 0,\n\n\t\t\tresponseText: void 0,\n\n\t\t\tresponseXML: void 0,\n\n\t\t\tstatus: function() {\n\t\t\t\treturn this._xhr.status;\n\t\t\t},\n\n\t\t\tstatusText: function() {\n\t\t\t\treturn this._xhr.statusText;\n\t\t\t}\n\t\t}\n\n\t});\n\n});\n\n},\n\"Ti/Platform/DisplayCaps\":function(){\n/* /titanium/Ti/Platform/DisplayCaps.js */\n\ndefine([\"Ti/_\", \"Ti/_/Evented\", \"Ti/_/lang\"], function(_, Evented, lang) {\n\n\tvar ua = navigator.userAgent.toLowerCase(),\n\t\tdc = lang.setObject(\"Ti.Platform.DisplayCaps\", Evented, {\n\t\t\tconstants: {\n\t\t\t\tdensity: function(){\n\t\t\t\t\tswitch (ua) {\n\t\t\t\t\t\tcase \"iphone\":\n\t\t\t\t\t\t\treturn \"medium\";\n\t\t\t\t\t\tcase \"ipad\":\n\t\t\t\t\t\t\treturn \"medium\";\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\treturn \"\";\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\tdpi: _.dpi,\n\t\n\t\t\t\tplatformHeight: window.innerHeight,\n\t\n\t\t\t\tplatformWidth: window.innerWidth\n\t\t\t}\n\t\t});\n\n\treturn Ti.Platform.displayCaps = dc;\n\n});\n},\n\"Ti/UI/2DMatrix\":function(){\n/* /titanium/Ti/UI/2DMatrix.js */\n\ndefine([\"Ti/_/declare\", \"Ti/_/Evented\", \"Ti/_/lang\", \"Ti/Platform\"],\n\tfunction(declare, Evented, lang, Platform) {\n\n\tvar isFF = Platform.runtime === \"gecko\",\n\t\tapi,\n\t\tpx = function(x) {\n\t\t\treturn isFF ? x + \"px\" : x;\n\t\t};\n\n\tfunction detMinor(y, x, m) {\n\t\tvar x1 = x == 0 ? 1 : 0,\n\t\t\tx2 = x == 2 ? 1 : 2,\n\t\t\ty1 = y == 0 ? 1 : 0,\n\t\t\ty2 = y == 2 ? 1 : 2;\n\t\treturn (m[y1][x1] * m[y2][x2]) - (m[y1][x2] * m[y2][x1]);\n\t}\n\n\tfunction mult(obj, a, b, c, d, tx, ty, r) {\n\t\treturn {\n\t\t\ta: obj.a * a + obj.b * c,\n\t\t\tb: obj.a * b + obj.b * d,\n\t\t\tc: obj.c * a + obj.d * c,\n\t\t\td: obj.c * b + obj.d * d,\n\t\t\ttx: obj.a * tx + obj.b * ty + obj.tx,\n\t\t\tty: obj.c * tx + obj.d * ty + obj.ty,\n\t\t\trotation: obj.rotation + (r | 0)\n\t\t};\n\t}\n\n\treturn api = declare(\"Ti.UI.2DMatrix\", Evented, {\n\n\t\tproperties: {\n\t\t\ta: 1,\n\t\t\tb: 0,\n\t\t\tc: 0,\n\t\t\td: 1,\n\t\t\ttx: 0,\n\t\t\tty: 0,\n\t\t\trotation: 0\n\t\t},\n\n\t\tconstructor: function(matrix) {\n\t\t\tmatrix && require.mix(this, matrix);\n\t\t},\n\n\t\tinvert: function() {\n\t\t\tvar x = 0,\n\t\t\t\ty = 0,\n\t\t\t\tm = [[this.a, this.b, this.tx], [this.c, this.d, this.ty], [0, 0, 1]],\n\t\t\t\tn = m,\n\t\t\t\tdet = this.a * detMinor(0, 0, m) - this.b * detMinor(0, 1, m) + this.tx * detMinor(0, 2, m);\n\n\t\t\tif (Math.abs(det) > 1e-10) {\n\t\t\t\tdet = 1.0 / det;\n\t\t\t\tfor (; y < 3; y++) {\n\t\t\t\t\tfor (; x < 3; x++) {\n\t\t\t\t\t\tn[y][x] = detMinor(x, y, m) * det;\n\t\t\t\t\t\t(x + y) % 2 == 1 && (n[y][x] = -n[y][x]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn new api(mult(this, n[0][0], n[0][1], n[1][0], n[1][1], n[0][2], n[1][2]));\n\t\t},\n\n\t\tmultiply: function(other) {\n\t\t\treturn new api(mult(this, other.a, other.b, other.c, other.d, other.tx, other.ty, other.rotation));\n\t\t},\n\n\t\trotate: function(angle) {\n\t\t\treturn new api({ a: this.a, b: this.b, c: this.c, d: this.d, tx: this.tx, ty: this.ty, rotation: this.rotation + angle });\n\t\t},\n\n\t\tscale: function(x, y) {\n\t\t\treturn new api(mult(this, x, 0, 0, lang.val(y, x), 0, 0));\n\t\t},\n\n\t\ttranslate: function(x, y) {\n\t\t\treturn new api(mult(this, 1, 0, 0, 1, x, y));\n\t\t},\n\n\t\ttoCSS: function() {\n\t\t\tvar i = 0,\n\t\t\t\tv = [this.a, this.b, this.c, this.d, this.tx, this.ty];\n\t\n\t\t\tfor (; i < 6; i++) {\n\t\t\t\tv[i] = v[i].toFixed(6);\n\t\t\t\ti > 4 && (v[i] = px(v[i]));\n\t\t\t}\n\n\t\t\treturn \"matrix(\" + v.join(\",\") + \") rotate(\" + this.rotation + \"deg)\";\n\t\t}\n\n\t});\n\n});\n\n},\n\"Ti/UI/ActivityIndicator\":function(){\n/* /titanium/Ti/UI/ActivityIndicator.js */\n\ndefine(['Ti/_/declare', 'Ti/_/lang', 'Ti/_/UI/Widget', 'Ti/_/dom', 'Ti/_/style', 'Ti/Locale', 'Ti/UI', 'Ti/UI/ActivityIndicatorStyle'],\n\tfunction(declare, lang, Widget, dom, style, Locale, UI, ActivityIndicatorStyle) {\n\n\tvar opacity = 0.3,\n\t\tsetStyle = style.set;\n\n\treturn declare('Ti.UI.ActivityIndicator', Widget, {\n\n\t\tconstructor: function() {\n\t\t\tvar contentContainer = this._contentContainer = UI.createView({\n\t\t\t\t\tlayout: UI._LAYOUT_CONSTRAINING_HORIZONTAL,\n\t\t\t\t\twidth: UI.SIZE,\n\t\t\t\t\theight: UI.SIZE\n\t\t\t\t});\n\t\t\tthis._add(contentContainer);\n\n\t\t\tWidget.prototype.hide.call(this);\n\n\t\t\tcontentContainer._add(this._indicatorIndicator = UI.createView());\n\t\t\tcontentContainer._add(this._indicatorMessage = UI.createLabel());\n\n\t\t\tthis._createProngs();\n\t\t},\n\n\t\t_createProngs: function() {\n\n\t\t\tvar i = 0,\n\t\t\t\tprongs = this._prongs = [],\n\t\t\t\tindicator = this._indicatorIndicator,\n\t\t\t\tindicatorDomNode = indicator.domNode,\n\t\t\t\tbackgroundColor = this.indicatorColor,\n\t\t\t\tdiameter = this.indicatorDiameter,\n\t\t\t\tscale = diameter / 36,\n\t\t\t\tprongContainer;\n\n\t\t\t// Set the container size\n\t\t\tindicator.width = indicator.height = diameter;\n\n\t\t\t// Remove any old children\n\t\t\twhile (indicatorDomNode.firstChild) {\n\t\t\t\tindicatorDomNode.removeChild(indicatorDomNode.firstChild);\n\t\t\t}\n\n\t\t\t// Add the prong container\n\t\t\tprongContainer = dom.create('div', {\n\t\t\t\tclassName: 'TiUIActivityIndicatorProngContainer',\n\t\t\t\tstyle: {\n\t\t\t\t\ttransformOrigin: '0px 0px',\n\t\t\t\t\ttransform: 'scale(' + scale + ')'\n\t\t\t\t}\n\t\t\t}, indicatorDomNode);\n\n\t\t\t// Add the new prongs\n\t\t\tfor (; i < 12; i++) {\n\t\t\t\tprongs.push(dom.create('div', {\n\t\t\t\t\tclassName: 'TiUIActivityIndicatorProng',\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\ttransform: 'translate(16px,0px) rotate(' + i * 30 + 'deg)',\n\t\t\t\t\t\ttransformOrigin: '2px 18px',\n\t\t\t\t\t\topacity: opacity,\n\t\t\t\t\t\tbackgroundColor: backgroundColor\n\t\t\t\t\t}\n\t\t\t\t}, prongContainer));\n\t\t\t}\n\t\t},\n\n\t\tshow: function() {\n\t\t\tWidget.prototype.show.call(this);\n\t\t\tthis._timer = setInterval(lang.hitch(this, '_animate'), 100);\n\t\t},\n\n\t\thide: function() {\n\t\t\tclearTimeout(this._timer);\n\t\t\tWidget.prototype.hide.call(this);\n\t\t},\n\n\t\t_currentProng: 0,\n\n\t\t_animate: function() {\n\t\t\tvar prong = this._prongs[this._currentProng];\n\t\t\t++this._currentProng == 12 && (this._currentProng = 0);\n\t\t\tsetStyle(prong, 'transition', '');\n\t\t\tsetTimeout(function() {\n\t\t\t\tsetStyle(prong, 'opacity', 1);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tsetStyle(prong, 'transition', 'opacity 500ms linear 0ms');\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tsetStyle(prong, 'opacity', opacity);\n\t\t\t\t\t}, 1);\n\t\t\t\t}, 1);\n\t\t\t}, 1);\n\t\t},\n\n\t\t_defaultWidth: UI.SIZE,\n\n\t\t_defaultHeight: UI.SIZE,\n\n\t\t_messagePadding: 0,\n\n\t\tproperties: {\n\t\t\tcolor: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\treturn this._indicatorMessage.color = value;\n\t\t\t\t}\n\t\t\t},\n\t\t\tfont: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\treturn this._indicatorMessage.font = value;\n\t\t\t\t}\n\t\t\t},\n\t\t\tindicatorColor: {\n\t\t\t\tpost: '_createProngs',\n\t\t\t\tvalue: '#fff'\n\t\t\t},\n\t\t\tindicatorDiameter: {\n\t\t\t\tpost: '_createProngs',\n\t\t\t\tvalue: 36\n\t\t\t},\n\t\t\tmessage: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\tvar indicatorMessage = this._indicatorMessage;\n\t\t\t\t\tindicatorMessage.left = value ? 5 : 0;\n\t\t\t\t\treturn indicatorMessage.text = value;\n\t\t\t\t}\n\t\t\t},\n\t\t\tmessageid: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\tvar indicatorMessage = this._indicatorMessage;\n\t\t\t\t\tindicatorMessage.left = value ? 5 : 0;\n\t\t\t\t\treturn indicatorMessage.textid = value;\n\t\t\t\t}\n\t\t\t},\n\t\t\tstyle: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\tif (~[ActivityIndicatorStyle.DARK, ActivityIndicatorStyle.BIG_DARK].indexOf(value)) {\n\t\t\t\t\t\tthis.indicatorColor = '#444';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.indicatorColor = '#fff';\n\t\t\t\t\t}\n\t\t\t\t\tif (~[ActivityIndicatorStyle.BIG, ActivityIndicatorStyle.BIG_DARK].indexOf(value)) {\n\t\t\t\t\t\tthis.indicatorDiameter = 72;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.indicatorDiameter = 36;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t});\n});\n},\n\"Ti/UI/ActivityIndicatorStyle\":function(){\n/* /titanium/Ti/UI/ActivityIndicatorStyle.js */\n\ndefine([\"Ti/_/lang\"], function(lang) {\n\n\treturn lang.setObject(\"Ti.UI.ActivityIndicatorStyle\", {\n\t\tconstants: {\n\t\t\tBIG: 0,\n\t\t\tBIG_DARK: 1,\n\t\t\tDARK: 2,\n\t\t\tPLAIN: 3\n\t\t}\n\t});\n\t\n});\n},\n\"Ti/UI/AlertDialog\":function(){\n/* /titanium/Ti/UI/AlertDialog.js */\n\n/*global define*/\ndefine(['Ti/_/css', 'Ti/_/declare', 'Ti/_/lang', 'Ti/_/Evented', 'Ti/Locale', 'Ti/UI', 'Ti/_/style'],\n\tfunction(css, declare, lang, Evented, Locale, UI, style) {\n\n\treturn declare('Ti.UI.AlertDialog', Evented, {\n\n\t\tshow: function() {\n\t\t\t// Create the window and a background to dim the current view\n\t\t\tvar alertWindow = this._alertWindow = UI.createWindow(),\n\t\t\t\tdimmingView = UI.createView({\n\t\t\t\t\tbackgroundColor: 'black',\n\t\t\t\t\topacity: 0,\n\t\t\t\t\tleft: 0,\n\t\t\t\t\ttop: 0,\n\t\t\t\t\tright: 0,\n\t\t\t\t\tbottom: 0\n\t\t\t\t}),\n\t\t\t\talertDialog = UI.createView({\n\t\t\t\t\tbackgroundColor: 'white',\n\t\t\t\t\tborderRadius: 3,\n\t\t\t\t\theight: UI.SIZE,\n\t\t\t\t\tlayout: UI._LAYOUT_CONSTRAINING_VERTICAL,\n\t\t\t\t\topacity: 0,\n\t\t\t\t\twidth: '50%'\n\t\t\t\t}),\n\t\t\t\tbuttons = this.buttonNames || [];\n\n\t\t\talertWindow._add(dimmingView);\n\t\t\talertWindow._add(alertDialog);\n\t\t\tstyle.set(alertWindow.domNode, 'zIndex', 2147483647);\n\n\t\t\t// Add the title\n\t\t\talertDialog._add(UI.createLabel({\n\t\t\t\ttext: Locale._getString(this.titleid, this.title),\n\t\t\t\tfont: {fontWeight: 'bold'},\n\t\t\t\tleft: 5,\n\t\t\t\tright: 5,\n\t\t\t\ttop: 5,\n\t\t\t\theight: UI.SIZE,\n\t\t\t\ttextAlign: UI.TEXT_ALIGNMENT_CENTER\n\t\t\t}));\n\n\t\t\t// Add the message\n\t\t\talertDialog._add(UI.createLabel({\n\t\t\t\ttext: Locale._getString(this.messageid, this.message),\n\t\t\t\tleft: 5,\n\t\t\t\tright: 5,\n\t\t\t\ttop: 5,\n\t\t\t\theight: UI.SIZE,\n\t\t\t\ttextAlign: UI.TEXT_ALIGNMENT_CENTER\n\t\t\t}));\n\n\t\t\tbuttons.length || buttons.push(Locale._getString(this.okid, this.ok || 'OK'));\n\n\t\t\tbuttons.forEach(function(title, i) {\n\t\t\t\tvar button = UI.createButton({\n\t\t\t\t\tleft: 5,\n\t\t\t\t\tright: 5,\n\t\t\t\t\ttop: 5,\n\t\t\t\t\tbottom: i === buttons.length - 1 ? 5 : 0,\n\t\t\t\t\theight: UI.SIZE,\n\t\t\t\t\ttitle: title,\n\t\t\t\t\tindex: i\n\t\t\t\t});\n\t\t\t\ti === this.cancel && css.add(button.domNode, 'TiUIElementGradientCancel');\n\t\t\t\talertDialog.add(button);\n\t\t\t\tbutton.addEventListener('singletap', lang.hitch(this, function(){\n\t\t\t\t\talertWindow.close();\n\t\t\t\t\tthis._alertWindow = void 0;\n\t\t\t\t\tthis.fireEvent('click', {\n\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\tcancel: this.cancel === i\n\t\t\t\t\t});\n\t\t\t\t}));\n\t\t\t}, this);\n\n\t\t\t// Animate the background after waiting for the first layout to occur\n\t\t\tdimmingView.addEventListener('postlayout', function() {\n\t\t\t\tsetTimeout(function(){ // We have to wait for the entire layout pass to complete and the CSS rules to be applied.\n\t\t\t\t\tdimmingView.animate({\n\t\t\t\t\t\topacity: 0.5,\n\t\t\t\t\t\tduration: 200\n\t\t\t\t\t}, function(){\n\t\t\t\t\t\talertDialog.animate({\n\t\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\t\tduration: 200\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}, 0);\n\t\t\t});\n\n\t\t\t// Show the alert dialog\n\t\t\talertWindow.open();\n\t\t},\n\n\t\thide: function() {\n\t\t\tthis._alertWindow && this._alertWindow.close();\n\t\t},\n\n\t\tproperties: {\n\t\t\tbuttonNames: void 0,\n\t\t\tcancel: -1,\n\t\t\tmessage: void 0,\n\t\t\tmessageid: void 0,\n\t\t\tok: void 0,\n\t\t\tokid: void 0,\n\t\t\ttitle: void 0,\n\t\t\ttitleid: void 0\n\t\t}\n\n\t});\n\n});\n\n},\n\"Ti/UI/Clipboard\":function(){\n/* /titanium/Ti/UI/Clipboard.js */\n\ndefine([\"Ti/_/Evented\", \"Ti/_/lang\"], function(Evented, lang) {\n\n\tvar storageKey = \"ti:clipboard\",\n\t\tplainText = \"text/plain\",\n\t\terror = 'Missing required argument \"type\"',\n\t\tvalue = localStorage.getItem(storageKey),\n\t\tcache = (require.is(value, \"String\") && JSON.parse(value)) || {};\n\n\tfunction get(type) {\n\t\tif (!type) {\n\t\t\tthrow new Error(error);\n\t\t}\n\t\treturn cache[type];\n\t}\n\n\tfunction set(type, data) {\n\t\tif (!type) {\n\t\t\tthrow new Error(error);\n\t\t}\n\t\tif (data) {\n\t\t\tcache[type] = data;\n\t\t} else {\n\t\t\tdelete cache[type];\n\t\t}\n\t\tsave()\n\t}\n\n\tfunction save() {\n\t\tlocalStorage.setItem(storageKey, JSON.stringify(cache));\n\t}\n\n\treturn lang.setObject(\"Ti.UI.Clipboard\", Evented, {\n\n\t\tclearData: function() {\n\t\t\tcache = {};\n\t\t\tsave();\n\t\t},\n\n\t\tclearText: function() {\n\t\t\tset(plainText);\n\t\t},\n\n\t\tgetData: function(type) {\n\t\t\treturn get(type) || null;\n\t\t},\n\n\t\tgetText: function() {\n\t\t\treturn get(plainText) || null;\n\t\t},\n\n\t\thasData: function(type) {\n\t\t\treturn !!get(type);\n\t\t},\n\n\t\thasText: function() {\n\t\t\treturn !!get(plainText);\n\t\t},\n\n\t\tsetData: function(type, data) {\n\t\t\tset(type, data);\n\t\t},\n\n\t\tsetText: function(text) {\n\t\t\tset(plainText, text);\n\t\t}\n\n\t});\n\n});\n},\n\"Ti/UI/EmailDialog\":function(){\n/* /titanium/Ti/UI/EmailDialog.js */\n\ndefine([\"Ti/_\", \"Ti/_/declare\", \"Ti/_/Evented\", \"Ti/_/lang\"],\n\tfunction(_, declare, Evented, lang) {\n\n\treturn declare(\"Ti.UI.EmailDialog\", Evented, {\n\n\t\topen: function() {\n\t\t\tvar r = this.toRecipients || [],\n\t\t\t\turl = \"mailto:\" + r.join(\",\"),\n\t\t\t\ti, j,\n\t\t\t\tfields = {\n\t\t\t\t\tsubject: \"subject\",\n\t\t\t\t\tccRecipients: \"cc\",\n\t\t\t\t\tbccRecipients: \"bcc\",\n\t\t\t\t\tmessageBody: \"body\"\n\t\t\t\t},\n\t\t\t\tparams = {};\n\n\t\t\tfor (i in fields) {\n\t\t\t\tif (j = this[i]) {\n\t\t\t\t\trequire.is(j, \"Array\") && (j = j.join(\",\"));\n\t\t\t\t\tparams[fields[i]] = j;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.html || params.body && (params.body = _.escapeHtmlEntities(params.body));\n\t\t\tparams = lang.urlEncode(params);\n\n\t\t\tlocation.href = url + (params ? \"?\" + params : \"\");\n\n\t\t\tthis.fireEvent(\"complete\", {\n\t\t\t\tresult: this.SENT,\n\t\t\t\tsuccess: true\n\t\t\t});\n\t\t},\n\t\t\n\t\tisSupported: function() {\n\t\t\treturn true;\n\t\t},\n\n\t\tconstants: {\n\t\t\tCANCELLED: 0,\n\t\t\tFAILED: 3,\n\t\t\tSAVED: 1,\n\t\t\tSENT: 2\n\t\t},\n\n\t\tproperties: {\n\t\t    bccRecipients: void 0,\n\t\t    ccRecipients: void 0,\n\t\t    html: false,\n\t\t    messageBody: void 0,\n\t\t    subject: void 0,\n\t\t    toRecipients: void 0\n\t\t}\n\n\t});\n\n});\n\n},\n\"Ti/UI/ImageView\":function(){\n/* /titanium/Ti/UI/ImageView.js */\n\ndefine([\"Ti/_/declare\", \"Ti/_/event\", \"Ti/_/lang\", \"Ti/_/style\", \"Ti/_/UI/Widget\", \"Ti/UI\", \"Ti/Filesystem\"],\n\tfunction(declare, event, lang, style, Widget, UI, Filesystem) {\n\n\tvar setStyle = style.set,\n\t\tis = require.is,\n\t\ton = require.on,\n\t\tInternalImageView = declare(Widget, {\n\n\t\t\tdomType: \"img\",\n\t\t\tonload: null,\n\t\t\tonerror: null,\n\n\t\t\tconstructor: function() {\n\t\t\t\tthis.domNode.ondragstart = function() { return false; }; // Prevent images from being dragged\n\t\t\t},\n\n\t\t\t_getContentSize: function() {\n\t\t\t\treturn {\n\t\t\t\t\twidth: this.domNode.width,\n\t\t\t\t\theight: this.domNode.height\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t_preLayout: function(boundingWidth, boundingHeight, isParentWidthSize, isParentHeightSize) {\n\t\t\t\t// We have to remove the old style to get the image to scale to its default size,\n\t\t\t\t// otherwise we are just reading in whatever we set in the last doLayout(), which is\n\t\t\t\t// 0 if the image was not loaded...thus always clamping it to 0.\n\t\t\t\tthis.domNode.style.width = \"\";\n\t\t\t\tthis.domNode.style.height = \"\";\n\n\t\t\t\tvar imageRatio = this.domNode.width / this.domNode.height,\n\t\t\t\t\tvalues = this.__values__.properties,\n\t\t\t\t\toldWidth = values.width,\n\t\t\t\t\toldHeight = values.height;\n\n\t\t\t\tif (!isParentWidthSize && !isParentHeightSize) {\n\t\t\t\t\tif (boundingWidth / boundingHeight > imageRatio) {\n\t\t\t\t\t\tvalues.width = boundingHeight * imageRatio;\n\t\t\t\t\t\tvalues.height = boundingHeight;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvalues.width = boundingWidth;\n\t\t\t\t\t\tvalues.height = boundingWidth / imageRatio;\n\t\t\t\t\t}\n\t\t\t\t} else if (!isParentWidthSize) {\n\t\t\t\t\tvalues.width = boundingWidth;\n\t\t\t\t\tvalues.height = boundingWidth / imageRatio;\n\t\t\t\t} else if (!isParentHeightSize) {\n\t\t\t\t\tvalues.width = boundingHeight * imageRatio;\n\t\t\t\t\tvalues.height = boundingHeight;\n\t\t\t\t} else {\n\t\t\t\t\tvalues.width = UI.SIZE;\n\t\t\t\t\tvalues.height = UI.SIZE;\n\t\t\t\t}\n\n\t\t\t\treturn oldWidth !== values.width || oldHeight !== values.height;\n\t\t\t},\n\n\t\t\t_imageRatio: 1,\n\n\t\t\tproperties: {\n\t\t\t\tsrc: {\n\t\t\t\t\tset: function(value) {\n\t\t\t\t\t\tvar node = this.domNode,\n\t\t\t\t\t\t\tdisp = \"none\",\n\t\t\t\t\t\t\thandles,\n\t\t\t\t\t\t\tonerror = lang.hitch(this, function(e) {\n\t\t\t\t\t\t\t\tevent.off(handles);\n\t\t\t\t\t\t\t\tthis._triggerLayout();\n\t\t\t\t\t\t\t\tthis.onerror && this.onerror(e);\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (value) {\n\t\t\t\t\t\t\tvalue = value.replace(/^(\\/|\\.\\/)/, '');\n\t\t\t\t\t\t\tdisp = \"inherit\";\n\t\t\t\t\t\t\thandles = [\n\t\t\t\t\t\t\t\ton(node, \"load\", this, function() {\n\t\t\t\t\t\t\t\t\tnode.style.width = \"\";\n\t\t\t\t\t\t\t\t\tnode.style.height = \"\";\n\t\t\t\t\t\t\t\t\tvar imageRatio = node.width / node.height;\n\t\t\t\t\t\t\t\t\tisNaN(imageRatio) && (imageRatio = node.width === 0 ? 1 : Infinity);\n\t\t\t\t\t\t\t\t\tthis._imageRatio = imageRatio;\n\t\t\t\t\t\t\t\t\tthis._triggerLayout();\n\t\t\t\t\t\t\t\t\tthis.onload && this.onload();\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\ton(node, \"error\", onerror),\n\t\t\t\t\t\t\t\ton(node, \"abort\", onerror)\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\tnode.src = require.cache(value) || value;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tsetStyle(node, \"display\", disp);\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\treturn declare(\"Ti.UI.ImageView\", Widget, {\n\n\t\t_createImage: function(src, onload, onerror) {\n\t\t\tvar m = is(src, \"String\") && src.match(/^(.+)\\:\\/\\//);\n\t\t\tm && ~Filesystem.protocols.indexOf(m[1]) && (src = Filesystem.getFile(src));\n\t\t\tswitch (src && src.declaredClass) {\n\t\t\t\tcase \"Ti.Filesystem.File\":\n\t\t\t\t\tsrc = src.read();\n\t\t\t\tcase \"Ti.Blob\":\n\t\t\t\t\tsrc = src.toString();\n\t\t\t}\n\t\t\treturn new InternalImageView({\n\t\t\t\tonload: onload,\n\t\t\t\tonerror: onerror,\n\t\t\t\tsrc: src\n\t\t\t});\n\t\t},\n\n\t\t_defaultWidth: UI.SIZE,\n\n\t\t_defaultHeight: UI.SIZE,\n\n\t\t_slideshowCount: 0,\n\n\t\t_setSlideshowInterval: function() {\n\t\t\tvar self = this,\n\t\t\t\timgs = self._images;\n\t\t\tclearInterval(this._slideshowTimer);\n\n\t\t\tthis._slideshowTimer = setInterval(function(){\n\t\t\t\tvar rollover = false;\n\n\t\t\t\tsetStyle(imgs[self._currentIndex].domNode, \"display\", \"none\");\n\n\t\t\t\tif (self.reverse) {\n\t\t\t\t\tif (--self._currentIndex === 0) {\n\t\t\t\t\t\tself._currentIndex = self.images.length - 1;\n\t\t\t\t\t\trollover = true;\n\t\t\t\t\t}\n\t\t\t\t} else if (++self._currentIndex === self.images.length) {\n\t\t\t\t\tself._currentIndex = 0;\n\t\t\t\t\trollover = true;\n\t\t\t\t}\n\n\t\t\t\tsetStyle(imgs[self._currentIndex].domNode, \"display\", \"inherit\");\n\n\t\t\t\tif (self.repeatCount && rollover && ++self._slideshowCount === self.repeatCount) {\n\t\t\t\t\tself.stop();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tself.fireEvent(\"change\", {\n\t\t\t\t\tindex: self._currentIndex\n\t\t\t\t});\n\t\t\t}, this.duration);\n\t\t},\n\n\t\tstart: function(){\n\t\t\tif (this._images) {\n\t\t\t\tthis._setState(0, 1);\n\t\t\t\tthis._slideshowCount = 0;\n\t\t\t\tthis._setSlideshowInterval();\n\t\t\t\tthis.fireEvent(\"start\");\n\t\t\t}\n\t\t},\n\n\t\tstop: function(){\n\t\t\tvar imgs = this._images;\n\t\t\tif (imgs) {\n\t\t\t\tclearInterval(this._slideshowTimer);\n\t\t\t\tif (imgs.length) {\n\t\t\t\t\tvar start = 0;\n\t\t\t\t\tthis.reverse && (start = imgs.length - 1);\n\t\t\t\t\tthis._currentIndex && setStyle(imgs[this._currentIndex].domNode, \"display\", \"none\");\n\t\t\t\t\tsetStyle(imgs[start].domNode, \"display\", \"inherit\");\n\t\t\t\t\tthis._currentIndex = start;\n\t\t\t\t}\n\t\t\t\tthis._setState(0, 0);\n\t\t\t\tthis.fireEvent(\"stop\");\n\t\t\t}\n\t\t},\n\n\t\tpause: function(){\n\t\t\tif (this._images) {\n\t\t\t\tclearInterval(this._slideshowTimer);\n\t\t\t\tthis._setState(1, 0);\n\t\t\t\tthis.fireEvent(\"pause\");\n\t\t\t}\n\t\t},\n\n\t\tresume: function() {\n\t\t\tif (this._images) {\n\t\t\t\tthis._setSlideshowInterval();\n\t\t\t\tthis._setState(0, 1);\n\t\t\t}\n\t\t},\n\n\t\t_setState: function(paused, animating) {\n\t\t\tvar c = this.__values__.constants;\n\t\t\tc.paused = !!paused;\n\t\t\tc.animating = !!animating;\n\t\t},\n\n\t\tconstants: {\n\t\t\tanimating: false,\n\t\t\tpaused: false\n\t\t},\n\n\t\tproperties: {\n\t\t\tduration: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\treturn Math.max(30, value);\n\t\t\t\t},\n\t\t\t\tvalue: 200\n\t\t\t},\n\n\t\t\timage: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\tthis._removeAllChildren();\n\t\t\t\t\tthis._images = void 0;\n\t\t\t\t\tvar self = this; //Need to get event context\n\t\t\t\t\tthis._add(this._createImage(value, function() {\n\t\t\t\t\t\tself.fireEvent(\"load\", {\n\t\t\t\t\t\t\tstate: \"image\"\n\t\t\t\t\t\t});\n\t\t\t\t\t}, function(e) {\n\t\t\t\t\t\tthis.fireEvent(\"error\", e);\n\t\t\t\t\t}));\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\timages: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\tvar imgs = void 0,\n\t\t\t\t\t\tcounter = 0,\n\t\t\t\t\t\terrored = 0;\n\t\t\t\t\tthis._removeAllChildren();\n\t\t\t\t\tif (is(value, \"Array\")) {\n\t\t\t\t\t\timgs = [];\n\t\t\t\t\t\tvalue.forEach(function(val) {\n\t\t\t\t\t\t\tvar img = this._createImage(val, function() {\n\t\t\t\t\t\t\t\t!errored && ++counter === value.length && this.fireEvent(\"load\", {\n\t\t\t\t\t\t\t\t\tstate: \"image\"\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}, function(e) {\n\t\t\t\t\t\t\t\terrored || (errored = 1) && this.fireEvent(\"error\", e);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tsetStyle(img.domNode, \"display\", \"none\");\n\t\t\t\t\t\t\timgs.push(img);\n\t\t\t\t\t\t\tthis._add(img);\n\t\t\t\t\t\t}, this);\n\t\t\t\t\t}\n\t\t\t\t\tthis._images = imgs;\n\t\t\t\t\treturn value;\n\t\t\t\t},\n\n\t\t\t\tpost: function() {\n\t\t\t\t\tthis.stop();\n\t\t\t\t}\n\t\t\t},\n\n\t\t\trepeatCount: 0,\n\n\t\t\treverse: false\n\t\t}\n\n\t});\n\n});\n},\n\"Ti/UI/Label\":function(){\n/* /titanium/Ti/UI/Label.js */\n\ndefine(['Ti/_/declare', 'Ti/_/UI/FontWidget', 'Ti/_/dom', 'Ti/_/css', 'Ti/_/style', 'Ti/_/lang', 'Ti/Locale', 'Ti/UI'],\n\tfunction(declare, FontWidget, dom, css, style, lang, Locale, UI) {\n\n\tvar setStyle = style.set,\n\t\tunitize = dom.unitize,\n\t\ttabStop = 2,\n\t\ttextPost = {\n\t\t\tpost: '_setText'\n\t\t};\n\n\treturn declare('Ti.UI.Label', FontWidget, {\n\n\t\tconstructor: function() {\n\t\t\tthis._add(this._textContainer = UI.createView({\n\t\t\t\twidth: UI.INHERIT,\n\t\t\t\theight: UI.SIZE,\n\t\t\t\tcenter: {y: '50%'}\n\t\t\t}));\n\n\t\t\tvar self = this,\n\t\t\t\ttextContainerDomNode = this._textContainerDomNode = this._textContainer.domNode;\n\t\t\tself._textContainer._getContentSize = function(width) {\n\t\t\t\tvar text = self._textContainerDomNode.innerHTML,\n\t\t\t\t\tmeasuredSize = self._measureText(text, textContainerDomNode, self._hasSizeWidth() ? void 0 : width);\n\t\t\t\treturn {\n\t\t\t\t\twidth: measuredSize.width,\n\t\t\t\t\theight: measuredSize.height\n\t\t\t\t};\n\t\t\t};\n\n\t\t\tthis._addStyleableDomNode(textContainerDomNode);\n\t\t\tsetStyle(textContainerDomNode, 'overflow', 'visible');\n\t\t\tthis.wordWrap = true;\n\t\t},\n\n\t\t_defaultWidth: UI.SIZE,\n\n\t\t_defaultHeight: UI.SIZE,\n\n\t\t_getText: function() {\n\t\t\tvar i,\n\t\t\t\tlineStartIndex = 0,\n\t\t\t\tcurrentIndex = 0,\n\t\t\t\tcurrentTabIndex,\n\t\t\t\ttext = Locale._getString(this.textid, this.text);\n\n\t\t\t// Handle null, undefined, etc edge case\n\t\t\tif (text === void 0) {\n\t\t\t\treturn '';\n\t\t\t}\n\t\t\ttext += '';\n\n\t\t\t// Convert \\t and \\n to &nbsp;'s and <br/>'s\n\t\t\twhile (currentIndex < text.length) {\n\t\t\t\tif (text[currentIndex] === '\\t') {\n\t\t\t\t\tvar tabSpaces = '',\n\t\t\t\t\t\tnumSpacesToInsert = tabStop - (currentTabIndex) % tabStop;\n\t\t\t\t\tfor (i = 0; i < numSpacesToInsert; i++) {\n\t\t\t\t\t\ttabSpaces += '&nbsp;';\n\t\t\t\t\t}\n\t\t\t\t\ttext = text.substring(0, currentIndex) + tabSpaces + text.substring(currentIndex + 1);\n\t\t\t\t\tcurrentIndex += tabSpaces.length;\n\t\t\t\t\tcurrentTabIndex += numSpacesToInsert;\n\t\t\t\t} else if (text[currentIndex] === '\\n') {\n\t\t\t\t\ttext = text.substring(0, currentIndex) + '<br/>' + text.substring(currentIndex + 1);\n\t\t\t\t\tcurrentIndex += 5;\n\t\t\t\t\tlineStartIndex = currentIndex;\n\t\t\t\t\tcurrentTabIndex = 0;\n\t\t\t\t} else {\n\t\t\t\t\tcurrentIndex++;\n\t\t\t\t\tcurrentTabIndex++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttext.match(/<br\\/>$/) && (text += '&nbsp;');\n\t\t\treturn text;\n\t\t},\n\n\t\t_setText: function() {\n\t\t\tthis._textContainerDomNode.innerHTML = this._getText();\n\t\t\tthis._triggerLayout();\n\t\t},\n\n\t\t_setTextShadow: function() {\n\t\t\tvar shadowColor = this.shadowColor && this.shadowColor !== '' ? this.shadowColor : void 0;\n\t\t\tsetStyle(\n\t\t\t\tthis._textContainerDomNode,\n\t\t\t\t'textShadow',\n\t\t\t\tthis.shadowOffset || shadowColor\n\t\t\t\t\t? (this.shadowOffset ? unitize(this.shadowOffset.x) + ' ' + unitize(this.shadowOffset.y) : '0px 0px') +\n\t\t\t\t\t\t' ' + (this.shadowRadius ? unitize(this.shadowRadius) : '0.1em') + ' ' + lang.val(shadowColor,'black')\n\t\t\t\t\t: ''\n\t\t\t);\n\t\t},\n\n\t\tproperties: {\n\t\t\tellipsize: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\tsetStyle(this._textContainerDomNode, 'textOverflow', !!value ? 'ellipsis' : 'clip');\n\t\t\t\t\tsetStyle(this._textContainerDomNode, 'overflow', !!value ? 'hidden' : 'visible');\n\t\t\t\t\treturn value;\n\t\t\t\t},\n\t\t\t\tvalue: true\n\t\t\t},\n\t\t\thtml: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\tthis._textContainerDomNode.innerHTML = value;\n\t\t\t\t\tthis._hasSizeDimensions() && this._triggerLayout();\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\t\t\tshadowColor: {\n\t\t\t\tpost: '_setTextShadow'\n\t\t\t},\n\t\t\tshadowOffset: {\n\t\t\t\tpost: '_setTextShadow'\n\t\t\t},\n\t\t\tshadowRadius: {\n\t\t\t\tpost: '_setTextShadow'\n\t\t\t},\n\t\t\ttext: textPost,\n\t\t\ttextAlign: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\tsetStyle(this._textContainerDomNode, 'textAlign', /(center|right)/.test(value) ? value : 'left');\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\t\t\ttextid: textPost,\n\t\t\twordWrap: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\tsetStyle(this._textContainerDomNode, 'whiteSpace', !!value ? 'normal' : 'nowrap');\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\t\t\tverticalAlign: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\tvar top,\n\t\t\t\t\t\tbottom,\n\t\t\t\t\t\tcenter = this.center || {},\n\t\t\t\t\t\ttextContainer = this._textContainer;\n\t\t\t\t\tswitch(value) {\n\t\t\t\t\t\tcase UI.TEXT_VERTICAL_ALIGNMENT_TOP: top = 0; break;\n\t\t\t\t\t\tcase UI.TEXT_VERTICAL_ALIGNMENT_CENTER: center.y = '50%'; break;\n\t\t\t\t\t\tcase UI.TEXT_VERTICAL_ALIGNMENT_BOTTOM: bottom = 0; break;\n\t\t\t\t\t}\n\t\t\t\t\ttextContainer.top = top;\n\t\t\t\t\ttextContainer.center = center;\n\t\t\t\t\ttextContainer.bottom = bottom;\n\t\t\t\t\treturn value;\n\t\t\t\t},\n\t\t\t\tvalue: UI.TEXT_VERTICAL_ALIGNMENT_CENTER\n\t\t\t}\n\t\t}\n\n\t});\n\n});\n},\n\"Ti/_/UI/FontWidget\":function(){\n/* /titanium/Ti/_/UI/FontWidget.js */\n\ndefine([\"Ti/_/declare\", \"Ti/_/dom\", \"Ti/_/lang\", \"Ti/_/ready\", \"Ti/_/style\", \"Ti/_/UI/Widget\"],\n\tfunction(declare, dom, lang, ready, style, Widget) {\n\n\tvar textRuler;\n\n\tready(function() {\n\t\ttextRuler = dom.create(\"p\", {\n\t\t\tstyle: {\n\t\t\t\tposition: \"absolute\",\n\t\t\t\ttop: \"-1000em\",\n\t\t\t\tleft: 0,\n\t\t\t\theight: \"auto\",\n\t\t\t\twidth: \"auto\"\n\t\t\t}\n\t\t}, document.body);\n\t});\n\n\treturn declare(\"Ti._.UI.FontWidget\", Widget, {\n\n\t\tconstructor: function() {\n\t\t\tthis._styleableDomNodes = [];\n\t\t},\n\n\t\t_setFont: function(font,domNode) {\n\t\t\tif (font) {\n\t\t\t\tvar fontSize = parseInt(font.fontSize);\n\t\t\t\tfont.fontSize = isNaN(fontSize) ? void 0 : (fontSize + \"px\");\n\t\t\t\tstyle.set(domNode, font);\n\t\t\t} else {\n\t\t\t\tstyle.set(domNode,{\n\t\t\t\t\tfontFamily: \"\",\n\t\t\t\t\tfontSize: \"\",\n\t\t\t\t\tfontStyle: \"\",\n\t\t\t\t\tfontWeight: \"\"\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t_addStyleableDomNode: function(styleableDomNode) {\n\t\t\tthis._styleableDomNodes.push(styleableDomNode);\n\t\t},\n\n\t\t_removeStyleableDomNode: function(styleableDomNode) {\n\t\t\tvar index = this._styleableDomNodes.indexOf(styleableDomNode);\n\t\t\tindex != -1 && this._styleableDomNodes.splice(index,1);\n\t\t},\n\n\t\t_measureText: function(text, domNode, width) {\n\t\t\tvar computedStyle = window.getComputedStyle(domNode) || {},\n\t\t\t\tfont = this.font || {},\n\t\t\t\temptyText = !text || text === \"\";\n\n\t\t\ttextRuler.innerHTML = emptyText ? \"\\u00C4y\" : text;\n\n\t\t\tthis._setFont({\n\t\t\t\tfontFamily: font.fontFamily || computedStyle.fontFamily || \"\",\n\t\t\t\tfontSize: font.fontSize || computedStyle.fontSize || \"\",\n\t\t\t\tfontStyle: font.fontStyle || computedStyle.fontStyle || \"\",\n\t\t\t\tfontWeight: font.fontWeight || computedStyle.fontWeight || \"\"\n\t\t\t}, textRuler);\n\t\t\tstyle.set(textRuler,{\n\t\t\t\twhiteSpace: domNode.style.whiteSpace,\n\t\t\t\twidth: dom.unitize(lang.val(width,\"auto\"))\n\t\t\t});\n\n\t\t\t// Return the computed style\n\t\t\treturn { width: emptyText ? 0 : textRuler.clientWidth + 0.5, height: textRuler.clientHeight };\n\t\t},\n\n\t\tproperties: {\n\t\t\tcolor: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\tfor (var domNode in this._styleableDomNodes) {\n\t\t\t\t\t\tstyle.set(this._styleableDomNodes[domNode], \"color\", value);\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\t\t\tfont: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\tfor (var domNode in this._styleableDomNodes) {\n\t\t\t\t\t\tthis._setFont(value, this._styleableDomNodes[domNode]);\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\t\n});\n},\n\"Ti/UI/MobileWeb\":function(){\n/* /titanium/Ti/UI/MobileWeb.js */\n\ndefine([\"Ti/_/Evented\", \"Ti/_/lang\", \"Ti/UI/MobileWeb/NavigationGroup\"],\n\tfunction(Evented, lang, NavigationGroup) {\n\n\treturn lang.setObject(\"Ti.UI.MobileWeb\", Evented, {\n\t\tcreateNavigationGroup: function(args) {\n\t\t\treturn new NavigationGroup(args);\n\t\t}\n\t});\n\n});\n},\n\"Ti/UI/MobileWeb/NavigationGroup\":function(){\n/* /titanium/Ti/UI/MobileWeb/NavigationGroup.js */\n\n/*global define*/\ndefine(['Ti/_/css', 'Ti/_/declare', 'Ti/UI/View', 'Ti/UI', 'Ti/_/lang'],\n\tfunction(css, declare, View, UI, lang) {\n\n\tvar isDef = lang.isDef,\n\t\tUI_FILL = UI.FILL,\n\t\tnavGroupCss = 'TiUINavigationGroup';\n\n\treturn declare('Ti.UI.MobileWeb.NavigationGroup', View, {\n\n\t\tconstructor: function(args) {\n\t\t\tvar self = this,\n\t\t\t\twin = self.__values__.constants.window = args && args.window,\n\t\t\t\tnavBarContainer = self._navBarContainer = UI.createView({\n\t\t\t\t\theight: 50,\n\t\t\t\t\twidth: UI.FILL,\n\t\t\t\t\tlayout: UI._LAYOUT_CONSTRAINING_HORIZONTAL\n\t\t\t\t});\n\t\t\tcss.add(navBarContainer.domNode, navGroupCss);\n\t\t\tself.layout = UI._LAYOUT_CONSTRAINING_VERTICAL;\n\n\t\t\t// Create the nav bar content\n\t\t\tnavBarContainer.add(self._leftContainer = UI.createView({\n\t\t\t\twidth: UI.SIZE,\n\t\t\t\theight: '100%',\n\t\t\t\tleft: 5,\n\t\t\t\tright: 5\n\t\t\t}));\n\t\t\tnavBarContainer.add(self._centerContainer = UI.createView({\n\t\t\t\twidth: UI.FILL,\n\t\t\t\theight: '100%'\n\t\t\t}));\n\t\t\tnavBarContainer.add(self._rightContainer = UI.createView({\n\t\t\t\twidth: UI.SIZE,\n\t\t\t\theight: '100%',\n\t\t\t\tleft: 5,\n\t\t\t\tright: 5\n\t\t\t}));\n\t\t\tself._add(navBarContainer);\n\n\t\t\t// Create the content container\n\t\t\tself._add(self._contentContainer = UI.createView({\n\t\t\t\twidth: UI_FILL,\n\t\t\t\theight: UI_FILL\n\t\t\t}));\n\n\t\t\t// Stylize the top\n\t\t\tthis.navBarAtTop = true;\n\t\t\tnavBarContainer._getBorderFromCSS();\n\n\t\t\t// Initialize the window stack and add the root window\n\t\t\tself._windows = [];\n\t\t\twin && self.open(win);\n\t\t},\n\n\t\t_defaultWidth: UI_FILL,\n\n\t\t_defaultHeight: UI_FILL,\n\n\t\t_updateNavBar: function() {\n\t\t\tvar _self = this,\n\t\t\t\twindows = _self._windows,\n\t\t\t\tlen = windows.length,\n\t\t\t\tactiveWin = windows[len - 1],\n\t\t\t\tnavBarContainer = this._navBarContainer,\n\t\t\t\tleftContainer = _self._leftContainer,\n\t\t\t\tcenterContainer = _self._centerContainer,\n\t\t\t\trightContainer = _self._rightContainer,\n\t\t\t\tleftView,\n\t\t\t\tcenterView,\n\t\t\t\trightView;\n\n\t\t\tif (!activeWin) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\trightView = activeWin.rightNavButton;\n\n\t\t\tif (activeWin.leftNavButton) {\n\t\t\t\tleftView = activeWin.leftNavButton;\n\t\t\t} else {\n\t\t\t\tif (!_self._backButton) {\n\t\t\t\t\t_self._backButton = UI.createButton({\n\t\t\t\t\t\ttitle: 'Back'\n\t\t\t\t\t});\n\t\t\t\t\trequire.on(_self._backButton, 'singletap', function() {\n\t\t\t\t\t\t// Note: we can reuse activeWin or length because they may have changed by the time this event\n\t\t\t\t\t\t// listener is called due to reuse of the back button across windows.\n\t\t\t\t\t\t_self.close(windows[windows.length - 1]);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tlen > 1 && (leftView = _self._backButton);\n\t\t\t}\n\t\t\tif (leftContainer._children[0] !== leftView) {\n\t\t\t\tleftContainer._removeAllChildren();\n\t\t\t\tleftView && leftContainer.add(leftView);\n\t\t\t}\n\n\t\t\tif (rightContainer._children[0] !== rightView) {\n\t\t\t\trightContainer._removeAllChildren();\n\t\t\t\trightView && rightContainer.add(rightView);\n\t\t\t}\n\n\t\t\tnavBarContainer.backgroundColor = activeWin.barColor;\n\t\t\tnavBarContainer.backgroundImage = activeWin.barImage;\n\t\t\tnavBarContainer.opacity = activeWin.translucent ? 0.5 : 1;\n\t\t\tnavBarContainer.height = activeWin.navBarHidden && activeWin.modal ? 0 : 50;\n\n\t\t\tif (activeWin.titleControl) {\n\t\t\t\tcenterView = activeWin.titleControl;\n\t\t\t} else if (activeWin.titleImage) {\n\t\t\t\tcenterView = activeWin._titleImageView || (activeWin._titleImageView = UI.createImageView({\n\t\t\t\t\timage: activeWin.titleImage\n\t\t\t\t}));\n\t\t\t} else {\n\t\t\t\tcenterView = activeWin._titleControl || (activeWin._titleControl = UI.createLabel({\n\t\t\t\t\ttext: activeWin._getTitle() || (this._tab && this._tab._getTitle()) || '',\n\t\t\t\t\twidth: '100%',\n\t\t\t\t\theight: '100%',\n\t\t\t\t\ttextAlign: UI.TEXT_ALIGNMENT_CENTER\n\t\t\t\t}));\n\t\t\t}\n\t\t\tif (centerContainer._children[0] !== centerView) {\n\t\t\t\tcenterContainer._removeAllChildren();\n\t\t\t\tcenterView && centerContainer.add(centerView);\n\t\t\t}\n\t\t},\n\n\t\t_getTopWindow: function() {\n\t\t\tvar windows = this._windows,\n\t\t\t\tlen = windows.length;\n\t\t\treturn len ? windows[windows.length - 1] : null;\n\t\t},\n\n\t\topen: function(win) {\n\t\t\tif (!win._opened) {\n\t\t\t\tvar windows = this._windows,\n\t\t\t\t\ttab = this._tab;\n\n\t\t\t\twin._navGroup = this;\n\n\t\t\t\t// Set a default background\n\t\t\t\t!isDef(win.backgroundColor) && !isDef(win.backgroundImage) && (win.backgroundColor = '#fff');\n\n\t\t\t\t~(windows.length - 1) && windows[windows.length - 1].fireEvent('blur');\n\n\t\t\t\t// Show the window\n\t\t\t\ttab && (win.tabGroup = (win.tab = tab)._tabGroup);\n\t\t\t\twindows.push(win);\n\t\t\t\tthis._contentContainer._add(win);\n\t\t\t\tthis._updateNavBar();\n\n\t\t\t\twin._opened || win.fireEvent('open');\n\t\t\t\twin._opened = 1;\n\t\t\t\twin.fireEvent('focus');\n\t\t\t}\n\t\t},\n\n\t\tclose: function(win) {\n\t\t\tvar windows = this._windows,\n\t\t\t\twindowIdx = windows.indexOf(win),\n\t\t\t\tself = this;\n\n\t\t\twin._navGroup = void 0;\n\n\t\t\t// make sure the window exists and it's not the root\n\t\t\tif (windowIdx > 0) {\n\t\t\t\twindows.splice(windowIdx, 1);\n\t\t\t\twin.fireEvent('blur');\n\t\t\t\tself._contentContainer.remove(win);\n\t\t\t\twin.fireEvent('close');\n\t\t\t\twin._opened = 0;\n\n\t\t\t\tthis._updateNavBar();\n\t\t\t\twindows[windows.length - 1].fireEvent('focus');\n\t\t\t}\n\t\t},\n\n\t\t_reset: function() {\n\t\t\tvar windows = this._windows,\n\t\t\t\twin,\n\t\t\t\ti = windows.length - 1,\n\t\t\t\tl = i;\n\n\t\t\twhile (1) {\n\t\t\t\twin = windows[i];\n\t\t\t\tif (!i) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\ti-- === l && win.fireEvent('blur');\n\t\t\t\tthis._contentContainer.remove(win);\n\t\t\t\twin.fireEvent('close');\n\t\t\t\twin._opened = 0;\n\t\t\t}\n\n\t\t\twindows.splice(1);\n\t\t\tthis._updateNavBar();\n\t\t\twin.fireEvent('focus');\n\t\t},\n\n\t\tconstants: {\n\t\t\twindow: void 0,\n\t\t\tbubbleParent: false\n\t\t},\n\n\t\tproperties: {\n\t\t\tnavBarAtTop: {\n\t\t\t\tset: function (value, oldValue) {\n\t\t\t\t\tif (value !== oldValue) {\n\t\t\t\t\t\tvar navBarContainer = this._navBarContainer,\n\t\t\t\t\t\t\tnavBarContainerDomNode = navBarContainer.domNode;\n\n\t\t\t\t\t\tthis._remove(navBarContainer);\n\t\t\t\t\t\tthis._insertAt(navBarContainer, value ? 0 : 1);\n\n\t\t\t\t\t\tcss.remove(navBarContainerDomNode, navGroupCss + (value ? 'Top' : 'Bottom'));\n\t\t\t\t\t\tcss.add(navBarContainerDomNode, navGroupCss + (value ? 'Bottom' : 'Top'));\n\t\t\t\t\t}\n\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t});\n\n});\n},\n\"Ti/UI/OptionDialog\":function(){\n/* /titanium/Ti/UI/OptionDialog.js */\n\ndefine([\"Ti/_/declare\", \"Ti/_/lang\", \"Ti/_/Evented\", \"Ti/Locale\", \"Ti/UI\", \"Ti/_/css\"],\n\tfunction(declare, lang, Evented, Locale, UI, css) {\n\n\treturn declare(\"Ti.UI.OptionDialog\", Evented, {\n\n\t\tshow: function() {\n\t\t\t// Create the window and a background to dim the current view\n\t\t\tvar optionsWindow = this._optionsWindow = UI.createWindow(),\n\t\t\t\tdimmingView = UI.createView({\n\t\t\t\t\tbackgroundColor: \"black\",\n\t\t\t\t\topacity: 0,\n\t\t\t\t\tleft: 0,\n\t\t\t\t\ttop: 0,\n\t\t\t\t\tright: 0,\n\t\t\t\t\tbottom: 0\n\t\t\t\t}),\n\t\t\t\toptionsDialog = UI.createView({\n\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\theight: UI.SIZE,\n\t\t\t\t\tbottom: 0,\n\t\t\t\t\tbackgroundColor: \"white\",\n\t\t\t\t\tlayout: UI._LAYOUT_CONSTRAINING_VERTICAL,\n\t\t\t\t\topacity: 0\n\t\t\t\t});\n\n\t\t\toptionsWindow._add(dimmingView);\n\t\t\toptionsWindow._add(optionsDialog);\n\n\t\t\t// Add the title\n\t\t\toptionsDialog._add(UI.createLabel({\n\t\t\t\ttext: Locale._getString(this.titleid, this.title),\n\t\t\t\tfont: {fontWeight: \"bold\"},\n\t\t\t\tleft: 5,\n\t\t\t\tright: 5,\n\t\t\t\ttop: 5,\n\t\t\t\theight: UI.SIZE,\n\t\t\t\ttextAlign: UI.TEXT_ALIGNMENT_CENTER\n\t\t\t}));\n\n\t\t\t// Create buttons\n\t\t\trequire.is(this.options, \"Array\") && this.options.forEach(function(opt, i, arr) {\n\t\t\t\tvar button = UI.createButton({\n\t\t\t\t\tleft: 5,\n\t\t\t\t\tright: 5,\n\t\t\t\t\ttop: 5,\n\t\t\t\t\tbottom: i === arr.length - 1 ? 5 : 0,\n\t\t\t\t\theight: UI.SIZE,\n\t\t\t\t\ttitle: opt,\n\t\t\t\t\tindex: i\n\t\t\t\t});\n\t\t\t\tif (i === this.destructive) {\n\t\t\t\t\tcss.add(button.domNode, \"TiUIElementGradientDestructive\");\n\t\t\t\t} else if (i === this.cancel) {\n\t\t\t\t\tcss.add(button.domNode, \"TiUIElementGradientCancel\");\n\t\t\t\t}\n\t\t\t\toptionsDialog._add(button);\n\t\t\t\tbutton.addEventListener(\"singletap\", lang.hitch(this, function(){\n\t\t\t\t\toptionsWindow.close();\n\t\t\t\t\tthis._optionsWindow = void 0;\n\t\t\t\t\tthis.fireEvent(\"click\", {\n\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\tcancel: this.cancel,\n\t\t\t\t\t\tdestructive: this.destructive\n\t\t\t\t\t});\n\t\t\t\t}));\n\t\t\t}, this);\n\n\t\t\t// Animate the background after waiting for the first layout to occur\n\t\t\toptionsDialog.addEventListener(\"postlayout\", function() {\n\t\t\t\tsetTimeout(function(){ // We have to wait for the entire layout pass to complete and the CSS rules to be applied.\n\t\t\t\t\toptionsDialog.animate({\n\t\t\t\t\t\tbottom: -optionsDialog._measuredHeight,\n\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\tduration: 0\n\t\t\t\t\t});\n\t\t\t\t\tdimmingView.animate({\n\t\t\t\t\t\topacity: 0.5,\n\t\t\t\t\t\tduration: 200\n\t\t\t\t\t}, function(){\n\t\t\t\t\t\toptionsDialog.animate({\n\t\t\t\t\t\t\tbottom: 0,\n\t\t\t\t\t\t\tduration: 200\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}, 0);\n\t\t\t});\n\n\t\t\t// Show the options dialog\n\t\t\toptionsWindow.open();\n\t\t},\n\n\t\tproperties: {\n\t\t\tcancel: -1,\n\t\t\tdestructive: -1,\n\t\t\toptions: void 0,\n\t\t\ttitle: void 0,\n\t\t\ttitleid: void 0\n\t\t}\n\n\t});\n\n});\n\n},\n\"Ti/UI/Picker\":function(){\n/* /titanium/Ti/UI/Picker.js */\n\ndefine([\"Ti/_/declare\", \"Ti/_/event\", 'Ti/_/has', \"Ti/UI/View\", \"Ti/_/UI/Widget\", \"Ti/UI\", \"Ti/_/lang\", \"Ti/_/dom\", \"Ti/_/ready\"],\n\tfunction(declare, event, has, View, Widget, UI, lang, dom, ready) {\n\n\tfunction formatDate(str, type) {\n\t\tif (str) {\n\t\t\tif (type === 'DateTime') {\n\t\t\t\treturn new Date(str);\n\t\t\t}\n\n\t\t\tvar d = new Date,\n\t\t\t\tm;\n\n\t\t\tif (type === 'Date') {\n\t\t\t\tm = str.match(/^(?:(\\d+)\\/(\\d+)\\/(\\d+))|(?:(\\d+)-(\\d+)-(\\d+))$/);\n\t\t\t\td.setYear(m[1] ? m[3] : m[4]);\n\t\t\t\td.setMonth(m[1] ? m[1] - 1 : m[5] - 1);\n\t\t\t\td.setDate(m[1] ? m[2] : m[6]);\n\t\t\t}\n\n\t\t\tif (type === 'Time') {\n\t\t\t\tm = str.match(/^(\\d+)\\:(\\d+)\\s*(am|pm)?$/i);\n\t\t\t\td.setHours(m[3] && m[3].toLowerCase() == 'pm' && ~~m[1] < 12 ? ~~m[1] + 12 : m[1]);\n\t\t\t\td.setMinutes(m[2]);\n\t\t\t\td.setSeconds(0);\n\t\t\t}\n\n\t\t\treturn d;\n\t\t}\n\t}\n\n\tvar is = require.is,\n\t\tborderRadius = 6,\n\t\tunitizedBorderRadius = dom.unitize(borderRadius),\n\t\tinputSizes = {},\n\t\ton = require.on,\n\t\tDateTimeInput = declare(Widget, {\n\n\t\t\tconstructor: function() {\n\t\t\t\tvar input = this._input = dom.create(\"input\", {\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\tleft: unitizedBorderRadius,\n\t\t\t\t\t\t\ttop: unitizedBorderRadius,\n\t\t\t\t\t\t\tright: unitizedBorderRadius,\n\t\t\t\t\t\t\tbottom: unitizedBorderRadius,\n\t\t\t\t\t\t\tposition: \"absolute\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this.domNode),\n\t\t\t\t\tcurrentValue,\n\t\t\t\t\tself = this;\n\n\t\t\t\tfunction handleChange() {\n\t\t\t\t\tvar newValue = input.value,\n\t\t\t\t\t\tdateValue = formatDate(newValue, self.type);\n\t\t\t\t\tif (currentValue !== newValue && dateValue) {\n\t\t\t\t\t\tcurrentValue = newValue;\n\t\t\t\t\t\tself.picker.fireEvent(\"change\", {\n\t\t\t\t\t\t\tvalue: dateValue\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tself._handles = [\n\t\t\t\t\ton(input, has('touch') ? \"touchend\" : \"click\", handleChange),\n\t\t\t\t\t// on(input, \"keyup\", handleChange), // I think this was for older versions of Mobile Safari\n\t\t\t\t\ton(input, \"change\", handleChange),\n\t\t\t\t\ton(input, \"blur\", handleChange)\n\t\t\t\t];\n\t\t\t},\n\n\t\t\tdestroy: function() {\n\t\t\t\tevent.off(this._handles);\n\t\t\t\tWidget.prototype.destroy.apply(this, arguments);\n\t\t\t},\n\n\t\t\t_getContentSize: function() {\n\t\t\t\treturn inputSizes[this.type];\n\t\t\t},\n\n\t\t\tproperties: {\n\t\t\t\ttype: {\n\t\t\t\t\tset: function(value) {\n\t\t\t\t\t\treturn this._input.type = value;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tmin: {\n\t\t\t\t\tset: function(value) {\n\t\t\t\t\t\tthis._input.min = lang.val(value, \"\");\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tmax: {\n\t\t\t\t\tset: function(value) {\n\t\t\t\t\t\tthis._input.max = lang.val(value, \"\");\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tvalue: {\n\t\t\t\t\tget: function () {\n\t\t\t\t\t\treturn formatDate(this._input.value, this.type);\n\t\t\t\t\t},\n\t\t\t\t\tset: function(value) {\n\t\t\t\t\t\t// Some browsers have this property, but if you assign to it, it throws an exception.\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tthis._input.valueAsDate = value;\n\t\t\t\t\t\t} catch(e) {}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\tDateTimeInput.prototype.declaredClass = 'DateTimeInput';\n\n\tready(function() {\n\t\tvar inputRuler = dom.create(\"input\", {\n\t\t\t\tstyle: {\n\t\t\t\t\theight: UI.SIZE,\n\t\t\t\t\twidth: UI.SIZE\n\t\t\t\t}\n\t\t\t}, document.body);\n\n\t\t[\"Date\", \"Time\", \"DateTime\"].forEach(function(type) {\n\t\t\ttry {\n\t\t\t\tinputRuler.type = type;\n\t\t\t} catch(e) {}\n\t\t\tinputSizes[type] = {\n\t\t\t\twidth: inputRuler.clientWidth + 2 * borderRadius,\n\t\t\t\theight: inputRuler.clientHeight + 2 * borderRadius\n\t\t\t};\n\t\t});\n\n\t\tdom.detach(inputRuler);\n\t});\n\n\treturn declare(\"Ti.UI.Picker\", View, {\n\n\t\tconstructor: function() {\n\t\t\tthis.layout = \"constrainingHorizontal\";\n\t\t\tthis._columns = [];\n\t\t\tthis._getBorderFromCSS();\n\t\t},\n\n\t\t_currentColumn: null,\n\n\t\t_addColumn: function(column) {\n\t\t\tthis._columns.push(column);\n\t\t\tcolumn._parentPicker = this;\n\n\t\t\tvar i = 0,\n\t\t\t\tnumColumns = this._columns.length,\n\t\t\t\twidth = this.width === UI.SIZE ? UI.SIZE : 100 / numColumns + \"%\",\n\t\t\t\theight = this.height === UI.SIZE ? UI.SIZE : \"100%\";\n\n\t\t\tfor (; i < numColumns; i++) {\n\t\t\t\tcolumn = this._columns[i]; // Repurposing of the column variable\n\t\t\t\tcolumn.width = width;\n\t\t\t\tcolumn.height = height;\n\t\t\t\tcolumn._setCorners(i === 0, i === numColumns - 1, unitizedBorderRadius);\n\t\t\t}\n\n\t\t\tcolumn._pickerChangeEventListener = lang.hitch(this, function(e) {\n\t\t\t\tvar eventInfo = {\n\t\t\t\t\tcolumn: e.column,\n\t\t\t\t\tcolumnIndex: this._columns.indexOf(e.column),\n\t\t\t\t\trow: e.row,\n\t\t\t\t\trowIndex: e.rowIndex\n\t\t\t\t};\n\t\t\t\tif (this.type === UI.PICKER_TYPE_PLAIN) {\n\t\t\t\t\tvar selectedValue = []\n\t\t\t\t\tfor(var i in this._columns) {\n\t\t\t\t\t\tvar selectedRow = this._columns[i].selectedRow;\n\t\t\t\t\t\tselectedRow && selectedValue.push(selectedRow.title);\n\t\t\t\t\t}\n\t\t\t\t\teventInfo.selectedValue = selectedValue;\n\t\t\t\t} else {\n\n\t\t\t\t}\n\t\t\t\tthis.fireEvent(\"change\", eventInfo);\n\t\t\t});\n\n\t\t\tcolumn.addEventListener(\"change\", column._pickerChangeEventListener);\n\t\t\tthis._add(column);\n\t\t\tthis._publish(column);\n\t\t},\n\n\t\t_updateColumnHeights: function() {\n\t\t\tvar tallestColumnHeight = 0,\n\t\t\t\ti;\n\t\t\tfor(i in this._columns) {\n\t\t\t\ttallestColumnHeight = Math.max(tallestColumnHeight, this._columns[i]._getTallestRowHeight());\n\t\t\t}\n\t\t\tfor(i in this._columns) {\n\t\t\t\tthis._columns[i]._setTallestRowHeight(tallestColumnHeight);\n\t\t\t}\n\t\t},\n\n\t\t_defaultWidth: UI.SIZE,\n\n\t\t_defaultHeight: UI.SIZE,\n\n\t\tadd: function(value) {\n\t\t\tif (is(value,\"Array\")) {\n\t\t\t\tfor (var i in value) {\n\t\t\t\t\tthis.add(value[i]);\n\t\t\t\t}\n\t\t\t} else if(lang.isDef(value.declaredClass)) {\n\t\t\t\tif (value.declaredClass === \"Ti.UI.PickerColumn\") {\n\t\t\t\t\tthis._addColumn(value);\n\t\t\t\t} else if(value.declaredClass === \"Ti.UI.PickerRow\") {\n\t\t\t\t\tthis._currentColumn === null && (this._addColumn(this._currentColumn = UI.createPickerColumn()));\n\t\t\t\t\tthis._currentColumn.addRow(value);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tdestroy: function() {\n\t\t\tthis._dateTimeInput && this._dateTimeInput.destroy();\n\t\t\tWidget.prototype.destroy.apply(this, arguments);\n\t\t},\n\n\t\tgetSelectedRow: function(columnIndex) {\n\t\t\tvar column = this._columns[columnIndex];\n\t\t\treturn column && column.selectedRow;\n\t\t},\n\n\t\tsetSelectedRow: function(columnIndex, rowIndex) {\n\t\t\tvar column = this._columns[columnIndex];\n\t\t\tcolumn && (column.selectedRow = column.rows[rowIndex]);\n\t\t},\n\n\t\tproperties: {\n\t\t\tcolumns: {\n\t\t\t\tget: function() {\n\t\t\t\t\treturn this._columns;\n\t\t\t\t},\n\t\t\t\tset: function(value) {\n\t\t\t\t\t// Remove the existing columns\n\t\t\t\t\tthis._removeAllChildren();\n\t\t\t\t\tfor(var i in this._columns) {\n\t\t\t\t\t\tvar column = this._columns[i];\n\t\t\t\t\t\tcolumn.removeEventListener(column._pickerChangeEventListener);\n\t\t\t\t\t\tcolumn._parentPicker = void 0;\n\t\t\t\t\t}\n\t\t\t\t\tthis._columns = [];\n\n\t\t\t\t\t// Add the new column(s)\n\t\t\t\t\tvalue && this.add(value);\n\n\t\t\t\t\t// We intentionally don't return anything because we are not using the internal storage mechanism.\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tmaxDate: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\tthis._dateTimeInput && (this._dateTimeInput.max = value);\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tminDate: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\tthis._dateTimeInput && (this._dateTimeInput.min = value);\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\ttype: {\n\t\t\t\tset: function(value, oldValue) {\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tif (value !== oldValue) {\n\t\t\t\t\t\tthis.columns = void 0;\n\t\t\t\t\t\tthis._dateTimeInput = null;\n\n\t\t\t\t\t\tfunction createInput(inputType) {\n\t\t\t\t\t\t\tvar dateTimeInput = self._dateTimeInput = new DateTimeInput({\n\t\t\t\t\t\t\t\ttype: inputType,\n\t\t\t\t\t\t\t\twidth: UI.INHERIT,\n\t\t\t\t\t\t\t\theight: UI.INHERIT,\n\t\t\t\t\t\t\t\tpicker: self\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tdateTimeInput.addEventListener(\"change\", function(e) {\n\t\t\t\t\t\t\t\tself.__values__.properties.value = e.value;\n\t\t\t\t\t\t\t\tself.fireEvent(\"change\",e);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tdateTimeInput.min = self.min;\n\t\t\t\t\t\t\tdateTimeInput.max = self.max;\n\t\t\t\t\t\t\tself._add(dateTimeInput);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tswitch(value) {\n\t\t\t\t\t\t\tcase UI.PICKER_TYPE_DATE:\n\t\t\t\t\t\t\t\tcreateInput(\"Date\");\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase UI.PICKER_TYPE_TIME:\n\t\t\t\t\t\t\t\tcreateInput(\"Time\");\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase UI.PICKER_TYPE_DATE_AND_TIME:\n\t\t\t\t\t\t\t\tcreateInput(\"DateTime\");\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t},\n\t\t\t\tvalue: UI.PICKER_TYPE_PLAIN\n\t\t\t},\n\n\t\t\tvalue: {\n\t\t\t\tget: function () {\n\t\t\t\t\treturn this._dateTimeInput && this._dateTimeInput.value;\n\t\t\t\t},\n\t\t\t\tset: function(value) {\n\t\t\t\t\tthis._dateTimeInput && (this._dateTimeInput.value = value);\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t});\n\n});\n},\n\"Ti/UI/PickerColumn\":function(){\n/* /titanium/Ti/UI/PickerColumn.js */\n\ndefine([\"Ti/_/declare\", \"Ti/_/UI/FontWidget\", \"Ti/_/dom\", \"Ti/UI\", 'Ti/_/has', \"Ti/_/style\", \"Ti/_/lang\"],\n\tfunction(declare, FontWidget, dom, UI, has, style, lang) {\n\n\tvar setStyle = style.set,\n\t\tcontentPadding = 15,\n\t\ton = require.on;\n\n\treturn declare(\"Ti.UI.PickerColumn\", FontWidget, {\n\n\t\tconstructor: function() {\n\t\t\tvar self = this,\n\t\t\t\tclickEventName = has('touch') ? \"touchend\" : \"click\",\n\t\t\t\tnode = self.domNode,\n\t\t\t\trows = self.__values__.constants.rows = [],\n\t\t\t\tupArrow = self._upArrow = dom.create(\"div\", {\n\t\t\t\t\tclassName: \"TiUIElementGradient\",\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\ttextAlign: \"center\",\n\t\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\theight: \"40px\",\n\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\tright: 0,\n\t\t\t\t\t\tborderBottom: \"1px solid #666\",\n\t\t\t\t\t\tfontSize: \"28px\",\n\t\t\t\t\t\tcursor: \"pointer\"\n\t\t\t\t\t},\n\t\t\t\t\tinnerHTML: \"\\u2227\"\n\t\t\t\t}, node),\n\t\t\t\ttitleContainer = self._titleContainer = dom.create(\"div\", {\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t\ttop: \"50%\",\n\t\t\t\t\t\theight: \"1em\",\n\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\tmarginTop: \"-0.5em\",\n\t\t\t\t\t\ttextAlign: \"center\"\n\t\t\t\t\t}\n\t\t\t\t}, node),\n\t\t\t\ttitleClickArea = dom.create(\"div\", {\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t\ttop: \"40px\",\n\t\t\t\t\t\tbottom: \"40px\",\n\t\t\t\t\t\twidth: \"100%\"\n\t\t\t\t\t}\n\t\t\t\t}, node),\n\t\t\t\tdownArrow = self._downArrow = dom.create(\"div\", {\n\t\t\t\t\tclassName: \"TiUIElementGradient\",\n\t\t\t\t\tinnerHTML: \"\\u2228\",\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\ttextAlign: \"center\",\n\t\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t\tbottom: \"0px\",\n\t\t\t\t\t\theight: \"40px\",\n\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\tborderTop: \"1px solid #666\",\n\t\t\t\t\t\tfontSize: \"28px\",\n\t\t\t\t\t\tcursor: \"pointer\"\n\t\t\t\t\t}\n\t\t\t\t}, node);\n\n\t\t\tself._addStyleableDomNode(titleContainer);\n\n\t\t\tthis._handles = [\n\t\t\t\ton(upArrow, clickEventName, function() {\n\t\t\t\t\tvar nextRow = rows.indexOf(self.selectedRow);\n\t\t\t\t\tif (nextRow > 0) {\n\t\t\t\t\t\tself.selectedRow = rows[nextRow - 1];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.selectedRow = rows[rows.length - 1];\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\ton(titleClickArea, clickEventName, function() {\n\t\t\t\t\t// Create the window and a background to dim the current view\n\t\t\t\t\tvar listWindow = UI.createWindow(),\n\t\t\t\t\t\tdimmingView = UI.createView({\n\t\t\t\t\t\t\tbackgroundColor: \"#000\",\n\t\t\t\t\t\t\topacity: 0,\n\t\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\tright: 0,\n\t\t\t\t\t\t\tbottom: 0\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tlistDialog = UI.createView({\n\t\t\t\t\t\t\twidth: \"75%\",\n\t\t\t\t\t\t\theight: UI.SIZE,\n\t\t\t\t\t\t\tbackgroundColor: \"#fff\",\n\t\t\t\t\t\t\tlayout: UI._LAYOUT_CONSTRAINING_VERTICAL,\n\t\t\t\t\t\t\tborderRadius: 3,\n\t\t\t\t\t\t\topacity: 0\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tselectedRowIndex = 0,\n\t\t\t\t\t\ttmp = 0,\n\t\t\t\t\t\tdata = rows.map(function(row) {\n\t\t\t\t\t\t\tvar isSelectedRow = row === self.selectedRow;\n\t\t\t\t\t\t\tisSelectedRow && (selectedRowIndex = parseInt(tmp++));\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\ttitle: row.title,\n\t\t\t\t\t\t\t\thasCheck: isSelectedRow\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tlistTable = UI.createTableView({\n\t\t\t\t\t\t\tleft: 5,\n\t\t\t\t\t\t\tright: 5,\n\t\t\t\t\t\t\ttop: 5,\n\t\t\t\t\t\t\theight: data.length < 10 ? UI.SIZE : \"70%\",\n\t\t\t\t\t\t\tdata: data\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tcancelButton = UI.createButton({\n\t\t\t\t\t\t\tleft: 5,\n\t\t\t\t\t\t\ttop: 5,\n\t\t\t\t\t\t\tright: 5,\n\t\t\t\t\t\t\ttitle: \"Cancel\"\n\t\t\t\t\t\t});\n\n\t\t\t\t\tlistTable.addEventListener(\"singletap\", function(e) {\n\t\t\t\t\t\te.index in rows && (self.selectedRow = rows[e.index]);\n\t\t\t\t\t\tlistWindow.close();\n\t\t\t\t\t});\n\n\t\t\t\t\tcancelButton.addEventListener(\"singletap\", function() {\n\t\t\t\t\t\tlistWindow.close();\n\t\t\t\t\t});\n\n\t\t\t\t\tlistWindow._add(dimmingView);\n\t\t\t\t\tlistWindow._add(listDialog);\n\n\t\t\t\t\tlistDialog._add(listTable);\n\t\t\t\t\tlistDialog.add(cancelButton);\n\n\t\t\t\t\t// Add a view to handle padding since there is no TI API to do it\n\t\t\t\t\tlistDialog._add(UI.createView({ height: \"5px\" }));\n\n\t\t\t\t\t// Show the options dialog\n\t\t\t\t\tlistWindow.open();\n\n\t\t\t\t\t// Animate the background after waiting for the first layout to occur\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tdimmingView.animate({\n\t\t\t\t\t\t\topacity: 0.5,\n\t\t\t\t\t\t\tduration: 200\n\t\t\t\t\t\t}, function() {\n\t\t\t\t\t\t\tlistDialog.animate({\n\t\t\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\t\t\tduration: 200\n\t\t\t\t\t\t\t}, function() {\n\t\t\t\t\t\t\t\tlistTable.scrollToIndex(selectedRowIndex);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}, 30);\n\t\t\t\t}),\n\t\t\t\ton(downArrow, clickEventName, function() {\n\t\t\t\t\tvar nextRow = rows.indexOf(self.selectedRow);\n\t\t\t\t\tif (nextRow < rows.length - 1) {\n\t\t\t\t\t\tself.selectedRow = rows[nextRow + 1];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.selectedRow = rows[0];\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t];\n\t\t},\n\n\t\tdestroy: function() {\n\t\t\tevent.off(this._handles);\n\t\t\tFontWidget.prototype.destroy.apply(this, arguments);\n\t\t},\n\n\t\t_setCorners: function(left, right, radius) {\n\t\t\tsetStyle(this._upArrow, {\n\t\t\t\tborderTopLeftRadius: left ? radius : \"0px\",\n\t\t\t\tborderTopRightRadius: right ? radius : \"0px\"\n\t\t\t});\n\t\t\tsetStyle(this._downArrow, {\n\t\t\t\tborderBottomLeftRadius: left ? radius : \"0px\",\n\t\t\t\tborderBottomRightRadius: right ? radius : \"0px\"\n\t\t\t});\n\t\t\tthis.borderWidth = [0, right ? 0 : 1, 0, 0];\n\t\t\tthis.borderColor = \"#666\";\n\t\t},\n\n\t\t_defaultWidth: UI.SIZE,\n\n\t\t_defaultHeight: UI.SIZE,\n\n\t\t_preLayout: function() {\n\t\t\tthis._updateContentWidth();\n\t\t\tthis._parentPicker && this._parentPicker._updateColumnHeights();\n\t\t\treturn true;\n\t\t},\n\n\t\t_getContentSize: function() {\n\t\t\tvar titleContainer = this._titleContainer;\n\t\t\t\ttext = titleContainer.innerHTML;\n\t\t\treturn {\n\t\t\t\twidth: Math.max(this._widestRowWidth + contentPadding, 100),\n\t\t\t\theight: this._tallestRowHeight + contentPadding + this._upArrow.clientHeight + this._downArrow.clientHeight\n\t\t\t};\n\t\t},\n\n\t\t_widestRowWidth: 0,\n\n\t\t_tallestRowHeight: 0,\n\n\t\t_updateContentWidth: function() {\n\t\t\tvar widestRowWidth = 0,\n\t\t\t\ti = 0,\n\t\t\t\tlen = this.rows.length,\n\t\t\t\trow;\n\t\t\twhile (i < len) {\n\t\t\t\trow = this.rows[i++];\n\t\t\t\twidestRowWidth = Math.max(widestRowWidth, row._measureText(row.title, row.domNode).width);\n\t\t\t}\n\t\t\tif (this._widestRowWidth !== widestRowWidth) {\n\t\t\t\tthis._widestRowWidth = widestRowWidth;\n\t\t\t}\n\t\t},\n\n\t\t_getTallestRowHeight: function() {\n\t\t\tvar widestRowWidth = 0,\n\t\t\t\ttallestRowHeight = 0,\n\t\t\t\ti = 0,\n\t\t\t\tlen = this.rows.length;\n\t\t\tfor(; i < len; i++) {\n\t\t\t\tvar row = this.rows[i];\n\t\t\t\ttallestRowHeight = Math.max(tallestRowHeight, row._measureText(row.title, row.domNode).height);\n\t\t\t}\n\t\t\treturn tallestRowHeight;\n\t\t},\n\n\t\t_setTallestRowHeight: function(height) {\n\t\t\tif (this._tallestRowHeight !== height) {\n\t\t\t\tthis._tallestRowHeight = height;\n\t\t\t\tthis._triggerLayout();\n\t\t\t}\n\t\t},\n\n\t\taddRow: function(row) {\n\t\t\tthis.rows.push(row);\n\t\t\trow._parentColumn = this;\n\t\t\tthis._updateContentWidth();\n\t\t\tthis._parentPicker && this._parentPicker._updateColumnHeights();\n\t\t\tif (!this.selectedRow) {\n\t\t\t\tthis.selectedRow = row;\n\t\t\t}\n\t\t\tthis._publish(row);\n\t\t},\n\n\t\tremoveRow: function(row) {\n\t\t\tvar rowIndex = this.rows.indexOf(row);\n\t\t\tif (rowIndex !== -1) {\n\t\t\t\tthis.rows.splice(rowIndex, 1);\n\t\t\t\trow._parentColumn = void 0;\n\t\t\t\tthis._updateContentWidth();\n\t\t\t\tthis._parentPicker && this._parentPicker._updateColumnHeights();\n\t\t\t\tif (this.selectedRow === row) {\n\t\t\t\t\tthis.selectedRow = this.rows[0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._unpublish(row);\n\t\t},\n\n\t\tconstants: {\n\t\t\trowCount: {\n\t\t\t\tget: function() {\n\t\t\t\t\treturn this.rows.length;\n\t\t\t\t}\n\t\t\t},\n\t\t\trows: void 0\n\t\t},\n\n\t\tproperties: {\n\t\t\tselectedRow: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\tif (!value) {\n\t\t\t\t\t\tthis.font = void 0;\n\t\t\t\t\t\tthis.color = void 0;\n\t\t\t\t\t\tthis._titleContainer.innerHTML = \"\";\n\t\t\t\t\t\tthis._hasSizeDimensions() && this._triggerLayout();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar rowIndex = this.rows.indexOf(value);\n\t\t\t\t\t\tif (rowIndex === -1) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.font = value.font;\n\t\t\t\t\t\tthis.color = lang.val(value.color, \"\");\n\t\t\t\t\t\tthis._titleContainer.innerHTML = value.title;\n\t\t\t\t\t\tthis._hasSizeDimensions() && this._triggerLayout();\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t},\n\t\t\t\tpost: function(value) {\n\t\t\t\t\tthis.fireEvent(\"change\", {\n\t\t\t\t\t\tcolumn: this,\n\t\t\t\t\t\trowIndex: this.rows.indexOf(value),\n\t\t\t\t\t\trow: value,\n\t\t\t\t\t\tvalue: value && value.title\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t});\n\n});\n},\n\"Ti/UI/PickerRow\":function(){\n/* /titanium/Ti/UI/PickerRow.js */\n\ndefine([\"Ti/_/declare\", \"Ti/_/UI/FontWidget\", \"Ti/UI\"],\n\tfunction(declare, FontWidget, UI) {\n\n\treturn declare(\"Ti.UI.PickerRow\", FontWidget, {\n\t\t\n\t\tconstructor: function() {\n\t\t\tthis._addStyleableDomNode(this.domNode);\n\t\t},\n\n\t\t_defaultWidth: UI.SIZE,\n\n\t\t_defaultHeight: UI.SIZE,\n\t\t\n\t\tproperties: {\n\t\t\ttitle: {\n\t\t\t\tpost: function() {\n\t\t\t\t\tthis._parentColumn && this._parentColumn._updateContentDimensions();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t});\n\t\n});\n},\n\"Ti/UI/ProgressBar\":function(){\n/* /titanium/Ti/UI/ProgressBar.js */\n\ndefine([\"Ti/_/declare\", \"Ti/_/UI/Widget\", \"Ti/_/UI/FontWidget\", \"Ti/_/lang\", \"Ti/_/dom\", \"Ti/_/style\", \"Ti/UI\"], \n\tfunction(declare, Widget, FontWidget, lang, dom, style, UI) {\n\n\tvar setStyle = style.set;\n\n\tvar InternalProgressBar = declare(Widget, {\n\t\t\t\n\t\t\tconstructor: function() {\n\t\t\t\tthis._contentContainer = dom.create(\"div\", {\n\t\t\t\t\tclassName: \"TiUIProgressBarContainer\",\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\tpointerEvents: \"none\",\n\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\tright: 0,\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\tbottom: 0,\n\t\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t\toverflow: \"hidden\"\n\t\t\t\t\t}\n\t\t\t\t}, this.domNode);\n\t\t\t\tthis._indicator = dom.create(\"div\", {\n\t\t\t\t\tclassName: \"TiUIProgressBarIndicator\",\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\tpointerEvents: \"none\",\n\t\t\t\t\t\twidth: \"0%\",\n\t\t\t\t\t\theight: \"100%\"\n\t\t\t\t\t}\n\t\t\t\t}, this._contentContainer);\n\t\t\t},\n\t\t\t\n\t\t\t_getContentSize: function(width, height) {\n\t\t\t\treturn {\n\t\t\t\t\twidth: 200,\n\t\t\t\t\theight: 25\n\t\t\t\t};\n\t\t\t},\n\t\t\t\n\t\t\t_setPosition: function(location) {\n\t\t\t\tsetStyle(this._indicator, \"width\", Math.round(100 * location) + \"%\");\n\t\t\t}\n\t\t});\n\n\treturn declare(\"Ti.UI.ProgressBar\", Widget, {\n\t\t\n\t\tconstructor: function() {\n\t\t\tthis._add(this._contentContainer = UI.createView({\n\t\t\t\twidth: UI.INHERIT,\n\t\t\t\theight: UI.INHERIT,\n\t\t\t\tleft: 0,\n\t\t\t\ttop: 0,\n\t\t\t\tlayout: UI._LAYOUT_CONSTRAINING_VERTICAL\n\t\t\t}));\n\t\t\tthis._contentContainer._layout._defaultHorizontalLayout = \"start\";\n\t\t\tthis._contentContainer._add(this._message = UI.createLabel());\n\t\t\tthis._contentContainer._add(this._progressBar = new InternalProgressBar({\n\t\t\t\twidth: UI.INHERIT,\n\t\t\t\theight: UI.INHERIT\n\t\t\t}));\n\t\t},\n\t\t\n\t\t_updateSize: function() {\n\t\t\tthis._progressBar._setPosition((this.value - this.min) / (this.max - this.min));\n\t\t},\n\n\t\t_defaultWidth: UI.SIZE,\n\n\t\t_defaultHeight: UI.SIZE,\n\t\t\n\t\tproperties: {\n\t\t\tcolor: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\tthis._message.color = value;\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\tfont: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\tthis._message.font = value;\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\tmessage: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\tthis._message.text = value;\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\tmin: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\treturn Math.min(value, this.max);\n\t\t\t\t},\n\t\t\t\tpost: \"_updateSize\",\n\t\t\t\tvalue: 0\n\t\t\t},\n\t\t\t\n\t\t\tmax: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\treturn Math.max(value, this.min);\n\t\t\t\t},\n\t\t\t\tpost: \"_updateSize\",\n\t\t\t\tvalue: 100\n\t\t\t},\n\t\t\t\n\t\t\tvalue: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\treturn Math.min(Math.max(value, this.min), this.max);\n\t\t\t\t},\n\t\t\t\tpost: \"_updateSize\",\n\t\t\t\tvalue: 0\n\t\t\t}\n\t\t}\n\t\t\n\t});\n});\n},\n\"Ti/UI/ScrollView\":function(){\n/* /titanium/Ti/UI/ScrollView.js */\n\n/*global define*/\ndefine(['Ti/_/declare', 'Ti/_/UI/KineticScrollView', 'Ti/_/style', 'Ti/_/lang', 'Ti/UI'],\n\tfunction(declare, KineticScrollView, style, lang, UI) {\n\n\tvar isDef = lang.isDef,\n\n\t\t// The amount of deceleration (in pixels/ms^2)\n\t\tdeceleration = 0.001;\n\n\treturn declare('Ti.UI.ScrollView', KineticScrollView, {\n\n\t\tconstructor: function() {\n\t\t\tvar contentContainer;\n\t\t\tthis._initKineticScrollView(contentContainer = UI.createView({\n\t\t\t\twidth: UI.SIZE,\n\t\t\t\theight: UI.SIZE,\n\t\t\t\t_minWidth: '100%',\n\t\t\t\t_minHeight: '100%',\n\t\t\t\tleft: 0,\n\t\t\t\ttop: 0\n\t\t\t}), 'both', 'both', 1);\n\t\t},\n\n\t\t_handleMouseWheel: function() {\n\t\t\tthis._isScrollBarActive && this.fireEvent('scroll',{\n\t\t\t\tx: -this._currentTranslationX,\n\t\t\t\ty: -this._currentTranslationY,\n\t\t\t\tdragging: false,\n\t\t\t\tdecelerating: false\n\t\t\t});\n\t\t},\n\n\t\t_handleDragStart: function() {\n\t\t\tthis.fireEvent('dragStart');\n\t\t},\n\n\t\t_handleDrag: function() {\n\t\t\tthis.fireEvent('scroll',{\n\t\t\t\tx: -this._currentTranslationX,\n\t\t\t\ty: -this._currentTranslationY,\n\t\t\t\tdragging: true,\n\t\t\t\tdecelerating: false\n\t\t\t});\n\t\t},\n\n\t\t_handleDragEnd: function(e, velocityX, velocityY) {\n\t\t\tif (isDef(velocityX)) {\n\t\t\t\tvar self = this,\n\t\t\t\t\tvelocity = Math.sqrt(velocityX * velocityX + velocityY * velocityY),\n\t\t\t\t\tdistance = velocity * velocity / (1.724 * deceleration),\n\t\t\t\t\tduration = velocity / deceleration,\n\t\t\t\t\ttheta = Math.atan(Math.abs(velocityY / velocityX)),\n\t\t\t\t\tdistanceX = distance * Math.cos(theta) * (velocityX < 0 ? -1 : 1),\n\t\t\t\t\tdistanceY = distance * Math.sin(theta) * (velocityY < 0 ? -1 : 1),\n\t\t\t\t\ttranslationX = Math.min(0, Math.max(self._minTranslationX, self._currentTranslationX + distanceX)),\n\t\t\t\t\ttranslationY = Math.min(0, Math.max(self._minTranslationY, self._currentTranslationY + distanceY));\n\t\t\t\tself.fireEvent('dragEnd',{\n\t\t\t\t\tdecelerate: true\n\t\t\t\t});\n\t\t\t\tself._animateToPosition(translationX, translationY, duration, UI.ANIMATION_CURVE_EASE_OUT, function() {\n\t\t\t\t\tself._setTranslation(translationX, translationY);\n\t\t\t\t\tself._endScrollBars();\n\t\t\t\t\tself.fireEvent('scrollEnd');\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tscrollTo: function(x, y) {\n\t\t\tthis._setTranslation(x !== null ? -x : this._currentTranslationX, y !== null ? -y : this._currentTranslationX);\n\t\t},\n\n\t\t_defaultWidth: UI.FILL,\n\n\t\t_defaultHeight: UI.FILL,\n\n\t\t_getContentOffset: function(){\n\t\t\treturn this.contentOffset;\n\t\t},\n\n\t\t_preLayout: function() {\n\t\t\tvar needsRecalculation = this._contentContainer.layout === this.layout;\n\t\t\tthis._contentContainer.layout = this.layout;\n\t\t\treturn needsRecalculation;\n\t\t},\n\n\t\tadd: function(view) {\n\t\t\tthis._contentContainer._add(view);\n\t\t\tthis._publish(view);\n\t\t},\n\n\t\tremove: function(view) {\n\t\t\tthis._contentContainer.remove(view);\n\t\t\tthis._unpublish(view);\n\t\t},\n\n\t\tproperties: {\n\t\t\tcontentHeight: {\n\t\t\t\tget: function() {\n\t\t\t\t\treturn this._contentContainer.height;\n\t\t\t\t},\n\t\t\t\tset: function(value) {\n\t\t\t\t\tthis._contentContainer.height = value;\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tcontentOffset: {\n\t\t\t\tget: function() {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tx: -this._currentTranslationX,\n\t\t\t\t\t\ty: -this._currentTranslationY\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t\tset: function(value) {\n\t\t\t\t\tthis._setTranslation(isDef(value.x) ? -value.x : this._currentTranslationX,\n\t\t\t\t\t\tisDef(value.y) ? -value.y : this._currentTranslationY);\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tcontentWidth: {\n\t\t\t\tget: function() {\n\t\t\t\t\treturn this._contentContainer.width;\n\t\t\t\t},\n\t\t\t\tset: function(value) {\n\t\t\t\t\tthis._contentContainer.width = value;\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tdisableBounce: false,\n\n\t\t\thorizontalBounce: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\treturn this._horizontalElastic = value;\n\t\t\t\t},\n\t\t\t\tvalue: true\n\t\t\t},\n\n\t\t\tlayout: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\treturn this._contentContainer.layout = value;\n\t\t\t\t},\n\t\t\t\tvalue: 'composite'\n\t\t\t},\n\n\t\t\tshowHorizontalScrollIndicator: {\n\t\t\t\tset: function(value, oldValue) {\n\t\t\t\t\tif (value !== oldValue) {\n\t\t\t\t\t\tif (value) {\n\t\t\t\t\t\t\tthis._createHorizontalScrollBar();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis._destroyHorizontalScrollBar();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t},\n\t\t\t\tvalue: true\n\t\t\t},\n\n\t\t\tshowVerticalScrollIndicator: {\n\t\t\t\tset: function(value, oldValue) {\n\t\t\t\t\tif (value !== oldValue) {\n\t\t\t\t\t\tif (value) {\n\t\t\t\t\t\t\tthis._createVerticalScrollBar();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis._destroyVerticalScrollBar();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t},\n\t\t\t\tvalue: true\n\t\t\t},\n\n\t\t\tverticalBounce: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\treturn this._verticalElastic = value;\n\t\t\t\t},\n\t\t\t\tvalue: true\n\t\t\t}\n\t\t}\n\n\t});\n\n});\n},\n\"Ti/_/UI/KineticScrollView\":function(){\n/* /titanium/Ti/_/UI/KineticScrollView.js */\n\ndefine([\"Ti/_/browser\", \"Ti/_/declare\", \"Ti/UI/View\", \"Ti/_/lang\", \"Ti/_/dom\", \"Ti/_/style\", \"Ti/UI\", \"Ti/_/event\"],\n\tfunction(browser, declare, View, lang, dom, style, UI, event) {\n\n\tvar setStyle = style.set,\n\t\tunitize = dom.unitize,\n\t\tcalculateDistance = dom.calculateDistance,\n\t\ton = require.on,\n\n\t\t// This is the limit that elastic drags will go towards (i.e. limit as x->infinity = elasticityLimit)\n\t\telasticityLimit = 100,\n\n\t\t// Controls the friction curve for elastic dragging. The higher the value, the sooner drag starts to kick in. \n\t\t// Must be greater than or equal to elasticityLimit otherwise the curve has a slope greater than 1, which is bad.\n\t\telasticityDrag = 100;\n\n\treturn declare(\"Ti._.UI.KineticScrollView\", View, {\n\n\t\t_initKineticScrollView: function(contentContainer, elasticity, scrollbars, enableMouseWheel){\n\n\t\t\tvar contentContainerDomNode,\n\t\t\t\tself = this,\n\t\t\t\tvelocity = 0,\n\t\t\t\tstartTranslationX,\n\t\t\t\tstartTranslationY,\n\t\t\t\ttranslationX,\n\t\t\t\ttranslationY,\n\t\t\t\tminTranslationX,\n\t\t\t\tminTranslationY,\n\t\t\t\tpositionData,\n\t\t\t\tpreviousTime,\n\t\t\t\tcurrentTime,\n\t\t\t\tperiod,\n\t\t\t\tpreviousTranslationX,\n\t\t\t\tpreviousTranslationY,\n\t\t\t\tnumSamples,\n\t\t\t\tvelocityX,\n\t\t\t\tvelocityY,\n\t\t\t\tscrollbarTimeout;\n\t\t\tself._currentTranslationX = 0;\n\t\t\tself._currentTranslationY = 0;\n\t\t\tself._horizontalElastic = elasticity === \"horizontal\" || elasticity === \"both\";\n\t\t\tself._verticalElastic = elasticity === \"vertical\" || elasticity === \"both\";\n\t\t\tself._kineticTransform = UI.create2DMatrix();\n\t\t\t\n\t\t\t(scrollbars === \"horizontal\" || scrollbars === \"both\") && self._createHorizontalScrollBar();\n\t\t\t(scrollbars === \"vertical\" || scrollbars === \"both\") && self._createVerticalScrollBar();\n\n\t\t\t// Create the content container\n\t\t\tself._add(self._contentContainer = contentContainer);\n\t\t\tcontentContainerDomNode = contentContainer.domNode;\n\n\t\t\t// Calculate the velocity by calculating a weighted slope average, favoring more recent movement\n\t\t\tfunction calculateVelocity() {\n\t\t\t\tcurrentTime = Date.now();\n\t\t\t\tperiod = currentTime - previousTime;\n\t\t\t\tpreviousTime = currentTime;\n\t\t\t\tif (numSamples++) {\n\t\t\t\t\tvelocityX = (velocityX * (numSamples - 1) + numSamples * (translationX - previousTranslationX) / period) / 2 / numSamples;\n\t\t\t\t\tvelocityY = (velocityY * (numSamples - 1) + numSamples * (translationY - previousTranslationY) / period) / 2 / numSamples;\n\t\t\t\t} else {\n\t\t\t\t\tvelocityX = (translationX - startTranslationX) / period;\n\t\t\t\t\tvelocityY = (translationY - startTranslationY) / period;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tfunction setMinTranslations() {\n\t\t\t\tminTranslationX = self._minTranslationX = Math.min(0, self._measuredWidth - self._borderLeftWidth - self._borderRightWidth - self._contentContainer._measuredWidth);\n\t\t\t\tminTranslationY = self._minTranslationY = Math.min(0, self._measuredHeight - self._borderTopWidth - self._borderBottomWidth - self._contentContainer._measuredHeight);\n\t\t\t}\n\t\t\t\n\t\t\ton(self._contentContainer, \"postlayout\", function() {\n\t\t\t\tsetMinTranslations();\n\t\t\t\tself._setTranslation(self._currentTranslationX, self._currentTranslationY);\n\t\t\t});\n\n\t\t\ton(self, \"draggingstart\", function(e) {\n\t\t\t\tif (self.scrollingEnabled) {\n\t\t\t\t\tself._cancelAnimations();\n\n\t\t\t\t\t// Initialize the velocity calculations\n\t\t\t\t\tvelocityX = void 0;\n\t\t\t\t\tvelocityY = void 0;\n\t\t\t\t\tstartTranslationX = self._currentTranslationX;\n\t\t\t\t\tstartTranslationY = self._currentTranslationY;\n\t\t\t\t\tnumSamples = 0;\n\t\t\t\t\tpreviousTime = (new Date).getTime();\n\n\t\t\t\t\tsetMinTranslations();\n\n\t\t\t\t\t// Start the scroll bars\n\t\t\t\t\tvar width = self._measuredWidth,\n\t\t\t\t\t\theight = self._measuredHeight,\n\t\t\t\t\t\tcontentWidth = contentContainer._measuredWidth,\n\t\t\t\t\t\tcontentHeight = contentContainer._measuredHeight;\n\t\t\t\t\tself._startScrollBars({\n\t\t\t\t\t\tx: -self._currentTranslationX / (contentWidth - width),\n\t\t\t\t\t\ty: -self._currentTranslationY / (contentHeight - height)\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tx: width / contentWidth,\n\t\t\t\t\t\ty: height / contentHeight\n\t\t\t\t\t});\n\n\t\t\t\t\t// Call the callback\n\t\t\t\t\tself._handleDragStart && self._handleDragStart(e);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\ton(self, \"dragging\", function(e) {\n\t\t\t\tif (self.scrollingEnabled) {\n\t\t\t\t\t// Update the velocity calculations\n\t\t\t\t\ttranslationX = startTranslationX + e.distanceX;\n\t\t\t\t\ttranslationY = startTranslationY + e.distanceY;\n\t\t\t\t\tcalculateVelocity();\n\n\t\t\t\t\t// Update the translation\n\t\t\t\t\tself._setTranslation(previousTranslationX = translationX, previousTranslationY = translationY);\n\t\t\t\t\t\n\t\t\t\t\tself._handleDrag && self._handleDrag(e);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\ton(self, \"draggingcancel\", function(e) {\n\t\t\t\tif (self.scrollingEnabled) {\n\t\t\t\t\tself._animateToPosition(startTranslationX, startTranslationY, 400 + 0.3 * calculateDistance(\n\t\t\t\t\t\t\tstartTranslationX, startTranslationY, self._currentTranslationX, self._currentTranslationY),\n\t\t\t\t\t\tUI.ANIMATION_CURVE_EASE_IN_OUT, function(){\n\t\t\t\t\t\t\tself._handleDragCancel && self._handleDragCancel(e);\n\t\t\t\t\t\t});\n\t\t\t\t\tself._endScrollBars();\n\t\t\t\t\tself._handleDragCancel && self._handleDragCancel(e);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\ton(self, \"draggingend\", function(e) {\n\t\t\t\tif (self.scrollingEnabled) {\n\t\t\t\t\ttranslationX = startTranslationX + e.distanceX;\n\t\t\t\t\ttranslationY = startTranslationY + e.distanceY;\n\t\t\t\t\tcalculateVelocity();\n\t\t\t\t\tvar x = self._currentTranslationX,\n\t\t\t\t\t\ty = self._currentTranslationY,\n\t\t\t\t\t\tspringBack;\n\n\t\t\t\t\t// Spring back if need be\n\t\t\t\t\tif (x > 0) {\n\t\t\t\t\t\tx = 0;\n\t\t\t\t\t\tspringBack = 1;\n\t\t\t\t\t} else if(x < minTranslationX) {\n\t\t\t\t\t\tx = minTranslationX;\n\t\t\t\t\t\tspringBack = 1;\n\t\t\t\t\t}\n\t\t\t\t\tif (y > 0) {\n\t\t\t\t\t\ty = 0;\n\t\t\t\t\t\tspringBack = 1;\n\t\t\t\t\t} else if(y < minTranslationY) {\n\t\t\t\t\t\ty = minTranslationY;\n\t\t\t\t\t\tspringBack = 1;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (springBack) {\n\t\t\t\t\t\tself._animateToPosition(x, y, 200, UI.ANIMATION_CURVE_EASE_OUT, function(){\n\t\t\t\t\t\t\tself._handleDragEnd && self._handleDragEnd(e);\n\t\t\t\t\t\t\tself._endScrollBars();\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself._handleDragEnd && self._handleDragEnd(e, velocityX, velocityY);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar mouseWheelEvent = navigator.userAgent.indexOf(\"Firefox\") != -1 ? \"DOMMouseScroll\" : \"mousewheel\";\n\t\t\tenableMouseWheel && (this._disconnectMouseWheelEvent = on(self.domNode, mouseWheelEvent,function(e) {\n\t\t\t\tif (self.scrollingEnabled) {\n\n\t\t\t\t\tif (mouseWheelEvent == \"DOMMouseScroll\") { //Patch Firefox\n\t\t\t\t\t\te.wheelDeltaY = - e.detail * 40; //Normalize Value (FF \"detail\" is either 3 or -3)\n\t\t\t\t\t\te.wheelDeltaX = 0;\n\t\t\t\t\t} else if (e.wheelDelta && !e.wheelDeltaX) { //Patch IE as it only has e.wheelDelta\n\t\t\t\t\t\te.wheelDeltaY = e.wheelDelta;\n\t\t\t\t\t\te.wheelDeltaX = 0;\n\t\t\t\t\t}\n\t\t\t\t\tif (e.shiftKey) { //Translate the scroll direction by 90 degrees for shift + scroll\n\t\t\t\t\t\te.wheelDeltaX = e.wheelDeltaY;\n\t\t\t\t\t\te.wheelDeltaY = 0;\n\t\t\t\t\t} else if (e.ctrlKey) {\n\t\t\t\t\t\t//TODO turn control + mousewheel into zoom/pinch\n\t\t\t\t\t\te.preventDefault(); //For now, prevent standard browser ctrl + scroll zoom\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tself._cancelAnimations();\n\t\t\t\t\tvar distanceX = contentContainer._measuredWidth - self._measuredWidth,\n\t\t\t\t\t\tdistanceY = contentContainer._measuredHeight - self._measuredHeight,\n\t\t\t\t\t\tcurrentPositionX = -self._currentTranslationX,\n\t\t\t\t\t\tcurrentPositionY = -self._currentTranslationY;\n\n\t\t\t\t\tsetMinTranslations();\n\n\t\t\t\t\t// Start the scrollbar\n\t\t\t\t\tself._startScrollBars({\n\t\t\t\t\t\t\tx: currentPositionX / distanceX,\n\t\t\t\t\t\t\ty: currentPositionY / distanceY\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tx: self._measuredWidth / contentContainer._measuredWidth,\n\t\t\t\t\t\t\ty: self._measuredHeight / contentContainer._measuredHeight\n\t\t\t\t\t\t});\n\n\t\t\t\t\t// Set the scroll position\n\t\t\t\t\tself._setTranslation(Math.min(0, Math.max(self._minTranslationX,-currentPositionX + e.wheelDeltaX)),\n\t\t\t\t\t\tMath.min(0, Math.max(self._minTranslationY,-currentPositionY + e.wheelDeltaY)));\n\n\t\t\t\t\tclearTimeout(scrollbarTimeout);\n\t\t\t\t\tscrollbarTimeout = setTimeout(function(){\n\t\t\t\t\t\tself._endScrollBars();\n\t\t\t\t\t},500);\n\n\t\t\t\t\tself._handleMouseWheel && self._handleMouseWheel();\n\t\t\t\t}\n\t\t\t}));\n\t\t},\n\n\t\tdestroy: function() {\n\t\t\tthis._disconnectMouseWheelEvent && this._disconnectMouseWheelEvent();\n\t\t\tView.prototype.destroy.apply(this, arguments);\n\t\t},\n\n\t\t_animateToPosition: function(destinationTranslationX, destinationTranslationY, duration, curve, callback) {\n\t\t\tvar self = this,\n\t\t\t\tcontentContainer = self._contentContainer,\n\t\t\t\tcontentContainerDomNode = contentContainer.domNode,\n\t\t\t\tdestination,\n\t\t\t\thorizontalScrollBar = self._horizontalScrollBar,\n\t\t\t\tverticalScrollBar = self._verticalScrollBar;\n\t\t\t\n\t\t\tif (calculateDistance(self._currentTranslationX, self._currentTranslationY, destinationTranslationX, destinationTranslationY) < 1) {\n\t\t\t\tself._setTranslation(destinationTranslationX, destinationTranslationY);\n\t\t\t\tcallback();\n\t\t\t} else {\n\n\t\t\t\t// Animate the contents\n\t\t\t\tdestination = self._setTranslation(destinationTranslationX, destinationTranslationY, 1);\n\t\t\t\tself._contentAnimation = contentContainer.animate({\n\t\t\t\t\ttransform: self._kineticTransform.translate(destination.translationX, destination.translationY),\n\t\t\t\t\tduration: Math.round(duration),\n\t\t\t\t\tcurve: curve\n\t\t\t\t}, callback);\n\n\t\t\t\t// Animate the scroll bars\n\t\t\t\tself._horizontalScrollBarAnimation = horizontalScrollBar && horizontalScrollBar.animate({\n\t\t\t\t\ttransform: this._kineticTransform.translate(Math.max(0,Math.min(1, \n\t\t\t\t\t\t-destination.translationX / (contentContainer._measuredWidth - self._measuredWidth))) *\n\t\t\t\t\t\t(this._measuredWidth - this._scrollBarWidth), 0),\n\t\t\t\t\tduration: duration,\n\t\t\t\t\tcurve: curve\n\t\t\t\t});\n\t\t\t\tself._verticalScrollBarAnimation = verticalScrollBar && verticalScrollBar.animate({\n\t\t\t\t\ttransform: this._kineticTransform.translate(0, Math.max(0,Math.min(1, \n\t\t\t\t\t\t-destination.translationY / (contentContainer._measuredHeight - self._measuredHeight))) *\n\t\t\t\t\t\t(this._measuredHeight - this._scrollBarHeight)),\n\t\t\t\t\tduration: duration,\n\t\t\t\t\tcurve: curve\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t_setTranslation: function(translationX, translationY, dontSet) {\n\n\t\t\t// Check if the translation is outside the limits of the view and apply elasticity\n\t\t\tfunction elastize(value) {\n\t\t\t\treturn elasticityLimit * (-1 / (value / elasticityDrag + 1) + 1);\n\t\t\t}\n\t\t\tvar contentContainer = this._contentContainer,\n\t\t\t\tminTranslationX = this._minTranslationX,\n\t\t\t\tminTranslationY = this._minTranslationY,\n\t\t\t\thorizontalElastic = this._horizontalElastic && !this.disableBounce && \n\t\t\t\t\tthis._measuredWidth < contentContainer._measuredWidth,\n\t\t\t\tverticalElastic = this._verticalElastic && !this.disableBounce && \n\t\t\t\t\tthis._measuredHeight < contentContainer._measuredHeight,\n\t\t\t\twidth = this._measuredWidth,\n\t\t\t\theight = this._measuredHeight,\n\t\t\t\tcontentWidth = contentContainer._measuredWidth,\n\t\t\t\tcontentHeight = contentContainer._measuredHeight;\n\n\t\t\tif (translationX > 0) {\n\t\t\t\ttranslationX = horizontalElastic ? elastize(translationX) : 0;\n\t\t\t} else if(translationX < minTranslationX) {\n\t\t\t\ttranslationX = horizontalElastic ? minTranslationX - elastize(minTranslationX - translationX) : minTranslationX;\n\t\t\t}\n\t\t\tif (translationY > 0) {\n\t\t\t\ttranslationY = verticalElastic ? elastize(translationY) : 0;\n\t\t\t} else if(translationY < minTranslationY) {\n\t\t\t\ttranslationY = verticalElastic ? minTranslationY - elastize(minTranslationY - translationY) : minTranslationY;\n\t\t\t}\n\n\t\t\t// Apply the translation\n\t\t\tdontSet || this._contentContainer.animate({\n\t\t\t\ttransform: this._kineticTransform.translate(this._currentTranslationX = translationX, this._currentTranslationY = translationY)\n\t\t\t});\n\n\t\t\t// Update the scroll bars\n\t\t\tif (this._isScrollBarActive) {\n\t\t\t\tvar horizontalScrollBar = this._horizontalScrollBar,\n\t\t\t\t\tverticalScrollBar = this._verticalScrollBar;\n\t\t\t\t\n\t\t\t\thorizontalScrollBar && horizontalScrollBar.animate({\n\t\t\t\t\ttransform: this._kineticTransform.translate(Math.max(0,Math.min(1, \n\t\t\t\t\t\t-translationX / (contentWidth - width))) * (this._measuredWidth - this._scrollBarWidth), 0)\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tverticalScrollBar && verticalScrollBar.animate({\n\t\t\t\t\ttransform: this._kineticTransform.translate(0, Math.max(0,Math.min(1,\n\t\t\t\t\t\t-translationY / (contentHeight - height))) * (this._measuredHeight - this._scrollBarHeight))\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Return the results\n\t\t\treturn {\n\t\t\t\ttranslationX: translationX,\n\t\t\t\ttranslationY: translationY\n\t\t\t}\n\t\t},\n\n\t\t_cancelAnimations: function() {\n\t\t\tthis._horizontalScrollBarAnimation && this._horizontalScrollBarAnimation.cancel();\n\t\t\tthis._verticalScrollBarAnimation && this._verticalScrollBarAnimation.cancel();\n\t\t\tthis._contentAnimation && this._contentAnimation.cancel();\n\t\t},\n\n\t\t_createHorizontalScrollBar: function() {\n\t\t\tthis._horizontalScrollBar || this._add(this._horizontalScrollBar = UI.createView({\n\t\t\t\tzIndex: 0x7FFFFFFF, // Max (32-bit) z-index\n\t\t\t\tbackgroundColor: \"#555\",\n\t\t\t\tborderRadius: 3,\n\t\t\t\twidth: 0,\n\t\t\t\theight: 6,\n\t\t\t\tleft: 0,\n\t\t\t\tbottom: 0,\n\t\t\t\topacity: 0\n\t\t\t}));\n\t\t},\n\t\t\n\t\t_createVerticalScrollBar: function() {\t\t\t\n\t\t\tthis._verticalScrollBar || this._add(this._verticalScrollBar = UI.createView({\n\t\t\t\tzIndex: 0x7FFFFFFF, // Max (32-bit) z-index\n\t\t\t\tbackgroundColor: \"#555\",\n\t\t\t\tborderRadius: 3,\n\t\t\t\twidth: 6,\n\t\t\t\theight: 0,\n\t\t\t\tright: 0,\n\t\t\t\ttop: 0,\n\t\t\t\topacity: 0\n\t\t\t}));\n\t\t},\n\n\t\t_destroyHorizontalScrollBar: function() {\n\t\t\tthis._horizontalScrollBarAnimation && this._horizontalScrollBarAnimation.cancel();\n\t\t\tthis._remove(this._horizontalScrollBar);\n\t\t},\n\n\t\t_destroyVerticalScrollBar: function() {\n\t\t\tthis._verticalScrollBarAnimation && this._verticalScrollBarAnimation.cancel();\n\t\t\tthis._remove(this._verticalScrollBar);\n\t\t},\n\n\t\t_startScrollBars: function(normalizedScrollPosition, visibleAreaRatio) {\n\n\t\t\tif (this._horizontalScrollBar && visibleAreaRatio.x < 1 && visibleAreaRatio.x > 0) {\n\t\t\t\tvar measuredWidth = this._measuredWidth,\n\t\t\t\t\tscrollBarWidth = this._scrollBarWidth = Math.round(Math.max(10, measuredWidth * visibleAreaRatio.x)),\n\t\t\t\t\thorizontalScrollBar = this._horizontalScrollBar;\n\t\t\t\thorizontalScrollBar.opacity = 0.5;\n\t\t\t\thorizontalScrollBar.domNode.style.width = unitize(scrollBarWidth);\n\t\t\t\thorizontalScrollBar.animate({\n\t\t\t\t\ttransform: this._kineticTransform.translate(Math.max(0, Math.min(1, normalizedScrollPosition.x)) * \n\t\t\t\t\t\t(measuredWidth - scrollBarWidth), 0)\n\t\t\t\t});\n\t\t\t\tthis._isScrollBarActive = 1;\n\t\t\t}\n\n\t\t\tif (this._verticalScrollBar && visibleAreaRatio.y < 1 && visibleAreaRatio.y > 0) {\n\t\t\t\tvar measuredHeight = this._measuredHeight,\n\t\t\t\t\tscrollBarHeight = this._scrollBarHeight = Math.round(Math.max(10, measuredHeight * visibleAreaRatio.y)),\n\t\t\t\t\tverticalScrollBar = this._verticalScrollBar;\n\t\t\t\tverticalScrollBar.opacity = 0.5;\n\t\t\t\tverticalScrollBar.domNode.style.height = unitize(scrollBarHeight);\n\t\t\t\tverticalScrollBar.animate({\n\t\t\t\t\ttransform: this._kineticTransform.translate(0, Math.max(0, Math.min(1, normalizedScrollPosition.y)) * \n\t\t\t\t\t\t(measuredHeight - scrollBarHeight))\n\t\t\t\t});\n\t\t\t\tthis._isScrollBarActive = 1;\n\t\t\t}\n\t\t},\n\n\t\t_endScrollBars: function() {\n\t\t\tif (this._isScrollBarActive) {\n\t\t\t\tvar self = this,\n\t\t\t\t\thorizontalScrollBar = self._horizontalScrollBar,\n\t\t\t\t\tverticalScrollBar = self._verticalScrollBar;\n\n\t\t\t\tfunction animateScrollBar(scrollBar) {\n\t\t\t\t\tscrollBar && scrollBar.animate({\n\t\t\t\t\t\topacity: 0,\n\t\t\t\t\t\tduration: 500\n\t\t\t\t\t}, function() {\n\t\t\t\t\t\tself._isScrollBarActive = false;\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tanimateScrollBar(horizontalScrollBar);\n\t\t\t\tanimateScrollBar(verticalScrollBar);\n\t\t\t}\n\t\t},\n\t\t\n\t\tproperties: {\n\t\t\tscrollingEnabled: true\n\t\t}\n\t});\n});\n},\n\"Ti/UI/ScrollableView\":function(){\n/* /titanium/Ti/UI/ScrollableView.js */\n\n/*global define window*/\ndefine(['Ti/_/declare', 'Ti/UI/View', 'Ti/_/dom', 'Ti/_/has', 'Ti/_/style', 'Ti/UI', 'Ti/_/browser'],\n\tfunction(declare, View, dom, has, style, UI, browser) {\n\n\tvar setStyle = style.set,\n\t\tis = require.is,\n\t\tunitize = dom.unitize,\n\t\ton = require.on,\n\t\tonce = on.once,\n\t\tglobal = window,\n\t\ttransitionEnd = browser.runtime == 'webkit' ? 'webkitTransitionEnd' : 'transitionend',\n\n\t\tuseTouch = has('touch'),\n\t\tusePointer = global.navigator.msPointerEnabled,\n\n\t\t// Maximum time that a gesture can be considered a flick\n\t\tmaxFlickTime = 200,\n\n\t\t// Minimum distance that must be traveled to register the flick\n\t\tflickThreshold = 10,\n\n\t\tminAnimationTime = 25,\n\n\t\tmaxAnimationTime = 1000,\n\n\t\tflickAnimationScaleFactor = 0.5,\n\n\t\tdragAnimationScaleFactor = 2;\n\n\treturn declare('Ti.UI.ScrollableView', View, {\n\n\t\tconstructor: function(){\n\n\t\t\t// Create the content container\n\t\t\tvar containerDomNode,\n\t\t\t\tself = this,\n\t\t\t\toffsetX = 0;\n\t\t\tself._add(self._contentContainer = UI.createView({\n\t\t\t\tleft: 0,\n\t\t\t\ttop: 0,\n\t\t\t\twidth: UI.SIZE,\n\t\t\t\theight: '100%',\n\t\t\t\tlayout: 'constrainingHorizontal'\n\t\t\t}));\n\t\t\tcontainerDomNode = self._contentContainer.domNode;\n\n\t\t\t// Create the paging control container\n\t\t\tself._add(self._pagingControlContainer = UI.createView({\n\t\t\t\twidth: '100%',\n\t\t\t\theight: 20,\n\t\t\t\tbottom: 0,\n\t\t\t\tbackgroundColor: 'black',\n\t\t\t\topacity: 0,\n\t\t\t\ttouchEnabled: false\n\t\t\t}));\n\n\t\t\tself._pagingControlContainer._add(self._pagingControlContentContainer = UI.createView({\n\t\t\t\twidth: UI.SIZE,\n\t\t\t\theight: '100%',\n\t\t\t\ttop: 0,\n\t\t\t\ttouchEnabled: false,\n\t\t\t\tlayout: 'constrainingHorizontal'\n\t\t\t}));\n\n\t\t\t// State variables\n\t\t\tself.__values__.properties.views = [];\n\t\t\tself._viewToRemoveAfterScroll = -1;\n\n\t\t\ton(self, 'postlayout', function() {\n\t\t\t\tself._animating || self._setTranslation(self.currentPage * -self._measuredWidth);\n\t\t\t});\n\n\t\t\t// NOTE: MSPointer* events should be converted to just pointer* once Windows Phone 8.1 is out\n\t\t\ton(containerDomNode, usePointer ? 'MSPointerDown' : useTouch ? 'touchstart' : 'mousedown', function(e) {\n\t\t\t\tvar startX = e.touches ? e.touches[0].clientX : e.clientX,\n\t\t\t\t\tcurrentX = startX,\n\t\t\t\t\tstartTime = Date.now(),\n\t\t\t\t\twidth = self._measuredWidth,\n\t\t\t\t\tmouseMoveListener = function(e) {\n\t\t\t\t\t\tvar currentPage = self.currentPage,\n\t\t\t\t\t\t\toffset = currentX - startX + offsetX;\n\t\t\t\t\t\twidth = self._measuredWidth;\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tcurrentX = e.touches ? e.touches[0].clientX : e.clientX;\n\t\t\t\t\t\tself._setTranslation((currentPage * -width) + offset);\n\t\t\t\t\t\tself.fireEvent('scroll', {\n\t\t\t\t\t\t\tcurrentPage: currentPage,\n\t\t\t\t\t\t\tcurrentPageAsFloat: currentPage - offset / width,\n\t\t\t\t\t\t\tview: self.views[currentPage]\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tmouseUpListener = function(e) {\n\t\t\t\t\t\tvar\tnow = Date.now(),\n\t\t\t\t\t\t\tisFlick = now - startTime < maxFlickTime,\n\t\t\t\t\t\t\tcurrentPage = self.currentPage,\n\t\t\t\t\t\t\tthresholdMet = Math.abs(startX - currentX) > (isFlick ? flickThreshold : width / 2),\n\t\t\t\t\t\t\tprops = self.__values__.properties,\n\t\t\t\t\t\t\tduration = Math.abs(currentX - startX);\n\t\t\t\t\t\tglobal.removeEventListener(usePointer ? 'MSPointerMove' : useTouch ? 'touchmove' : 'mousemove', mouseMoveListener);\n\t\t\t\t\t\tglobal.removeEventListener(usePointer ? 'MSPointerUp' : useTouch ? 'touchend' : 'mouseup', mouseUpListener);\n\t\t\t\t\t\twidth = self._measuredWidth;\n\t\t\t\t\t\tself._animating = 1;\n\t\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\t\tif (thresholdMet) {\n\t\t\t\t\t\t\tif (startX > currentX) {\n\t\t\t\t\t\t\t\tcurrentPage !== props.views.length - 1 && currentPage++;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcurrentPage !== 0 && currentPage--;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tduration = width - duration;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself._showPagingControl(currentPage);\n\t\t\t\t\t\toffsetX = currentX - startX + offsetX;\n\t\t\t\t\t\tduration = Math.max(minAnimationTime, Math.min(maxAnimationTime,\n\t\t\t\t\t\t\t(isFlick ? flickAnimationScaleFactor : dragAnimationScaleFactor) * duration));\n\t\t\t\t\t\tsetStyle(containerDomNode, 'transition', duration + 'ms ease-out');\n\t\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\t\tonce(containerDomNode, transitionEnd, function() {\n\t\t\t\t\t\t\t\tsetStyle(containerDomNode, 'transition', '');\n\t\t\t\t\t\t\t\tself._animating = 0;\n\t\t\t\t\t\t\t\tprops.currentPage = currentPage;\n\t\t\t\t\t\t\t\tself._updatePagingControl();\n\t\t\t\t\t\t\t\tself.fireEvent('scrollend',{\n\t\t\t\t\t\t\t\t\tcurrentPage: currentPage,\n\t\t\t\t\t\t\t\t\tview: self.views[currentPage]\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tself._setTranslation(currentPage * -width);\n\t\t\t\t\t\t}, 1);\n\t\t\t\t\t\tself.fireEvent('dragend', {\n\t\t\t\t\t\t\tcurrentPage: currentPage,\n\t\t\t\t\t\t\tview: self.views[currentPage]\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\t\t\t\tself._showPagingControl(self.currentPage, 1);\n\t\t\t\te.preventDefault();\n\t\t\t\toffsetX = self._animating ? offsetX || 0 : 0;\n\t\t\t\tsetStyle(containerDomNode, 'transition', '');\n\t\t\t\tself._setTranslation((self.currentPage * -width) + offsetX);\n\t\t\t\tself._animating = 0;\n\t\t\t\tglobal.addEventListener(usePointer ? 'MSPointerMove' : useTouch ? 'touchmove' : 'mousemove', mouseMoveListener);\n\t\t\t\tglobal.addEventListener(usePointer ? 'MSPointerUp' : useTouch ? 'touchend' : 'mouseup', mouseUpListener);\n\t\t\t\tself.fireEvent('dragstart');\n\t\t\t});\n\t\t},\n\n\t\t_setTranslation: function(offset) {\n\t\t\tsetStyle(this._contentContainer.domNode, 'transform', 'translatez(0) translatex(' + offset + 'px)');\n\t\t},\n\n\t\t_showPagingControl: function(newIndex, indefinite) {\n\t\t\tvar self = this;\n\t\t\tif (!self.showPagingControl) {\n\t\t\t\tself._pagingControlContainer.opacity = 0;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tself._pagingAnimation && self._pagingAnimation.cancel();\n\t\t\tself._pagingAnimation = self._pagingControlContainer.animate({\n\t\t\t\tduration: 250,\n\t\t\t\topacity: 0.75\n\t\t\t});\n\t\t\tclearInterval(self._pagingTimeout);\n\t\t\tif (!indefinite && self.pagingControlTimeout > 0) {\n\t\t\t\tself._pagingTimeout = setTimeout(function() {\n\t\t\t\t\tself._pagingAnimation && self._pagingAnimation.cancel();\n\t\t\t\t\tself._pagingAnimation = self._pagingControlContainer.animate({\n\t\t\t\t\t\tduration: 750,\n\t\t\t\t\t\topacity: 0\n\t\t\t\t\t}, function() {\n\t\t\t\t\t\tself._pagingAnimation = void 0;\n\t\t\t\t\t});\n\t\t\t\t}, self.pagingControlTimeout);\n\t\t\t} else {\n\t\t\t\tself._pagingAnimation = void 0;\n\t\t\t}\n\t\t},\n\n\t\t_updatePagingControl: function() {\n\t\t\tvar contentContainer = this._pagingControlContentContainer,\n\t\t\t\tnumViews = this.views.length,\n\t\t\t\tdiameter = this.pagingControlHeight / 2;\n\t\t\tif (numViews !== contentContainer._numViews || diameter !== contentContainer._diameter) {\n\t\t\t\tcontentContainer._numViews = numViews;\n\t\t\t\tcontentContainer._diameter = diameter;\n\t\t\t\tcontentContainer._removeAllChildren();\n\t\t\t\tfor (var i = 0; i < this.views.length; i++) {\n\t\t\t\t\tcontentContainer._add(UI.createView({\n\t\t\t\t\t\twidth: diameter,\n\t\t\t\t\t\theight: diameter,\n\t\t\t\t\t\tleft: 5,\n\t\t\t\t\t\tright: 5,\n\t\t\t\t\t\tbackgroundColor: '#aaa',\n\t\t\t\t\t\tborderRadius: unitize(diameter / 2)\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t\tcontentContainer._highlightedPage = -1;\n\t\t\t}\n\t\t\tif (contentContainer._highlightedPage !== this.currentPage) {\n\t\t\t\tcontentContainer._highlightedPage < 0 ||\n\t\t\t\t\t(contentContainer._children[contentContainer._highlightedPage].backgroundColor = '#aaa');\n\t\t\t\tcontentContainer._children[this.currentPage].backgroundColor = '#fff';\n\t\t\t\tcontentContainer._highlightedPage = this.currentPage;\n\t\t\t}\n\t\t},\n\n\t\taddView: function(view) {\n\t\t\tif (view) {\n\t\t\t\tview.width = '100%';\n\t\t\t\tview.height = '100%';\n\t\t\t\tthis.views.push(view);\n\t\t\t\tthis._contentContainer._add(view);\n\t\t\t\tif (this.views.length == 1) {\n\t\t\t\t\tthis.__values__.properties.currentPage = 0;\n\t\t\t\t}\n\t\t\t\tthis._updatePagingControl();\n\t\t\t}\n\t\t},\n\n\t\tremoveView: function(view) {\n\n\t\t\t// Get and validate the location of the view\n\t\t\tvar viewIndex = is(view,'Number') ? view : this.views.indexOf(view);\n\t\t\tif (viewIndex < 0 || viewIndex >= this.views.length) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Update the view if this view was currently visible\n\t\t\tif (viewIndex == this.currentPage && this.views.length !== 1) {\n\t\t\t\tthis._viewToRemoveAfterScroll = viewIndex;\n\t\t\t\tthis.scrollToView(viewIndex == this.views.length - 1 ? --viewIndex : ++viewIndex);\n\t\t\t} else {\n\t\t\t\tthis._removeViewFromList(viewIndex);\n\t\t\t}\n\t\t},\n\n\t\t_removeViewFromList: function(viewIndex) {\n\n\t\t\tvar contentContainer = this._contentContainer,\n\t\t\t\tself = this;\n\n\t\t\t// Update the current view if necessary once everything has been re-laid out.\n\t\t\tif (viewIndex < this.currentPage) {\n\t\t\t\tself.__values__.properties.currentPage--;\n\t\t\t}\n\n\t\t\t// Remove the view and update the paging control\n\t\t\tcontentContainer._remove(self.views.splice(viewIndex,1)[0]);\n\t\t\tself.views.length || (self.__values__.properties.currentPage = -1);\n\t\t\tonce(UI, 'postlayout', function() {\n\t\t\t\tsetTimeout(function(){\n\t\t\t\t\tself._setTranslation(self.currentPage * -self._measuredWidth);\n\t\t\t\t}, 1);\n\t\t\t});\n\t\t},\n\n\t\tscrollToView: function(view, noAnimation) {\n\t\t\tvar viewIndex = is(view,'Number') ? view : this.views.indexOf(view),\n\t\t\t\tself = this;\n\n\t\t\t// Sanity check\n\t\t\tif (viewIndex < 0 || viewIndex >= this.views.length || viewIndex == this.currentPage) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfunction scroll(){\n\n\t\t\t\t// Calculate the views to be scrolled\n\t\t\t\tvar contentContainer = self._contentContainer,\n\t\t\t\t\tcontainerDomNode = contentContainer.domNode,\n\t\t\t\t\tdestination = -self.views[viewIndex]._measuredLeft,\n\n\t\t\t\t\t// Calculate a weighted duration so that larger views take longer to scroll.\n\t\t\t\t\tduration = Math.max(minAnimationTime, Math.min(maxAnimationTime,\n\t\t\t\t\t\tdragAnimationScaleFactor * contentContainer._measuredWidth));\n\n\t\t\t\t// Animate the views\n\t\t\t\tself._updatePagingControl();\n\t\t\t\tself._showPagingControl(viewIndex);\n\n\t\t\t\tif (noAnimation) {\n\t\t\t\t\tself._setTranslation(destination);\n\t\t\t\t\tself.__values__.properties.currentPage = viewIndex;\n\t\t\t\t} else {\n\t\t\t\t\tsetStyle(containerDomNode, 'transition', duration + 'ms ease-out');\n\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\tonce(containerDomNode, transitionEnd, function() {\n\t\t\t\t\t\t\tsetStyle(containerDomNode, 'transition', '');\n\t\t\t\t\t\t\tself._animating = 0;\n\t\t\t\t\t\t\tself.__values__.properties.currentPage = viewIndex;\n\t\t\t\t\t\t\tself._updatePagingControl();\n\t\t\t\t\t\t\tif (self._viewToRemoveAfterScroll !== -1) {\n\t\t\t\t\t\t\t\tdestination += self.views[self._viewToRemoveAfterScroll]._measuredWidth;\n\t\t\t\t\t\t\t\tself._removeViewFromList(self._viewToRemoveAfterScroll);\n\t\t\t\t\t\t\t\tself._viewToRemoveAfterScroll = -1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tself.fireEvent('scrollend',{\n\t\t\t\t\t\t\t\tcurrentPage: viewIndex,\n\t\t\t\t\t\t\t\tview: self.views[viewIndex]\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t\tself._setTranslation(destination);\n\t\t\t\t\t}, 1);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// If the scrollableView hasn't been laid out yet, we must wait until it is\n\t\t\tif (self._contentContainer.domNode.offsetWidth) {\n\t\t\t\tscroll();\n\t\t\t} else {\n\t\t\t\tonce(self, 'postlayout', scroll);\n\t\t\t}\n\t\t},\n\n\t\t_defaultWidth: UI.FILL,\n\n\t\t_defaultHeight: UI.FILL,\n\n\t\tproperties: {\n\t\t\tcurrentPage: {\n\t\t\t\tset: function(value, oldValue) {\n\t\t\t\t\tif (value >= 0 && value < this.views.length) {\n\t\t\t\t\t\tthis.scrollToView(value, 1);\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t}\n\t\t\t\t\treturn oldValue;\n\t\t\t\t},\n\t\t\t\tvalue: -1\n\t\t\t},\n\t\t\tpagingControlColor: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\tthis._pagingControlContainer.backgroundColor = value;\n\t\t\t\t\treturn value;\n\t\t\t\t},\n\t\t\t\tvalue: 'black'\n\t\t\t},\n\t\t\tpagingControlHeight: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\tthis._pagingControlContainer.height = value;\n\t\t\t\t\treturn value;\n\t\t\t\t},\n\t\t\t\tvalue: 20\n\t\t\t},\n\t\t\tpagingControlTimeout: {\n\t\t\t\tpost: function(value) {\n\t\t\t\t\tvalue || (this._pagingControlContainer.opacity = 0.75);\n\t\t\t\t},\n\t\t\t\tvalue: 3000\n\t\t\t},\n\t\t\tshowPagingControl: false,\n\t\t\tviews: {\n\t\t\t\tset: function(value) {\n\n\t\t\t\t\t// Value must be an array\n\t\t\t\t\tif (!is(value,'Array')) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Add the views to the content container\n\t\t\t\t\tvar i = 0,\n\t\t\t\t\t\tlen = value.length,\n\t\t\t\t\t\tcontentContainer = this._contentContainer,\n\t\t\t\t\t\tview;\n\t\t\t\t\tcontentContainer._removeAllChildren();\n\t\t\t\t\tfor(; i < len; i++) {\n\t\t\t\t\t\t(view = value[i]).width = '100%';\n\t\t\t\t\t\tview.height = '100%';\n\t\t\t\t\t\tcontentContainer._add(view);\n\t\t\t\t\t}\n\t\t\t\t\tthis.__values__.properties.currentPage = len ? 0 : -1;\n\n\t\t\t\t\treturn value;\n\t\t\t\t},\n\t\t\t\tpost: '_updatePagingControl'\n\t\t\t}\n\t\t}\n\n\t});\n\n});\n},\n\"Ti/UI/Slider\":function(){\n/* /titanium/Ti/UI/Slider.js */\n\n/*global define*/\ndefine(['Ti/_/declare', 'Ti/_/UI/Widget', 'Ti/_/dom', 'Ti/_/css', 'Ti/_/style', 'Ti/_/lang', 'Ti/UI'],\n\tfunction(declare, Widget, dom, css, style, lang, UI) {\n\n\tvar on = require.on,\n\t\tsetStyle = style.set;\n\n\treturn declare('Ti.UI.Slider', Widget, {\n\n\t\tconstructor: function() {\n\t\t\tvar self = this,\n\t\t\t\tinitialPosition,\n\t\t\t\tinitialValue,\n\t\t\t\ttrack = self._track = dom.create('div', {\n\t\t\t\t\tclassName: 'TiUISliderTrack'\n\t\t\t\t}, self.domNode),\n\t\t\t\tthumb = self._thumb = dom.create('div', {\n\t\t\t\t\tclassName: 'TiUIElementGradient TiUISliderThumb'\n\t\t\t\t}, self.domNode);\n\n\t\t\ton(self, 'touchstart', function(e) {\n\t\t\t\tinitialPosition = e.x;\n\t\t\t\tinitialValue = self.value;\n\t\t\t});\n\n\t\t\ton(self, 'touchmove', function(e) {\n\t\t\t\tself.value = (e.x - initialPosition) * (self.max - self.min) / (track.offsetWidth - thumb.offsetWidth) + initialValue;\n\t\t\t});\n\n\t\t\ton(self, 'postlayout', self, '_updatePosition');\n\t\t},\n\n\t\t_constrainedUpdate: function(value) {\n\t\t\tthis.__values__.properties.value = this._constrainValue(value);\n\t\t\tthis._updatePosition();\n\t\t},\n\n\t\t_constrainValue: function(value) {\n\t\t\treturn Math.min(lang.val(this.maxRange, this.max), Math.max(lang.val(this.minRange, this.min), value));\n\t\t},\n\n\t\t_updatePosition: function() {\n\t\t\tvar thumb = this._thumb;\n\t\t\tthis._thumbLocation = Math.round((this._track.offsetWidth - thumb.offsetWidth) *\n\t\t\t\t((this.value - this.min) / (this.max - this.min)));\n\t\t\tsetStyle(thumb, 'transform', 'translateX(' + this._thumbLocation + 'px)');\n\t\t},\n\n\t\t_defaultWidth: UI.FILL,\n\n\t\t_defaultHeight: UI.SIZE,\n\n\t\t_setTouchEnabled: function(value) {\n\t\t\tvar cssVal = value ? 'auto' : 'none';\n\t\t\tWidget.prototype._setTouchEnabled.call(this, value);\n\t\t\tsetStyle(this._track, 'pointerEvents', cssVal);\n\t\t\tsetStyle(this._thumb, 'pointerEvents', cssVal);\n\t\t},\n\n\t\t_getContentSize: function() {\n\t\t\treturn {\n\t\t\t\twidth: 200,\n\t\t\t\theight: 40\n\t\t\t};\n\t\t},\n\n\t\tproperties: {\n\n\t\t\tenabled: {\n\t\t\t\tset: function(value, oldValue) {\n\t\t\t\t\tif (value !== oldValue) {\n\t\t\t\t\t\tcss.remove(this._thumb, ['TiUIElementGradient', 'TiUISliderThumbDisabled']);\n\t\t\t\t\t\tcss.add(this._thumb, value ? 'TiUIElementGradient' : 'TiUISliderThumbDisabled');\n\t\t\t\t\t\tthis._setTouchEnabled(value);\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t},\n\t\t\t\tvalue: true\n\t\t\t},\n\n\t\t\tmax: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\treturn Math.max(this.min, value);\n\t\t\t\t},\n\t\t\t\tpost: '_constrainedUpdate',\n\t\t\t\tvalue: 1\n\t\t\t},\n\n\t\t\tmaxRange: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\treturn Math.min(this.max, value);\n\t\t\t\t},\n\t\t\t\tpost: '_constrainedUpdate'\n\t\t\t},\n\n\t\t\tmin: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\treturn Math.min(this.max, value);\n\t\t\t\t},\n\t\t\t\tpost: '_constrainedUpdate',\n\t\t\t\tvalue: 0\n\t\t\t},\n\n\t\t\tminRange: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\treturn Math.max(this.min, value);\n\t\t\t\t},\n\t\t\t\tpost: '_constrainedUpdate'\n\t\t\t},\n\n\t\t\tvalue: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\treturn this._constrainValue(value);\n\t\t\t\t},\n\t\t\t\tpost: function(value, oldValue) {\n\t\t\t\t\tif (value !== oldValue) {\n\t\t\t\t\t\tthis.fireEvent('change', {\n\t\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t\t\tthumbOffset: {\n\t\t\t\t\t\t\t\tx: 0,\n\t\t\t\t\t\t\t\ty: 0\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tthumbSize: {\n\t\t\t\t\t\t\t\theight: 0,\n\t\t\t\t\t\t\t\twidth: 0\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tthis._updatePosition();\n\t\t\t\t},\n\t\t\t\tvalue: 0\n\t\t\t}\n\n\t\t}\n\n\t});\n\n});\n\n},\n\"Ti/UI/Switch\":function(){\n/* /titanium/Ti/UI/Switch.js */\n\ndefine([\"Ti/_/declare\", \"Ti/_/UI/FontWidget\", \"Ti/_/css\", \"Ti/_/style\", \"Ti/UI\"],\n\tfunction(declare, FontWidget, css, style, UI) {\n\n\tvar setStyle = style.set,\n\t\tpostDoBackground = {\n\t\t\tpost: function() {\n\t\t\t\tif (this.backgroundColor || this.backgroundDisabledColor || this.backgroundDisabledImage || this.backgroundFocusedColor || \n\t\t\t\t\tthis.backgroundFocusedImage || this.backgroundImage || this.backgroundSelectedColor || this.backgroundSelectedImage) {\n\t\t\t\t\tthis._clearDefaultLook();\n\t\t\t\t} else {\n\t\t\t\t\tthis._setDefaultLook();\n\t\t\t\t}\n\t\t\t\tthis._doBackground();\n\t\t\t}\n\t\t};\n\n\treturn declare(\"Ti.UI.Switch\", FontWidget, {\n\n\t\tconstructor: function(args) {\n\t\t\t\n\t\t\tvar contentContainer = this._contentContainer = UI.createView({\n\t\t\t\twidth: UI.INHERIT,\n\t\t\t\theight: UI.INHERIT,\n\t\t\t\tlayout: UI._LAYOUT_CONSTRAINING_VERTICAL,\n\t\t\t\tborderColor: \"transparent\"\n\t\t\t});\n\t\t\tthis._add(contentContainer);\n\t\t\t\n\t\t\tcontentContainer._add(this._switchTitle = UI.createLabel({\n\t\t\t\twidth: UI.INHERIT,\n\t\t\t\theight: UI.INHERIT,\n\t\t\t\tverticalAlign: UI.TEXT_VERTICAL_ALIGNMENT_CENTER,\n\t\t\t\ttextAlign: UI.TEXT_ALIGNMENT_CENTER\n\t\t\t}));\n\t\t\t\n\t\t\tcontentContainer._add(this._switchIndicator = UI.createView({\n\t\t\t\twidth: 40,\n\t\t\t\theight: 10,\n\t\t\t\tborderRadius: 4,\n\t\t\t\tborderWidth: 1,\n\t\t\t\tborderColor: \"#888\"\n\t\t\t}));\n\t\t\t\n\t\t\t// Set the default look\n\t\t\tthis._setDefaultLook();\n\t\t\tvar self = this;\n\t\t\tself.addEventListener(\"singletap\",function(){\n\t\t\t\tself.value = !self.value;\n\t\t\t});\n\t\t\t\n\t\t\tthis.value = false;\n\t\t},\n\n\t\t_setDefaultLook: function() {\n\t\t\tif (!this._hasDefaultLook) {\n\t\t\t\tthis._hasDefaultLook = true;\n\t\t\t\tthis._previousBorderWidth = this.borderWidth;\n\t\t\t\tthis._previousBorderColor = this.borderColor;\n\t\t\t\tcss.add(this.domNode, \"TiUIElementGradient\");\n\t\t\t\tcss.add(this.domNode, \"TiUIButtonDefault\");\n\t\t\t\tthis._contentContainer.borderWidth = 6;\n\t\t\t\tthis._getBorderFromCSS();\n\t\t\t}\n\t\t},\n\t\t\n\t\t_clearDefaultLook: function() {\n\t\t\tif (this._hasDefaultLook) {\n\t\t\t\tthis._hasDefaultLook = false;\n\t\t\t\tthis.borderWidth = this._previousBorderWidth;\n\t\t\t\tthis.borderColor = this._previousBorderColor;\n\t\t\t\tcss.remove(this.domNode, \"TiUIElementGradient\");\n\t\t\t\tcss.remove(this.domNode, \"TiUIButtonDefault\");\n\t\t\t\tthis._contentContainer.borderWidth = 0;\n\t\t\t}\n\t\t},\n\t\t\n\t\t_defaultWidth: UI.SIZE,\n\t\t\n        _defaultHeight: UI.SIZE,\n\n\t\tproperties: {\n\t\t\t\n\t\t\t// Override the default background info so we can hook into it\n\t\t\tbackgroundColor: postDoBackground,\n\n\t\t\tbackgroundDisabledColor: postDoBackground,\n\n\t\t\tbackgroundDisabledImage: postDoBackground,\n\n\t\t\tbackgroundFocusedColor: postDoBackground,\n\n\t\t\tbackgroundFocusedImage: postDoBackground,\n\n\t\t\tbackgroundImage: postDoBackground,\n\n\t\t\tbackgroundSelectedColor: postDoBackground,\n\n\t\t\tbackgroundSelectedImage: postDoBackground,\n\t\t\t\n\t\t\tenabled: {\n\t\t\t\tset: function(value, oldValue) {\n\t\t\t\t\t\n\t\t\t\t\tif (value !== oldValue) {\n\t\t\t\t\t\tif (this._hasDefaultLook) {\t\n\t\t\t\t\t\t\tif (!value) {\n\t\t\t\t\t\t\t\tcss.remove(this.domNode,\"TiUIElementGradient\");\n\t\t\t\t\t\t\t\tsetStyle(this.domNode,\"backgroundColor\",\"#aaa\");\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcss.add(this.domNode,\"TiUIElementGradient\");\n\t\t\t\t\t\t\t\tsetStyle(this.domNode,\"backgroundColor\",\"\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis._setTouchEnabled(value);\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t},\n\t\t\t\tvalue: true\n\t\t\t},\n\t\t\t\n\t\t\ttextAlign: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\tthis._switchTitle.textAlign = value;\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\ttitleOff: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\tif (!this.value) {\n\t\t\t\t\t\tthis._switchTitle.text = value;\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t},\n\t\t\t\tvalue: \"Off\"\n\t\t\t},\n\t\t\t\n\t\t\ttitleOn: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\tif (this.value) {\n\t\t\t\t\t\tthis._switchTitle.text = value;\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t},\n\t\t\t\tvalue: \"On\"\n\t\t\t},\n\t\t\t\n            value: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\tthis._switchIndicator.backgroundColor = value ? \"#0f0\" : \"#aaa\";\n\t\t\t\t\tvalue = !!value;\n\t\t\t\t\tthis._switchTitle.text = value ? this.titleOn : this.titleOff;\n\t\t\t\t\treturn value;\n\t\t\t\t},\n\t\t\t\tpost: function() {\n\t\t\t\t\tthis.fireEvent(\"change\",{\n\t\t\t\t\t\tvalue: this.value\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\tverticalAlign: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\tthis._switchTitle.verticalAlign = value;\n\t\t\t\t},\n\t\t\t\tvalue: UI.TEXT_VERTICAL_ALIGNMENT_CENTER\n\t\t\t}\n\n\t\t}\n\n\t});\n\n});\n\n},\n\"Ti/UI/Tab\":function(){\n/* /titanium/Ti/UI/Tab.js */\n\ndefine([\"Ti/_/declare\", \"Ti/UI/View\", \"Ti/_/dom\", \"Ti/Locale\", \"Ti/UI\", \"Ti/UI/MobileWeb\", \"Ti/UI/Label\", \"Ti/UI/ImageView\"],\n\tfunction(declare, View, dom, Locale, UI, MobileWeb) {\n\n\tvar postTitle = {\n\t\t\tpost: function() {\n\t\t\t\tthis._tabTitle.text = this._getTitle();\n\t\t\t}\n\t\t},\n\t\tUI_FILL = UI.FILL,\n\t\tUI_SIZE = UI.SIZE;\n\n\treturn declare(\"Ti.UI.Tab\", View, {\n\n\t\tconstructor: function(args) {\n\t\t\tvar win = args && args.window,\n\t\t\t\tcontainer = UI.createView({\n\t\t\t\t\tlayout: UI._LAYOUT_CONSTRAINING_VERTICAL,\n\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\theight: UI_SIZE\n\t\t\t\t}),\n\t\t\t\tnavGroup = this._tabNavigationGroup = MobileWeb.createNavigationGroup({ window: win, _tab: this });;\n\n\t\t\tthis._add(container);\n\n\t\t\tcontainer._add(this._tabIcon = UI.createImageView({\n\t\t\t\theight: UI_SIZE,\n\t\t\t\twidth: UI_SIZE\n\t\t\t}));\n\n\t\t\tcontainer._add(this._tabTitle = UI.createLabel({\n\t\t\t\twidth: \"100%\",\n\t\t\t\twordWrap: true,\n\t\t\t\ttextAlign: UI.TEXT_ALIGNMENT_CENTER\n\t\t\t}));\n\n\t\t\twin && require.on(this, \"singletap\", this, function(e) {\n\t\t\t\tvar tabGroup = this._tabGroup;\n\t\t\t\tif (tabGroup) {\n\t\t\t\t\tif (tabGroup.activeTab === this) {\n\t\t\t\t\t\tnavGroup._reset();\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttabGroup.activeTab = this;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t_defaultWidth: UI_FILL,\n\n\t\t_defaultHeight: UI_FILL,\n\n\t\topen: function(win, options) {\n\t\t\tthis._tabNavigationGroup.open(win, options);\n\t\t},\n\n\t\tclose: function(win, options) {\n\t\t\tthis._tabNavigationGroup.close(win, options);\n\t\t},\n\n\t\t_focus: function() {\n\t\t\tthis.fireEvent(\"focus\", this._tabGroup._getEventData());\n\t\t\tvar win = this._tabNavigationGroup._getTopWindow();\n\t\t\tif (win) {\n\t\t\t\tif (this._tabGroup && this._tabGroup._opened && !win._opened) {\n\t\t\t\t\twin._opened = 1;\n\t\t\t\t\twin.fireEvent(\"open\");\n\t\t\t\t}\n\t\t\t\twin._handleFocusEvent();\n\t\t\t}\n\t\t},\n\n\t\t_blur: function() {\n\t\t\tvar win = this._tabNavigationGroup._getTopWindow();\n\t\t\twin && win._handleBlurEvent();\n\t\t\tthis.fireEvent(\"blur\", this._tabGroup._getEventData());\n\t\t},\n\n\t\t_getTitle: function() {\n\t\t\treturn Locale._getString(this.titleid, this.title);\n\t\t},\n\n\t\t_setTabGroup: function(tabGroup) {\n\t\t\tthis._tabGroup = tabGroup;\n\t\t\tthis._tabNavigationGroup.navBarAtTop = tabGroup.tabsAtTop;\n\t\t\tthis._win && (this._win.tabGroup = tabGroup);\n\t\t},\n\n\t\t_setNavBarAtTop: function(value) {\n\t\t\tthis._tabNavigationGroup.navBarAtTop = value;\n\t\t},\n\n\t\tproperties: {\n\t\t\tactive: {\n\t\t\t\tget: function() {\n\t\t\t\t\treturn this._tabGroup && this._tabGroup.activeTab === this;\n\t\t\t\t},\n\t\t\t\tpost: function(value) {\n\t\t\t\t\tvar tabGroup = this._tabGroup,\n\t\t\t\t\t\tnavGroup = this._tabNavigationGroup,\n\t\t\t\t\t\tdoEvents = tabGroup._focused && tabGroup._opened;\n\t\t\t\t\tif (value) {\n\t\t\t\t\t\tnavGroup.navBarAtTop = tabGroup.tabsAtBottom;\n\t\t\t\t\t\tnavGroup._updateNavBar();\n\t\t\t\t\t\ttabGroup._addTabContents(navGroup);\n\t\t\t\t\t\tdoEvents && this._focus();\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttabGroup._removeTabContents(navGroup);\n\t\t\t\t\t\tdoEvents && this._blur();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\ticon: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\treturn this._tabIcon.image = value;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\ttitle: postTitle,\n\n\t\t\ttitleid: postTitle\n\t\t}\n\n\t});\n\n});\n\n},\n\"Ti/UI/TabGroup\":function(){\n/* /titanium/Ti/UI/TabGroup.js */\n\ndefine([\"Ti/_/declare\", \"Ti/_/UI/SuperView\", \"Ti/UI/View\", \"Ti/UI\", \"Ti/_/lang\"], \n\tfunction(declare, SuperView, View, UI, lang) {\n\n\tvar is = require.is,\n\t\tUI_FILL = UI.FILL,\n\t\tpostUpdateTabsBackground = {\n\t\t\tpost: \"_updateTabsBackground\"\n\t\t};\n\n\treturn declare(\"Ti.UI.TabGroup\", SuperView, {\n\n\t\tconstructor: function(args) {\n\t\t\tvar self = this,\n\t\t\t\ttabsAtBottom = self.__values__.constants.tabsAtBottom = lang.val(args && args.tabsAtBottom, self.__values__.constants.tabsAtBottom),\n\t\t\t\tTabBarContainer = declare(View, {\n\t\t\t\t\t// set a declared class here so that it's not defined globally, yet we still are able\n\t\t\t\t\t// to set a widget id and css class on the dom node.\n\t\t\t\t\tdeclaredClass: \"Ti.UI.TabBarContainer\"\n\t\t\t\t});\n\n\t\t\t// Create the tab bar\n\t\t\tself._tabBarContainer = new TabBarContainer({\n\t\t\t\twidth: UI_FILL,\n\t\t\t\tlayout: UI._LAYOUT_CONSTRAINING_HORIZONTAL\n\t\t\t});\n\t\t\tself.tabHeight = 75;\n\n\t\t\t// Create the tab window container\n\t\t\tself._tabContentContainer = UI.createView({\n\t\t\t\twidth: UI_FILL,\n\t\t\t\theight: UI_FILL\n\t\t\t});\n\n\t\t\t// Add the windows ordered such that they respect tabsAtBottom\n\t\t\tself.layout = UI._LAYOUT_CONSTRAINING_VERTICAL;\n\t\t\tself.tabs = [];\n\t\t\tself.tabsAtBottom = lang.val(args && args.tabsAtBottom, true);\n\t\t},\n\n\t\taddTab: function(tab) {\n\t\t\t// Initialize the tabs, if necessary\n\t\t\tvar tabs = this.tabs;\n\t\t\ttabs.push(tab);\n\t\t\ttab._setTabGroup(this);\n\n\t\t\t// Set the active tab if there are currently no tabs, otherwise add a divider\n\t\t\tif (tabs.length === 1) {\n\t\t\t\tthis.activeTab = tab;\n\t\t\t} else {\n\t\t\t\tthis._tabBarContainer._add(this._createTabDivider());\n\t\t\t}\n\n\t\t\t// Add the tab to the UI\n\t\t\tthis._tabBarContainer._add(tab);\n\n\t\t\t// Update the background on the tab\n\t\t\tthis._updateTabBackground(tab);\n\n\t\t\t// Publish the tab\n\t\t\tthis._publish(tab);\n\t\t},\n\n\t\t_addTabContents: function(contents) {\n\t\t\tthis._tabContentContainer._add(contents);\n\t\t},\n\n\t\t_removeTabContents: function(contents) {\n\t\t\tthis._tabContentContainer._remove(contents);\n\t\t},\n\n\t\tremoveTab: function(tab) {\n\t\t\t// Remove the tab from the list\n\t\t\tvar tabs = this.tabs,\n\t\t\t\tidx = this.tabs.indexOf(tab);\n\n\t\t\tif (idx >= 0) {\n\t\t\t\ttabs.splice(idx, 1);\n\n\t\t\t\t// Remove the tab from the tab bar and recalculate the tab sizes\n\t\t\t\tthis._tabBarContainer.remove(tab);\n\n\t\t\t\t// Update the active tab, if necessary\n\t\t\t\ttab === this._activeTab && this._activateTab(tabs[0]);\n\n\t\t\t\t// Unpublish the tab\n\t\t\t\tthis._unpublish(tab);\n\t\t\t}\n\t\t},\n\n\t\t_createTabDivider: function() {\n\t\t\treturn UI.createView({\n\t\t\t\twidth: this.tabDividerWidth,\n\t\t\t\theight: UI_FILL,\n\t\t\t\tbackgroundColor: this.tabDividerColor\n\t\t\t});\n\t\t},\n\n\t\tclose: function() {\n\t\t\tthis._previousTab = null;\n\t\t\tSuperView.prototype.close.call(this);\n\t\t},\n\n\t\t_getEventData: function() {\n\t\t\tvar tabs = this.tabs,\n\t\t\t\tpreviousTab = this._previousTab,\n\t\t\t\tactiveTab = this._activeTab;\n\n\t\t\treturn {\n\t\t\t\tindex: activeTab && tabs.indexOf(activeTab),\n\t\t\t\tpreviousIndex: previousTab && tabs.indexOf(previousTab),\n\t\t\t\ttab: activeTab,\n\t\t\t\tpreviousTab: previousTab\n\t\t\t};\n\t\t},\n\n\t\t_handleFocusEvent: function() {\n\t\t\t// TabGroup was just opened or a window was closed and the TabGroup regained focus\n\n\t\t\tvar previousTab = this._previousTab,\n\t\t\t\tactiveTab = this._activeTab;\n\n\t\t\tpreviousTab && previousTab._blur();\n\n\t\t\tif (!this._focused && this._opened) {\n\t\t\t\tthis.fireEvent(\"focus\", this._getEventData());\n\t\t\t\tactiveTab && activeTab._focus();\n\t\t\t}\n\t\t\tthis._focused = 1;\n\t\t},\n\n\t\t_handleBlurEvent: function(blurTabs) {\n\t\t\t// TabGroup is about to be closed or a window was opened\n\n\t\t\t// blurTabs: 1) blur all tabs, 2) blur active tab only\n\t\t\tif (blurTabs) {\n\t\t\t\tvar i = 0,\n\t\t\t\t\tlen = this.tabs.length,\n\t\t\t\t\ttab;\n\n\t\t\t\twhile (i < len) {\n\t\t\t\t\ttab = this.tabs[i++];\n\t\t\t\t\t(blurTabs !== 2 || tab === this._activeTab) && tab._blur();\n\t\t\t\t}\n\n\t\t\t\tthis._previousTab = void 0;\n\t\t\t}\n\n\t\t\tthis._focused && this._opened && this.fireEvent(\"blur\", this._getEventData());\n\t\t\tthis._focused = 0;\n\t\t},\n\n\t\t_activateTab: function(activeTab) {\n\t\t\tvar tabs = this.tabs,\n\t\t\t\tpreviousTab = this._activeTab;\n\n\t\t\tif (previousTab !== activeTab) {\n\t\t\t\tif (this._previousTab = previousTab) {\n\t\t\t\t\tpreviousTab.active = false;\n\t\t\t\t\tpreviousTab._doBackground();\n\t\t\t\t}\n\n\t\t\t\tUI.currentTab = this._activeTab = activeTab;\n\t\t\t\tactiveTab.active = true;\n\n\t\t\t\tthis._updateTabsBackground();\n\t\t\t}\n\t\t},\n\n\t\t_updateTabBackground: function(tab) {\n\t\t\tvar prefix = tab.active ? \"activeTab\" : \"tabs\";\n\n\t\t\t[\"\", \"Focused\", \"Disabled\", \"Selected\"].forEach(function(s) {\n\t\t\t\ts = \"Background\" + s;\n\t\t\t\ttab[\"_default\" + s + \"Color\"] = this[prefix + s + \"Color\"];\n\t\t\t\ttab[\"_default\" + s + \"Image\"] = this[prefix + s + \"Image\"];\n\t\t\t}, this);\n\n\t\t\ttab._doBackground();\n\t\t},\n\n\t\t_updateTabsBackground: function() {\n\t\t\tvar tabs = this.tabs,\n\t\t\t\ti = 0,\n\t\t\t\tl = tabs.length;\n\t\t\twhile (i < l) {\n\t\t\t\tthis._updateTabBackground(tabs[i++]);\n\t\t\t}\n\t\t},\n\n\t\t_updateDividers: function(){\n\t\t\tvar tabs = this._tabBarContainer._children,\n\t\t\t\ti = 1;\n\t\t\tfor(; i < tabs.length; i += 2) {\n\t\t\t\tvar tab = tabs[i];\n\t\t\t\ttab.width = this.tabDividerWidth;\n\t\t\t\ttab.backgroundColor = this.tabDividerColor;\n\t\t\t}\n\t\t},\n\n\t\t_defaultWidth: UI_FILL,\n\n\t\t_defaultHeight: UI_FILL,\n\n\t\tconstants: {\n\t\t\tbubbleParent: false\n\t\t},\n\n\t\tproperties: {\n\t\t\tactiveTab: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\tif (is(value, \"Number\")) {\n\t\t\t\t\t\tvalue = this.tabs[value];\n\t\t\t\t\t}\n\t\t\t\t\tif (!value in this.tabs) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t},\n\t\t\t\tpost: function(value) {\n\t\t\t\t\tlang.isDef(value) && this._activateTab(value);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\ttabs: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\tif (is(value, \"Array\")) {\n\t\t\t\t\t\tvar i,\n\t\t\t\t\t\t\ttabBarContainer = this._tabBarContainer;\n\n\t\t\t\t\t\ttabBarContainer._removeAllChildren();\n\n\t\t\t\t\t\tif (value.length) {\n\t\t\t\t\t\t\tfor (i = 0; i < value.length; i++) {\n\t\t\t\t\t\t\t\tvalue[i]._setTabGroup(this);\n\t\t\t\t\t\t\t\ti == 0 && this._activateTab(this.activeTab = value[i]);\n\t\t\t\t\t\t\t\tthis._publish(value[i]);\n\t\t\t\t\t\t\t\ti && tabBarContainer._add(this._createTabDivider());\n\t\t\t\t\t\t\t\ttabBarContainer._add(value[i]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tpost: \"_updateTabsBackground\"\n\t\t\t},\n\n\t\t\ttabsAtBottom: {\n\t\t\t\tset: function(value, oldValue) {\n\t\t\t\t\tif (value !== oldValue) {\n\t\t\t\t\t\tvar tabContentContainer = this._tabContentContainer,\n\t\t\t\t\t\t\ttabBarContainer = this._tabBarContainer;\n\n\t\t\t\t\t\tthis._activeTab && this._activeTab._setNavBarAtTop(value);\n\n\t\t\t\t\t\tthis._remove(tabContentContainer);\n\t\t\t\t\t\tthis._remove(tabBarContainer);\n\n\t\t\t\t\t\tif (value) {\n\t\t\t\t\t\t\tthis._add(tabContentContainer);\n\t\t\t\t\t\t\tthis._add(tabBarContainer);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis._add(tabBarContainer);\n\t\t\t\t\t\t\tthis._add(tabContentContainer);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tactiveTabBackgroundColor: {\n\t\t\t\tpost: \"_updateTabsBackground\",\n\t\t\t\tvalue: \"#fff\"\n\t\t\t},\n\n\t\t\tactiveTabBackgroundImage: postUpdateTabsBackground,\n\n\t\t\tactiveTabBackgroundDisabledColor: {\n\t\t\t\tpost: \"_updateTabsBackground\",\n\t\t\t\tvalue: \"#888\"\n\t\t\t},\n\n\t\t\tactiveTabBackgroundDisabledImage: postUpdateTabsBackground,\n\n\t\t\tactiveTabBackgroundFocusedColor: {\n\t\t\t\tpost: \"_updateTabsBackground\",\n\t\t\t\tvalue: \"#ccc\"\n\t\t\t},\n\n\t\t\tactiveTabBackgroundFocusedImage: postUpdateTabsBackground,\n\n\t\t\tactiveTabBackgroundSelectedColor: {\n\t\t\t\tpost: \"_updateTabsBackground\",\n\t\t\t\tvalue: \"#ddd\"\n\t\t\t},\n\n\t\t\tactiveTabBackgroundSelectedImage: postUpdateTabsBackground,\n\n\t\t\ttabsBackgroundColor: {\n\t\t\t\tpost: \"_updateTabsBackground\",\n\t\t\t\tvalue: \"#aaa\"\n\t\t\t},\n\n\t\t\ttabsBackgroundImage: postUpdateTabsBackground,\n\n\t\t\ttabsBackgroundDisabledColor: {\n\t\t\t\tpost: \"_updateTabsBackground\",\n\t\t\t\tvalue: \"#666\"\n\t\t\t},\n\n\t\t\ttabsBackgroundDisabledImage: postUpdateTabsBackground,\n\n\t\t\ttabsBackgroundFocusedColor: {\n\t\t\t\tpost: \"_updateTabsBackground\",\n\t\t\t\tvalue: \"#ccc\"\n\t\t\t},\n\n\t\t\ttabsBackgroundFocusedImage: postUpdateTabsBackground,\n\t\t\t\n\t\t\ttabsBackgroundSelectedColor: {\n\t\t\t\tpost: \"_updateTabsBackground\",\n\t\t\t\tvalue: \"#ddd\"\n\t\t\t},\n\t\t\t\n\t\t\ttabsBackgroundSelectedImage: postUpdateTabsBackground,\n\t\t\t\n\t\t\ttabDividerColor: {\n\t\t\t\tpost: \"_updateDividers\",\n\t\t\t\tvalue: \"#555\"\n\t\t\t},\n\t\t\t\n\t\t\ttabDividerWidth: {\n\t\t\t\tpost: \"_updateDividers\",\n\t\t\t\tvalue: 1\n\t\t\t},\n\t\t\t\n\t\t\ttabHeight: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\tthis._tabBarContainer.height = value;\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n});\n\n},\n\"Ti/_/UI/SuperView\":function(){\n/* /titanium/Ti/_/UI/SuperView.js */\n\n/*global define*/\ndefine(['Ti/_/declare', 'Ti/UI', 'Ti/UI/View'], function(declare, UI, View) {\n\n\tvar windows = [];\n\n\treturn declare('Ti._.UI.SuperView', View, {\n\n\t\tdestroy: function() {\n\t\t\tthis.close();\n\t\t\tView.prototype.destroy.apply(this, arguments);\n\t\t},\n\n\t\topen: function() {\n\t\t\tif (!this._opened) {\n\t\t\t\tthis._opened = 1;\n\t\t\t\tUI._addWindow(this, 1).show();\n\n\t\t\t\tvar len = windows.length;\n\t\t\t\tlen && windows[len-1]._handleBlurEvent(2); // only blur the active tab\n\t\t\t\twindows.push(this);\n\n\t\t\t\tthis.fireEvent('open');\n\t\t\t\tthis._handleFocusEvent();\n\t\t\t}\n\t\t},\n\n\t\tclose: function() {\n\t\t\tif (this.tab) {\n\t\t\t\tthis.tab.close(this);\n\t\t\t} else if (this._opened) {\n\t\t\t\tvar i = windows.indexOf(this),\n\t\t\t\t\tsame = i === windows.length - 1;\n\n\t\t\t\tUI._removeWindow(this);\n\n\t\t\t\tif (~i) {\n\t\t\t\t\tsame && this._handleBlurEvent(1); // blur all tabs\n\t\t\t\t\twindows.splice(i, 1);\n\t\t\t\t}\n\n\t\t\t\tthis.fireEvent('close');\n\n\t\t\t\t// if we just closed the active window, focus the next top-most window\n\t\t\t\tif (same) {\n\t\t\t\t\tfor (i = windows.length - 1; i >= 0 && !windows[i]._opened; i--) {}\n\t\t\t\t\ti >= 0 && windows[i]._handleFocusEvent();\n\t\t\t\t}\n\n\t\t\t\tthis._opened = 0;\n\t\t\t}\n\t\t},\n\n\t\t_handleFocusEvent: function() {\n\t\t\tthis.fireEvent('focus');\n\t\t},\n\n\t\t_handleBlurEvent: function() {\n\t\t\tthis.fireEvent('blur');\n\t\t}\n\n\t});\n\n});\n},\n\"Ti/UI/TableView\":function(){\n/* /titanium/Ti/UI/TableView.js */\n\n/*global define*/\ndefine(['Ti/_/declare', 'Ti/_/UI/KineticScrollView', 'Ti/_/style', 'Ti/_/lang', 'Ti/UI'],\n\tfunction(declare, KineticScrollView, style, lang, UI) {\n\n\tvar setStyle = style.set,\n\t\tis = require.is,\n\t\tisDef = lang.isDef,\n\n\t\t// The amount of deceleration (in pixels/ms^2)\n\t\tdeceleration = 0.001,\n\t\teventFilter = /^click|singletap|longpress$/;\n\n\treturn declare('Ti.UI.TableView', KineticScrollView, {\n\n\t\tconstructor: function() {\n\t\t\tvar contentContainer = UI.createView({\n\t\t\t\twidth: UI.INHERIT,\n\t\t\t\theight: UI.SIZE,\n\t\t\t\tleft: 0,\n\t\t\t\ttop: 0,\n\t\t\t\tlayout: UI._LAYOUT_CONSTRAINING_VERTICAL\n\t\t\t});\n\n\t\t\tthis._initKineticScrollView(contentContainer, 'vertical', 'vertical', 1);\n\n\t\t\tcontentContainer._add(this._header = UI.createView({\n\t\t\t\theight: UI.SIZE,\n\t\t\t\twidth: UI.INHERIT,\n\t\t\t\tlayout: UI._LAYOUT_CONSTRAINING_VERTICAL\n\t\t\t}));\n\t\t\tcontentContainer._add(this._sections = UI.createView({\n\t\t\t\theight: UI.SIZE,\n\t\t\t\twidth: UI.INHERIT,\n\t\t\t\tlayout: UI._LAYOUT_CONSTRAINING_VERTICAL\n\t\t\t}));\n\t\t\tcontentContainer._add(this._footer = UI.createView({\n\t\t\t\theight: UI.SIZE,\n\t\t\t\twidth: UI.INHERIT,\n\t\t\t\tlayout: UI._LAYOUT_CONSTRAINING_VERTICAL\n\t\t\t}));\n\n\t\t\tthis.__values__.constants.sections = [];\n\t\t},\n\n\t\t_handleMouseWheel: function() {\n\t\t\tthis._fireScrollEvent('scroll');\n\t\t},\n\n\t\t_handleDragStart: function() {\n\t\t\tthis.fireEvent('dragstart');\n\t\t},\n\n\t\t_handleDrag: function(e) {\n\t\t\tthis._fireScrollEvent('scroll', e);\n\t\t},\n\n\t\t_handleDragEnd: function(e, velocityX, velocityY) {\n\t\t\tvar self = this;\n\t\t\tif (isDef(velocityY)) {\n\t\t\t\tvar distance = velocityY * velocityY / (1.724 * deceleration) * (velocityY < 0 ? -1 : 1),\n\t\t\t\t\tduration = Math.abs(velocityY) / deceleration,\n\t\t\t\t\ttranslation = Math.min(0, Math.max(self._minTranslationY, self._currentTranslationY + distance));\n\t\t\t\tself.fireEvent('dragend',{\n\t\t\t\t\tdecelerate: true\n\t\t\t\t});\n\t\t\t\tself._animateToPosition(self._currentTranslationX, translation, duration, UI.ANIMATION_CURVE_EASE_OUT, function() {\n\t\t\t\t\tself._setTranslation(self._currentTranslationX, translation);\n\t\t\t\t\tself._endScrollBars();\n\t\t\t\t\tself._fireScrollEvent('scrollend', e);\n\t\t\t\t});\n\t\t\t}\n\n\t\t},\n\n\t\t_fireScrollEvent: function(type, e) {\n\t\t\t// Calculate the visible items\n\t\t\tvar firstVisibleItem,\n\t\t\t\tvisibleItemCount = 0,\n\t\t\t\tcontentContainer = this._contentContainer,\n\t\t\t\ty = -this._currentTranslationY,\n\t\t\t\tsections = this._sections,\n\t\t\t\tsectionsList = sections._children,\n\t\t\t\tlen = sectionsList.length;\n\t\t\tfor(var i = 0; i < len; i+= 2) {\n\n\t\t\t\t// Check if the section is visible\n\t\t\t\tvar section = sectionsList[i],\n\t\t\t\t\tsectionOffsetTop = y - section._measuredTop,\n\t\t\t\t\tsectionOffsetBottom = section._measuredHeight - sectionOffsetTop;\n\t\t\t\tif (sectionOffsetTop > 0 && sectionOffsetBottom > 0) {\n\t\t\t\t\tvar rows = section._rows._children;\n\t\t\t\t\tfor (var j = 1; j < rows.length; j += 2) {\n\t\t\t\t\t\tvar row = rows[j],\n\t\t\t\t\t\t\trowOffsetTop = sectionOffsetTop - row._measuredTop,\n\t\t\t\t\t\t\trowOffsetBottom = row._measuredHeight - rowOffsetTop;\n\t\t\t\t\t\tif (rowOffsetTop > 0 && rowOffsetBottom > 0) {\n\t\t\t\t\t\t\tvisibleItemCount++;\n\t\t\t\t\t\t\t!firstVisibleItem && (firstVisibleItem = row);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Create the scroll event\n\t\t\tthis.fireEvent(type, {\n\t\t\t\tcontentOffset: {\n\t\t\t\t\tx: 0,\n\t\t\t\t\ty: y\n\t\t\t\t},\n\t\t\t\tcontentSize: {\n\t\t\t\t\twidth: sections._measuredWidth,\n\t\t\t\t\theight: sections._measuredHeight\n\t\t\t\t},\n\t\t\t\tfirstVisibleItem: firstVisibleItem,\n\t\t\t\tsize: {\n\t\t\t\t\twidth: contentContainer._measuredWidth,\n\t\t\t\t\theight: contentContainer._measuredHeight\n\t\t\t\t},\n\t\t\t\ttotalItemCount: this.data.length,\n\t\t\t\tvisibleItemCount: visibleItemCount,\n\t\t\t\tx: e && e.x,\n\t\t\t\ty: e && e.y\n\t\t\t});\n\t\t},\n\n\t\t_defaultWidth: UI.FILL,\n\n\t\t_defaultHeight: UI.FILL,\n\n\t\t_getContentOffset: function(){\n\t\t\treturn {\n\t\t\t\tx: -this._currentTranslationX,\n\t\t\t\ty: -this._currentTranslationY\n\t\t\t};\n\t\t},\n\n\t\tfireEvent: function(type, e) {\n\t\t\tvar i = 0,\n\t\t\t\tindex = 0,\n\t\t\t\tlocalIndex,\n\t\t\t\tsections = this._sections._children,\n\t\t\t\trow = this._tableViewRowClicked,\n\t\t\t\tsection = this._tableViewSectionClicked;\n\t\t\tif (eventFilter.test(type)) {\n\t\t\t\tif (row && section) {\n\n\t\t\t\t\tfor (; i < sections.length; i += 2) {\n\t\t\t\t\t\tlocalIndex = sections[i]._rows._children.indexOf(row);\n\t\t\t\t\t\tif (localIndex !== -1) {\n\t\t\t\t\t\t\tindex += Math.floor(localIndex / 2);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tindex += sections[i].rowCount;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\te.row = e.rowData = row;\n\t\t\t\t\te.index = index;\n\t\t\t\t\te.section = section;\n\t\t\t\t\te.searchMode = false;\n\n\t\t\t\t\tKineticScrollView.prototype.fireEvent.apply(this, arguments);\n\n\t\t\t\t\tthis._tableViewRowClicked = null;\n\t\t\t\t\tthis._tableViewSectionClicked = null;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tKineticScrollView.prototype.fireEvent.apply(this, arguments);\n\t\t\t}\n\t\t},\n\n\t\t_createSeparator: function() {\n\t\t\tvar separator = UI.createView({\n\t\t\t\theight: 1,\n\t\t\t\twidth: UI.INHERIT,\n\t\t\t\tbackgroundColor: 'white'\n\t\t\t});\n\t\t\tsetStyle(separator.domNode,'minWidth','100%'); // Temporary hack until TIMOB-8124 is completed.\n\t\t\treturn separator;\n\t\t},\n\n\t\t_createDecorationLabel: function(text) {\n\t\t\treturn UI.createLabel({\n\t\t\t\ttext: text,\n\t\t\t\tbackgroundColor: 'darkGrey',\n\t\t\t\tcolor: 'white',\n\t\t\t\twidth: UI.INHERIT,\n\t\t\t\theight: UI.SIZE,\n\t\t\t\tleft: 0,\n\t\t\t\tfont: {fontSize: 22}\n\t\t\t});\n\t\t},\n\n\t\t_refreshSections: function() {\n\t\t\tfor (var i = 0; i < this._sections._children.length; i++) {\n\t\t\t\tthis._sections._children[i]._refreshRows();\n\t\t\t}\n\t\t\tthis._triggerLayout();\n\t\t},\n\n\t\t_calculateLocation: function(index) {\n\t\t\tvar currentOffset = 0,\n\t\t\t\tsection;\n\t\t\tfor(var i = 0; i < this._sections._children.length; i += 2) {\n\t\t\t\tsection = this._sections._children[i];\n\t\t\t\tcurrentOffset += section.rowCount;\n\t\t\t\tif (index < currentOffset) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tsection: section,\n\t\t\t\t\t\tlocalIndex: section.rowCount - (currentOffset - index)\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Handle the special case of inserting after the last element in the last section\n\t\t\tif (index == currentOffset) {\n\t\t\t\treturn {\n\t\t\t\t\tsection: section,\n\t\t\t\t\tlocalIndex: section.rowCount\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\n\t\t_insertRow: function(value, index) {\n\t\t\tvar location = this._calculateLocation(index);\n\t\t\tif (location) {\n\t\t\t\tlocation.section.add(value,location.localIndex); // We call the normal .add() method to hook into the sections proper add mechanism\n\t\t\t}\n\t\t\tthis._publish(value);\n\t\t\tthis._refreshSections();\n\t\t},\n\n\t\t_removeRow: function(index) {\n\t\t\tvar location = this._calculateLocation(index);\n\t\t\tif (location) {\n\t\t\t\tthis._unpublish(location.section._rows._children[2 * location.localIndex + 1]);\n\t\t\t\tlocation.section._removeAt(location.localIndex);\n\t\t\t}\n\t\t},\n\n\t\tappendRow: function(value) {\n\t\t\tif (!this._currentSection) {\n\t\t\t\tthis._sections._add(this._currentSection = UI.createTableViewSection({_tableView: this}));\n\t\t\t\tthis.sections.push(this._currentSection);\n\t\t\t\tthis._sections._add(this._createSeparator());\n\t\t\t\tthis.data.push(this._currentSection);\n\t\t\t}\n\t\t\tthis._currentSection.add(value); // We call the normal .add() method to hook into the sections proper add mechanism\n\t\t\tthis._publish(value);\n\t\t\tthis._refreshSections();\n\t\t},\n\n\t\tdeleteRow: function(index) {\n\t\t\tthis._removeRow(index);\n\t\t},\n\n\t\tinsertRowAfter: function(index, value) {\n\t\t\tthis._insertRow(value, index + 1);\n\t\t},\n\n\t\tinsertRowBefore: function(index, value) {\n\t\t\tthis._insertRow(value, index);\n\t\t},\n\n\t\tupdateRow: function(index, row) {\n\t\t\tthis._removeRow(index);\n\t\t\tthis._insertRow(row, index);\n\t\t},\n\n\t\tscrollToIndex: function(index) {\n\t\t\tvar location = this._calculateLocation(index);\n\t\t\tlocation && this._setTranslation(0,-location.section._measuredTop -\n\t\t\t\tlocation.section._rows._children[2 * location.localIndex + 1]._measuredTop);\n\t\t},\n\n\t\tscrollToTop: function(top) {\n\t\t\tthis._setTranslation(0,-top);\n\t\t},\n\n\t\t_insertSection: function(sections, index) {\n\t\t\t!is(sections,'Array') && (sections = [sections]);\n\t\t\tvar i = 0,\n\t\t\t\tlen = sections.length;\n\t\t\tfor(; i < len; i++) {\n\t\t\t\tif (!isDef(sections[i].declaredClass) || sections[i].declaredClass != 'Ti.UI.TableViewSection') {\n\t\t\t\t\tsections[i] = UI.createTableViewSection(sections[i]);\n\t\t\t\t}\n\t\t\t\tthis._sections._insertAt(sections[i], index + i);\n\t\t\t\tif (index === len) {\n\t\t\t\t\tthis.sections.push(sections[i]);\n\t\t\t\t} else {\n\t\t\t\t\tthis.sections.splice(index,0,sections[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._refreshSections();\n\t\t},\n\n\t\t_removeSection: function(index) {\n\t\t\tthis._sections._remove(this.sections[index]);\n\t\t\tthis.sections.splice(index,1);\n\t\t},\n\n\t\tappendSection: function(section) {\n\t\t\tthis._insertSection(section, this.sections.length);\n\t\t},\n\n\t\tdeleteSection: function(section) {\n\t\t\tif (section in this.sections) {\n\t\t\t\tthis._sections._remove(this.sections[section]);\n\t\t\t\tthis.sections.splice(section,1);\n\t\t\t}\n\t\t},\n\n\t\tinsertSectionBefore: function(index, section) {\n\t\t\tthis._insertSection(section, index);\n\t\t},\n\n\t\tinsertSectionAfter: function(index, section) {\n\t\t\tthis._insertSection(section, index + 1);\n\t\t},\n\n\t\tupdateSection: function(index, section) {\n\t\t\tthis._removeSection(index);\n\t\t\tthis._insertSection(section, index);\n\t\t},\n\n\t\tconstants: {\n\t\t\tsectionCount: function() {\n\t\t\t\treturn this.sections.length;\n\t\t\t},\n\t\t\tsections: void 0\n\t\t},\n\n\t\tproperties: {\n\t\t\tdata: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\tif (is(value,'Array')) {\n\n\t\t\t\t\t\tvar retval = [],\n\t\t\t\t\t\t\ti;\n\n\t\t\t\t\t\t// Remove all of the previous sections\n\t\t\t\t\t\tthis._sections._removeAllChildren();\n\t\t\t\t\t\tthis.__values__.constants.sections = [];\n\t\t\t\t\t\tthis._currentSection = void 0;\n\n\t\t\t\t\t\t// Convert any object literals to TableViewRow instances\n\t\t\t\t\t\tfor (i in value) {\n\t\t\t\t\t\t\tif (!isDef(value[i].declaredClass) || (value[i].declaredClass != 'Ti.UI.TableViewRow' && value[i].declaredClass != 'Ti.UI.TableViewSection')) {\n\t\t\t\t\t\t\t\tvalue[i] = UI.createTableViewRow(value[i]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Add each element\n\t\t\t\t\t\tfor (i = 0; i < value.length; i++) {\n\t\t\t\t\t\t\tif (value[i].declaredClass === 'Ti.UI.TableViewRow') {\n\t\t\t\t\t\t\t\t// Check if we need a default section\n\t\t\t\t\t\t\t\tif (!this._currentSection) {\n\t\t\t\t\t\t\t\t\tthis.appendSection(this._currentSection = UI.createTableViewSection({_tableView: this}));\n\t\t\t\t\t\t\t\t\tretval.push(this._currentSection);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis._currentSection.add(value[i]); // We call the normal .add() method to hook into the sections proper add mechanism\n\t\t\t\t\t\t\t} else if (value[i].declaredClass === 'Ti.UI.TableViewSection') {\n\t\t\t\t\t\t\t\tvalue[i]._tableView = this;\n\t\t\t\t\t\t\t\tthis.appendSection(this._currentSection = value[i]);\n\t\t\t\t\t\t\t\tretval.push(this._currentSection);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis._publish(value[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis._refreshSections();\n\n\t\t\t\t\t\treturn retval;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Data must be an array\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tfooterTitle: {\n\t\t\t\tset: function(value, oldValue) {\n\t\t\t\t\tif (oldValue != value) {\n\t\t\t\t\t\tthis._footer._removeAllChildren();\n\t\t\t\t\t\tthis._footer._add(this._createDecorationLabel(value));\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tfooterView: {\n\t\t\t\tset: function(value, oldValue) {\n\t\t\t\t\tif (oldValue != value) {\n\t\t\t\t\t\tthis._footer._removeAllChildren();\n\t\t\t\t\t\tthis._footer._add(value);\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\theaderTitle: {\n\t\t\t\tset: function(value, oldValue) {\n\t\t\t\t\tif (oldValue != value) {\n\t\t\t\t\t\tthis._header._removeAllChildren();\n\t\t\t\t\t\tthis._header._add(this._createDecorationLabel(value));\n\t\t\t\t\t\tthis._header._add(this._createSeparator());\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\theaderView: {\n\t\t\t\tset: function(value, oldValue) {\n\t\t\t\t\tif (oldValue != value) {\n\t\t\t\t\t\tthis._header._removeAllChildren();\n\t\t\t\t\t\tthis._header._add(value);\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tmaxRowHeight: {\n\t\t\t\tpost: '_refreshSections'\n\t\t\t},\n\n\t\t\tminRowHeight: {\n\t\t\t\tpost: '_refreshSections'\n\t\t\t},\n\n\t\t\trowHeight: {\n\t\t\t\tpost: '_refreshSections',\n\t\t\t\tvalue: '50px'\n\t\t\t},\n\n\t\t\tseparatorColor: {\n\t\t\t\tpost: '_refreshSections',\n\t\t\t\tvalue: 'lightGrey'\n\t\t\t},\n\n\t\t\tseparatorStyle: {\n\t\t\t\tpost: '_refreshSections',\n\t\t\t\tvalue: UI.TABLE_VIEW_SEPARATOR_STYLE_SINGLE_LINE\n\t\t\t}\n\t\t}\n\n\t});\n\n});\n},\n\"Ti/UI/MobileWeb/TableViewSeparatorStyle\":function(){\n/* /titanium/Ti/UI/MobileWeb/TableViewSeparatorStyle.js */\n\ndefine([\"Ti/_/lang\"], function(lang) {\n\n\treturn lang.setObject(\"Ti.UI.MobileWeb.TableViewSeparatorStyle\", {}, {\n\t\tconstants: {\n\t\t\tNONE: 0,\n\t\t\tSINGLE_LINE: 1\n\t\t}\n\t});\n\t\n});\n},\n\"Ti/UI/TableViewRow\":function(){\n/* /titanium/Ti/UI/TableViewRow.js */\n\n/*global define*/\ndefine(['Ti/_/declare', 'Ti/_/lang', 'Ti/UI/View', 'Ti/_/dom', 'Ti/_/css', 'Ti/_/style', 'Ti/UI', 'Ti/_/Layouts/ConstrainingHorizontal'],\n\tfunction(declare, lang, View, dom, css, style, UI, ConstrainingHorizontal) {\n\n\tvar isDef = lang.isDef,\n\t\timagePrefix = 'themes/' + require.config.ti.theme + '/UI/TableViewRow/',\n\t\tcheckImage = imagePrefix + 'check.png',\n\t\tchildImage = imagePrefix + 'child.png',\n\t\tdetailImage = imagePrefix + 'detail.png',\n\t\teventFilter = /(click|singletap|longpress)/;\n\n\treturn declare('Ti.UI.TableViewRow', View, {\n\n\t\t// The number of pixels 1 indention equals\n\t\t_indentionScale: 10,\n\n\t\tconstructor: function() {\n\n\t\t\tthis._layout = new ConstrainingHorizontal({ element: this });\n\n\t\t\tthis._add(this._leftImageView = UI.createImageView({\n\t\t\t\twidth: UI.SIZE,\n\t\t\t\theight: UI.SIZE\n\t\t\t}));\n\n\t\t\tvar centerContainer = UI.createView({\n\t\t\t\twidth: UI.INHERIT,\n\t\t\t\theight: UI.INHERIT\n\t\t\t});\n\t\t\tthis._add(centerContainer);\n\n\t\t\tcenterContainer._add(this._titleLabel = UI.createLabel({\n\t\t\t\twidth: UI.INHERIT,\n\t\t\t\theight: UI.INHERIT,\n\t\t\t\twordWrap: false\n\t\t\t}));\n\n\t\t\tcenterContainer._add(this._contentContainer = UI.createView({\n\t\t\t\twidth: UI.INHERIT,\n\t\t\t\theight: UI.INHERIT\n\t\t\t}));\n\n\t\t\tthis._add(this._rightImageView = UI.createImageView({\n\t\t\t\tright: 0,\n\t\t\t\twidth: UI.SIZE,\n\t\t\t\theight: UI.SIZE\n\t\t\t}));\n\t\t},\n\n\t\t_defaultWidth: UI.INHERIT,\n\n\t\t_defaultHeight: UI.SIZE,\n\n\t\t_tableRowHeight: void 0,\n\n\t\t_tableViewSection: null,\n\n\t\tfireEvent: function(type) {\n\t\t\tif (eventFilter.test(type)) {\n\t\t\t\tthis._tableViewSection && this._tableViewSection._tableView && (this._tableViewSection._tableView._tableViewRowClicked = this);\n\t\t\t}\n\t\t\tView.prototype.fireEvent.apply(this, arguments);\n\t\t},\n\n\t\t_doBackground: function() {\n\t\t\tif (this._touching) {\n\t\t\t\tthis._titleLabel.color = this.selectedColor;\n\t\t\t} else {\n\t\t\t\tthis._titleLabel.color = this.color;\n\t\t\t}\n\t\t\tView.prototype._doBackground.apply(this, arguments);\n\t\t},\n\n\t\t_updatePadding: function() {\n\t\t\t// Fake padding with a transparent border\n\t\t\tthis._contentContainer.borderWidth = this._titleLabel.borderWidth =\n\t\t\t\t[this.leftImage ? 5 : 0, this.rightImage ? 5 : 0, 0, 0];\n\t\t},\n\n\t\tadd: function(view) {\n\t\t\tthis._contentContainer._add(view);\n\t\t\tthis._publish(view);\n\t\t},\n\n\t\tremove: function(view) {\n\t\t\tthis._contentContainer._remove(view);\n\t\t\tthis._unpublish(view);\n\t\t},\n\n\t\tproperties: {\n\t\t\tclassName: void 0,\n\t\t\tcolor: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\tthis._titleLabel.color = value;\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\t\t\thasCheck: {\n\t\t\t\tset: function(value, oldValue) {\n\t\t\t\t\tif (value !== oldValue && !isDef(this.rightImage) && !this.hasChild) {\n\t\t\t\t\t\tthis._rightImageView.image = value ? checkImage : '';\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\t\t\thasChild: {\n\t\t\t\tset: function(value, oldValue) {\n\t\t\t\t\tif (value !== oldValue && !isDef(this.rightImage)) {\n\t\t\t\t\t\tthis._rightImageView.image = value ? childImage : '';\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\t\t\thasDetail: {\n\t\t\t\tset: function(value, oldValue) {\n\t\t\t\t\tif (value !== oldValue && !isDef(this.rightImage) && !this.hasChild && !this.hasCheck) {\n\t\t\t\t\t\tthis._rightImageView.image = value ? detailImage : '';\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\t\t\tindentionLevel: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\tthis._leftImageView.left = value * this._indentionScale;\n\t\t\t\t\treturn value;\n\t\t\t\t},\n\t\t\t\tvalue: 0\n\t\t\t},\n\t\t\tlayout: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\tthis._contentContainer.layout = value;\n\t\t\t\t}\n\t\t\t},\n\t\t\tleftImage: {\n\t\t\t\tset: function(value, oldValue) {\n\t\t\t\t\tif (value !== oldValue) {\n\t\t\t\t\t\tthis._leftImageView.image = value;\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t},\n\t\t\t\tpost: '_updatePadding'\n\t\t\t},\n\t\t\trightImage: {\n\t\t\t\tset: function(value, oldValue) {\n\t\t\t\t\tif (value !== oldValue) {\n\t\t\t\t\t\tthis._rightImageView.image = value;\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t},\n\t\t\t\tpost: '_updatePadding'\n\t\t\t},\n\t\t\tselectedColor: void 0,\n\t\t\ttitle: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\tthis._titleLabel.text = value;\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Pass through to the label\n\t\t\tfont: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\tthis._titleLabel.font = value;\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t});\n\n});\n},\n\"Ti/UI/TableViewSection\":function(){\n/* /titanium/Ti/UI/TableViewSection.js */\n\n/*global define*/\ndefine(['Ti/_/declare', 'Ti/_/lang', 'Ti/_/UI/Widget', 'Ti/_/style', 'Ti/UI'],\n\tfunction(declare, lang, Widget, style, UI) {\n\n\tvar is = require.is,\n\t\tsetStyle = style.set,\n\t\teventFilter = /(click|singletap|longpress)/;\n\n\treturn declare('Ti.UI.TableViewSection', Widget, {\n\n\t\tconstructor: function() {\n\t\t\tthis._indexedContent = [];\n\n\t\t\tvar i = 0,\n\t\t\t\tl = 3,\n\t\t\t\ta = ['_header', '_rows', '_footer'];\n\n\t\t\twhile (i < l) {\n\t\t\t\tthis._add(this[a[i++]] = UI.createView({\n\t\t\t\t\theight: UI.SIZE,\n\t\t\t\t\twidth: UI.INHERIT,\n\t\t\t\t\tlayout: UI._LAYOUT_CONSTRAINING_VERTICAL\n\t\t\t\t}));\n\t\t\t}\n\n\t\t\t// Create the parts out of Ti controls so we can make use of the layout system\n\t\t\tthis.layout = UI._LAYOUT_CONSTRAINING_VERTICAL;\n\t\t},\n\n\t\t_defaultWidth: UI.INHERIT,\n\n\t\t_defaultHeight: UI.SIZE,\n\n\t\tfireEvent: function(type) {\n\t\t\tif (eventFilter.test(type)) {\n\t\t\t\tthis._tableView && (this._tableView._tableViewSectionClicked = this);\n\t\t\t}\n\t\t\tWidget.prototype.fireEvent.apply(this,arguments);\n\t\t},\n\n\t\t_tableView: null,\n\n\t\t_createSeparator: function() {\n\t\t\tvar showSeparator = this._tableView && this._tableView.separatorStyle === UI.TABLE_VIEW_SEPARATOR_STYLE_SINGLE_LINE,\n\t\t\t\tseparator = UI.createView({\n\t\t\t\t\theight: showSeparator ? 1 : 0,\n\t\t\t\t\twidth: UI.INHERIT,\n\t\t\t\t\tbackgroundColor: showSeparator ? this._tableView.separatorColor : 'transparent'\n\t\t\t\t});\n\t\t\tsetStyle(separator.domNode,'minWidth','100%'); // Temporary hack until TIMOB-8124 is completed.\n\t\t\treturn separator;\n\t\t},\n\n\t\t_createDecorationLabel: function(text) {\n\t\t\treturn UI.createLabel({\n\t\t\t\ttext: text,\n\t\t\t\tbackgroundColor: 'darkGrey',\n\t\t\t\tcolor: 'white',\n\t\t\t\twidth: UI.INHERIT,\n\t\t\t\theight: UI.SIZE,\n\t\t\t\tleft: 0,\n\t\t\t\tfont: {fontSize: 18}\n\t\t\t});\n\t\t},\n\n\t\t_refreshRows: function() {\n\t\t\tif (this._tableView) {\n\t\t\t\t// Update the row information\n\t\t\t\tvar rows = this._rows._children,\n\t\t\t\t\ttableView = this._tableView,\n\t\t\t\t\trowsData = this.__values__.constants.rows = [],\n\t\t\t\t\ti,\n\t\t\t\t\trow;\n\t\t\t\tfor (i = 1; i < rows.length; i += 2) {\n\t\t\t\t\trow = rows[i];\n\t\t\t\t\trow._defaultHeight = tableView.rowHeight;\n\t\t\t\t\trow._minHeight = tableView.minRowHeight;\n\t\t\t\t\trow._maxHeight = tableView.maxRowHeight;\n\t\t\t\t\trowsData.push(row);\n\t\t\t\t}\n\n\t\t\t\tfor (i = 0; i < rows.length; i += 2) {\n\t\t\t\t\trow = rows[i];\n\t\t\t\t\tif (tableView.separatorStyle === UI.TABLE_VIEW_SEPARATOR_STYLE_SINGLE_LINE) {\n\t\t\t\t\t\trow.height = 1;\n\t\t\t\t\t\trow.backgroundColor = tableView.separatorColor;\n\t\t\t\t\t} else {\n\t\t\t\t\t\trow.height = 0;\n\t\t\t\t\t\trow.backgroundColor = 'transparent';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_insertHelper: function(value, index) {\n\t\t\tif (!lang.isDef(value.declaredClass) || value.declaredClass != 'Ti.UI.TableViewRow') {\n\t\t\t\tvalue = UI.createTableViewRow(value);\n\t\t\t}\n\n\t\t\tthis._rows._insertAt(value, 2 * index + 1);\n\t\t\tthis._rows._insertAt(this._createSeparator(), 2 * index + 2);\n\t\t\tvalue._tableViewSection = this;\n\t\t\tthis.rowCount++;\n\t\t\tthis._refreshRows();\n\t\t},\n\n\t\tadd: function(value, index) {\n\t\t\tvar rows = this._rows._children,\n\t\t\t\trowCount = this.rowCount;\n\n\t\t\tif (index === void 0) {\n\t\t\t\tindex = rowCount;\n\t\t\t}\n\t\t\tif (index < 0 || index > rowCount) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (rows.length === 0) {\n\t\t\t\tthis._rows._add(this._createSeparator());\n\t\t\t}\n\n\t\t\tif (is(value,'Array')) {\n\t\t\t\tfor (var i in value) {\n\t\t\t\t\tthis._insertHelper(value[i],index++);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis._insertHelper(value,index);\n\t\t\t}\n\t\t},\n\n\t\t_removeAt: function(index) {\n\t\t\tif (index < 0 || index >= this.rowCount) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._rows._children[2 * index + 1]._tableViewSection = null;\n\t\t\tthis._rows.remove(this._rows._children[2 * index + 1]); // Remove the separator\n\t\t\tthis._rows.remove(this._rows._children[2 * index + 1]); // Remove the row\n\n\t\t\t// Remove the last separator, if there are no rows left\n\t\t\tif (this._rows._children.length === 1) {\n\t\t\t\tthis._rows.remove(this._rows._children[0]);\n\t\t\t}\n\t\t\tthis._refreshRows();\n\t\t},\n\n\t\tremove: function(view) {\n\t\t\tvar index = this._rows._children.indexOf(view);\n\t\t\tif (index === -1) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._removeAt(index);\n\t\t},\n\n\t\tconstants: {\n\t\t\trows: void 0\n\t\t},\n\n\t\tproperties: {\n\t\t\tfooterTitle: {\n\t\t\t\tset: function(value, oldValue) {\n\t\t\t\t\tif (oldValue != value) {\n\t\t\t\t\t\tthis._footer._removeAllChildren();\n\t\t\t\t\t\tthis._footer._add(this._createDecorationLabel(value));\n\t\t\t\t\t\tthis._footer._add(this._createSeparator());\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\t\t\tfooterView: {\n\t\t\t\tset: function(value, oldValue) {\n\t\t\t\t\tif (oldValue != value) {\n\t\t\t\t\t\tthis._footer._removeAllChildren();\n\t\t\t\t\t\tthis._footer._add(value);\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\t\t\theaderTitle: {\n\t\t\t\tset: function(value, oldValue) {\n\t\t\t\t\tif (oldValue != value) {\n\t\t\t\t\t\tthis._header._removeAllChildren();\n\t\t\t\t\t\tthis._header._add(this._createDecorationLabel(value));\n\t\t\t\t\t\tthis._header._add(this._createSeparator());\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\t\t\theaderView: {\n\t\t\t\tset: function(value, oldValue) {\n\t\t\t\t\tif (oldValue != value) {\n\t\t\t\t\t\tthis._header._removeAllChildren();\n\t\t\t\t\t\tthis._header._add(value);\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\trowCount: function() {\n\t\t\t\treturn Math.floor(this._rows._children.length / 2);\n\t\t\t}\n\t\t}\n\n\t});\n\n});\n},\n\"Ti/UI/TextArea\":function(){\n/* /titanium/Ti/UI/TextArea.js */\n\ndefine([\"Ti/_/declare\", \"Ti/_/UI/TextBox\", \"Ti/_/dom\", \"Ti/_/css\", \"Ti/_/style\", \"Ti/UI\"],\n\tfunction(declare, TextBox, dom, css, style, UI) {\n\n\treturn declare(\"Ti.UI.TextArea\", TextBox, {\n\n\t\tconstructor: function(args) {\n\t\t\tvar field = dom.create(\"textarea\", {\n\t\t\t\tautocomplete: \"off\",\n\t\t\t\tclassName: \"TiUITextFieldInput\"\n\t\t\t}, this.domNode);\n\n\t\t\tthis._initTextBox(field);\n\t\t},\n\n\t\t_defaultWidth: UI.SIZE,\n\n\t\t_defaultHeight: UI.SIZE,\n\t\t\n\t\t_getContentSize: function(width, height) {\n\t\t\treturn {\n\t\t\t\twidth: this._measureText(this.value, this._field, width).width,\n\t\t\t\theight: this._measureText(this.value, this._field, width).height\n\t\t\t};\n\t\t},\n\n\t\t_setTouchEnabled: function(value) {\n\t\t\tTextBox.prototype._setTouchEnabled.apply(this,arguments);\n\t\t\tthis.slider && style.set(this.textArea, \"pointerEvents\", value ? \"auto\" : \"none\");\n\t\t}\n\n\t});\n\n});\n\n},\n\"Ti/_/UI/TextBox\":function(){\n/* /titanium/Ti/_/UI/TextBox.js */\n\ndefine(\n\t[\"Ti/_/declare\", \"Ti/_/dom\", \"Ti/_/event\", \"Ti/_/style\", \"Ti/_/lang\", \"Ti/_/UI/FontWidget\", \"Ti/UI\"],\n\tfunction(declare, dom, event, style, lang, FontWidget, UI) {\n\t\t\n\tvar on = require.on,\n\t\tsetStyle = style.set;\n\n\treturn declare(\"Ti._.UI.TextBox\", FontWidget, {\n\n\t\tconstructor: function(){\n\t\t\tthis._addEventModifier([\"click\", \"singletap\", \"blur\", \"change\", \"focus\", \"return\"], function(data) {\n\t\t\t\tdata.value = this._getInternalText();\n\t\t\t});\n\t\t},\n\n\t\t_initTextBox: function(field) {\n\t\t\t// wire up events\n\t\t\tthis._field = field;\n\t\t\tvar updateInterval = null,\n\t\t\t\tpreviousText = \"\";\n\n\t\t\tthis._addStyleableDomNode(this._setFocusNode(field));\n\n\t\t\ton(field, \"keydown\", this, function(e) {\n\t\t\t\tif (this.editable) {\n\t\t\t\t\tif (e.keyCode === 13) {\n\t\t\t\t\t\tif (this.suppressReturn) {\n\t\t\t\t\t\t\tevent.stop(e);\n\t\t\t\t\t\t\tfield.blur();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.fireEvent(\"return\");\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tevent.stop(e);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\ton(field, \"keypress\", this, function() {\n\t\t\t\tsetTimeout(lang.hitch(this, function () { this._capitalize() }));\n\t\t\t});\n\n\t\t\ton(field, \"focus\", this, function(){\n\t\t\t\tthis.fireEvent(\"focus\");\n\n\t\t\t\tupdateInterval = setInterval(lang.hitch(this, function(){\n\t\t\t\t\tvar value = field.value;\n\t\t\t\t\tif (previousText.length !== value.length || previousText !== value) {\n\t\t\t\t\t\tthis.fireEvent(\"change\");\n\t\t\t\t\t\tpreviousText = value;\n\t\t\t\t\t}\n\t\t\t\t}), 200);\n\t\t\t});\n\n\t\t\ton(field, \"blur\", this, function(){\n\t\t\t\tclearInterval(updateInterval);\n\t\t\t\tthis.fireEvent(\"blur\");\n\t\t\t});\n\t\t\t\n\t\t\t// Set the autocorrect value via the setter\n\t\t\tthis.autocorrect = true;\n\t\t},\n\n\t\t_setInternalText: function(value) {\n\t\t\tif (this._field.value !== value) {\n\t\t\t\tthis._field.value = value;\n\t\t\t\tthis._capitalize();\n\t\t\t}\n\t\t},\n\t\t\n\t\t_getInternalText: function() {\n\t\t\treturn this._field.value;\n\t\t},\n\t\t\n\t\t_updateInternalText: function() {\n\t\t\tthis._setInternalText(this._getInternalText());\n\t\t},\n\n\t\t_capitalize: function() {\n\t\t\tvar acval = \"off\",\n\t\t\t\tfield = this._field;\n\t\t\tswitch (this.autocapitalization) {\n\t\t\t\tcase UI.TEXT_AUTOCAPITALIZATION_ALL:\n\t\t\t\t\tfield.value = field.value.toUpperCase();\n\t\t\t\t\tbreak;\n\t\t\t\tcase UI.TEXT_AUTOCAPITALIZATION_SENTENCES:\n\t\t\t\t\tacval = \"on\";\n\t\t\t}\n\t\t\tthis._field.autocapitalize = acval;\n\t\t},\n\n\t\tblur: function() {\n\t\t\tthis._field.blur();\n\t\t},\n\n\t\tfocus: function() {\n\t\t\tthis._field.focus();\n\t\t},\n\n\t\thasText: function() {\n\t\t\treturn !!this._field.value;\n\t\t},\n\n\t\tproperties: {\n\t\t\tautocapitalization: {\n\t\t\t\tvalue: UI.TEXT_AUTOCAPITALIZATION_SENTENCES,\n\t\t\t\tpost: \"_capitalize\"\n\t\t\t},\n\n\t\t\tautocorrect: {\n\t\t\t\tpost: function(value) {\n\t\t\t\t\tthis._field.autocorrect = !!value ? \"on\" : \"off\";\n\t\t\t\t}\n\t\t\t},\n\n\t\t\teditable: true,\n\n\t\t\tmaxLength: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\tvalue = Math.max(value|0, 0);\n\t\t\t\t\tdom.attr[value > 0 ? \"set\" : \"remove\"](this._field, \"maxlength\", value);\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\treturnKeyType:  function() {\n\t\t\t\treturn UI.RETURNKEY_DEFAULT;\n\t\t\t},\n\n\t\t\tsuppressReturn: true,\n\n\t\t\ttextAlign: {\n\t\t\t\tpost: function(value) {\n\t\t\t\t\tsetStyle(this._field, \"textAlign\", /(center|right)/.test(value) ? value : \"left\");\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tvalue: {\n\t\t\t\tget: function() {\n\t\t\t\t\treturn this._getInternalText();\n\t\t\t\t},\n\t\t\t\tpost: \"_setInternalText\",\n\t\t\t\tvalue: \"\"\n\t\t\t}\n\t\t}\n\n\t});\n\n});\n},\n\"Ti/UI/TextField\":function(){\n/* /titanium/Ti/UI/TextField.js */\n\ndefine([\"Ti/_/declare\", \"Ti/_/UI/TextBox\", \"Ti/_/css\", \"Ti/_/dom\", \"Ti/_/lang\", \"Ti/_/style\", \"Ti/UI\"],\n\tfunction(declare, TextBox, css, dom, lang, style, UI) {\n\n\tvar borderStyles = [\"None\", \"Line\", \"Bezel\", \"Rounded\"],\n\t\tkeyboardPost = {\n\t\t\tpost: \"_setKeyboardType\"\n\t\t},\n\t\tsetStyle = style.set,\n\t\ton = require.on;\n\n\treturn declare(\"Ti.UI.TextField\", TextBox, {\n\n\t\tconstructor: function(args) {\n\t\t\t// note: do NOT add position:absolute to this style under ANY circumstances. It will break text field on WebKit\n\t\t\tvar field = dom.create(\"input\", {\n\t\t\t\tautocomplete: \"off\",\n\t\t\t\tclassName: \"TiUITextFieldInput\"\n\t\t\t}, this.domNode);\n\n\t\t\tthis._initTextBox(field);\n\t\t\tthis._setKeyboardType();\n\t\t\tthis.borderStyle = UI.INPUT_BORDERSTYLE_BEZEL;\n\n\t\t\tthis._disconnectFocusEvent = on(field, \"focus\", this, function() {\n\t\t\t\tthis._focused = 1;\n\t\t\t\tthis._setInternalText(this.clearOnEdit ? \"\" : this._getInternalText());\n\t\t\t});\n\t\t\tthis._disconnectBlurEvent = on(field, \"blur\", this, function() {\n\t\t\t\tthis._focused = 0;\n\t\t\t\tthis._updateInternalText();\n\t\t\t});\n\t\t},\n\n\t\tdestroy: function() {\n\t\t\tthis._disconnectFocusEvent();\n\t\t\tthis._disconnectBlurEvent();\n\t\t\tTextBox.prototype.destroy.apply(this, arguments);\n\t\t},\n\t\t\n\t\t_showingHint: 1,\n\n\t\t_setInternalText: function(value) {\n\t\t\tvar showingHint = !this._focused && !value;\n\t\t\tif (showingHint !== this._showingHint) {\n\t\t\t\tthis._showingHint = showingHint;\n\t\t\t\tthis._setKeyboardType();\n\t\t\t}\n\t\t\tTextBox.prototype._setInternalText.call(this, showingHint ? this.hintText : value);\n\t\t},\n\t\t\n\t\t_getInternalText: function() {\n\t\t\treturn this._showingHint ? \"\" : TextBox.prototype._getInternalText.call(this);\n\t\t},\n\n        _defaultWidth: UI.SIZE,\n\n        _defaultHeight: UI.SIZE,\n\t\t\n\t\t_getContentSize: function(width, height) {\n\t\t\treturn {\n\t\t\t\twidth: this._measureText(this.value, this._field, width).width + 6,\n\t\t\t\theight: this._measureText(this.value, this._field, width).height + 6\n\t\t\t};\n\t\t},\n\n\t\t_setTouchEnabled: function(value) {\n\t\t\tthis.slider && setStyle(this._field, \"pointerEvents\", value ? \"auto\" : \"none\");\n\t\t},\n\n\t\t_setKeyboardType: function() {\n\t\t\tvar type = \"text\";\n\t\t\tif (this.passwordMask && !this._showingHint) {\n\t\t\t\ttype = \"password\";\n\t\t\t} else {\n\t\t\t\tswitch (this.keyboardType) {\n\t\t\t\t\tcase UI.KEYBOARD_EMAIL:\n\t\t\t\t\t\ttype = \"email\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase UI.KEYBOARD_NUMBER_PAD:\n\t\t\t\t\t\ttype = \"number\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase UI.KEYBOARD_PHONE_PAD:\n\t\t\t\t\t\ttype = \"tel\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase UI.KEYBOARD_URL:\n\t\t\t\t\t\ttype = \"url\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Note: IE9 throws an exception if you don't set an input type it supports\n\t\t\ttry {\n\t\t\t\tthis._field.type = type;\n\t\t\t} catch(e) {\n\t\t\t\tthis._field.type = \"text\";\n\t\t\t}\n\t\t},\n\n\t\tproperties: {\n\t\t\tborderStyle: {\n\t\t\t\tset: function(value, oldValue) {\n\t\t\t\t\tvar n = this.domNode,\n\t\t\t\t\t\ts = \"TiUITextFieldBorderStyle\";\n\t\t\t\t\tif (value !== oldValue) {\n\t\t\t\t\t\t// This code references constants Ti.UI.INPUT_BORDERSTYLE_NONE, \n\t\t\t\t\t\t// Ti.UI.INPUT_BORDERSTYLE_LINE, Ti.UI.INPUT_BORDERSTYLE_BEZEL, and Ti.UI.INPUT_BORDERSTYLE_ROUNDED\n\t\t\t\t\t\tcss.remove(n, s + borderStyles[oldValue]);\n\t\t\t\t\t\tcss.add(n, s + borderStyles[value]);\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tclearOnEdit: false,\n\n\t\t\thintText: {\n\t\t\t\tpost: \"_updateInternalText\",\n\t\t\t\tvalue: \"\"\n\t\t\t},\n\n\t\t\tkeyboardType: keyboardPost,\n\n\t\t\tpasswordMask: keyboardPost\n\t\t}\n\n\t});\n\n});\n\n},\n\"Ti/UI/WebView\":function(){\n/* /titanium/Ti/UI/WebView.js */\n\n/*global define, window*/\ndefine(['Ti/_/declare', 'Ti/UI/View', 'Ti/_/dom', 'Ti/_/event', 'Ti/_/lang', 'Ti/_/text!Ti/_/UI/WebViewBridge.js', 'Ti/App', 'Ti/API', 'Ti/UI', 'Ti/_/style'],\n\tfunction(declare, View, dom, event, lang, bridge, App, API, UI, style) {\n\n\tvar on = require.on;\n\n\treturn declare('Ti.UI.WebView', View, {\n\n\t\tconstructor: function() {\n\t\t\tApp.addEventListener(this.widgetId + ':unload', lang.hitch(this, function() {\n\t\t\t\tthis._loading(1);\n\t\t\t}));\n\t\t\tthis.backgroundColor = '#fff';\n\t\t\tstyle.set(this.domNode, {\n\t\t\t\toverflow: 'auto',\n\t\t\t\toverflowScrolling: 'touch'\n\t\t\t});\n\t\t},\n\n\t\tdestroy: function() {\n\t\t\tApp.removeEventListener(this.widgetId + ':unload');\n\t\t\tthis._destroy();\n\t\t\tWidget.prototype.destroy.apply(this, arguments);\n\t\t},\n\n\t\t_destroy: function() {\n\t\t\tif (this._iframe) {\n\t\t\t\tevent.off(this._iframeHandles);\n\t\t\t\tdom.destroy(this._iframe);\n\t\t\t}\n\t\t},\n\n\t\t_createIFrame: function() {\n\t\t\tif (this._parent) {\n\t\t\t\tthis._destroy();\n\t\t\t\tthis._loading(1);\n\t\t\t\tvar url = this.url || '',\n\t\t\t\t\tmatch = url.match(/(https?)\\:\\/\\/([^\\:\\/]*)(:?\\d*)(.*)/),\n\t\t\t\t\tloc = window.location,\n\t\t\t\t\tisSameDomain = !match || (match[0] + ':' === loc.protocol && match[1] + match[2] === window.location.host),\n\t\t\t\t\tiframe = this._iframe = dom.create('iframe', {\n\t\t\t\t\t\tframeborder: 0,\n\t\t\t\t\t\tmarginwidth: 0,\n\t\t\t\t\t\tmarginheight: 0,\n\t\t\t\t\t\thspace: 0,\n\t\t\t\t\t\tvspace: 0,\n\t\t\t\t\t\tscrolling: this.showScrollbars ? 'auto' : 'no',\n\t\t\t\t\t\tsrc: url || require.toUrl('Ti/_/UI/blank.html'),\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\tposition: 'absolute'\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this.domNode);\n\n\t\t\t\tthis._iframeHandles = [\n\t\t\t\t\ton(iframe, 'load', this, function() {\n\t\t\t\t\t\tvar i = Math.max(isSameDomain | 0, 0),\n\t\t\t\t\t\t\tcw = iframe.contentWindow,\n\t\t\t\t\t\t\tprop,\n\t\t\t\t\t\t\turl,\n\t\t\t\t\t\t\thtml;\n\n\t\t\t\t\t\tif (i !== -1) {\n\t\t\t\t\t\t\t// we can always guarantee that the first load we'll know if it's the same domain\n\t\t\t\t\t\t\tisSameDomain = -1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// for every load after the first, we need to try which will throw security errors\n\t\t\t\t\t\t\tfor (prop in cw) {\n\t\t\t\t\t\t\t\ti++;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (i > 0) {\n\t\t\t\t\t\t\turl = cw.location.href;\n\t\t\t\t\t\t\tthis.evalJS(bridge.replace('WEBVIEW_ID', this.widgetId + ':unload'));\n\t\t\t\t\t\t\t(html = this.__values__.properties.html) && this._setContent(html);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tAPI.warn('Unable to inject WebView bridge into cross-domain URL, ignore browser security message');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis._loading();\n\t\t\t\t\t\tthis.fireEvent('load', {\n\t\t\t\t\t\t\turl: url ? (this.__values__.properties.url = url) : this.url\n\t\t\t\t\t\t});\n\t\t\t\t\t}),\n\t\t\t\t\ton(iframe, 'error', this, function() {\n\t\t\t\t\t\tthis._loading();\n\t\t\t\t\t\tthis.fireEvent('error', {\n\t\t\t\t\t\t\tmessage: 'Page failed to load',\n\t\t\t\t\t\t\turl: this.url\n\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t];\n\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t},\n\n\t\t_setParent: function() {\n\t\t\tView.prototype._setParent.apply(this, arguments);\n\n\t\t\t// we are being added to a parent, need to manually fire\n\t\t\t(this.url || this.html) && this._createIFrame();\n\t\t},\n\n\t\t_getWindow: function() {\n\t\t\treturn this._iframe.contentWindow;\n\t\t},\n\n\t\t_getDoc: function() {\n\t\t\treturn this._getWindow().document;\n\t\t},\n\n\t\t_getHistory: function() {\n\t\t\treturn this._getWindow().history;\n\t\t},\n\n\t\t_loading: function(v) {\n\t\t\tthis.loading || v && this.fireEvent('beforeload', {\n\t\t\t\turl: this.url\n\t\t\t});\n\t\t\tthis.__values__.constants.loading = !!v;\n\t\t},\n\n\t\tcanGoBack: function() {\n\t\t\treturn this.url && !!this._getHistory().length;\n\t\t},\n\n\t\tcanGoForward: function() {\n\t\t\treturn this.url && !!this._getHistory().length;\n\t\t},\n\n\t\tevalJS: function(js) {\n\t\t\tvar w = this._getWindow(),\n\t\t\t\tr = null;\n\t\t\ttry {\n\t\t\t\tr = js && w && w.eval && w.eval(js);\n\t\t\t} catch (e) {}\n\t\t\treturn r;\n\t\t},\n\n\t\tgoBack: function() {\n\t\t\tif (this.canGoBack()) {\n\t\t\t\tvar h = this._getHistory();\n\t\t\t\tif (h) {\n\t\t\t\t\tthis._loading(1);\n\t\t\t\t\th.go(-1);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tgoForward: function() {\n\t\t\tif (this.canGoForward()) {\n\t\t\t\tvar h = this._getHistory();\n\t\t\t\tif (h) {\n\t\t\t\t\tthis._loading(1);\n\t\t\t\t\th.go(1);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\treload: function() {\n\t\t\tvar w = this._getWindow();\n\t\t\tthis.url && w ? (w.location.href = this.url) : this._createIFrame();\n\t\t},\n\n\t\tstopLoading: function(hardStop) {\n\t\t\ttry {\n\t\t\t\tthis.loading && hardStop ? this._destroy() : this._getWindow().stop();\n\t\t\t} catch (e) {}\n\t\t\tthis._loading();\n\t\t},\n\n\t\t_defaultWidth: UI.FILL,\n\n\t\t_defaultHeight: UI.FILL,\n\n\t\t_getContentSize: function() {\n\t\t\treturn {\n\t\t\t\twidth: this._iframe ? this._iframe.clientWidth : 0,\n\t\t\t\theight: this._iframe ? this._iframe.clientHeight : 0\n\t\t\t};\n\t\t},\n\n\t\t_setContent: function(value) {\n\t\t\ttry {\n\t\t\t\tvar doc = this._getDoc();\n\t\t\t\tdoc.open();\n\t\t\t\tdoc.write(value);\n\t\t\t\tdoc.close();\n\t\t\t} catch (e) {}\n\t\t\treturn value;\n\t\t},\n\n\t\tproperties: {\n\t\t\tdata: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\tvar data = value;\n\t\t\t\t\tswitch (data && data.declaredClass) {\n\t\t\t\t\t\tcase 'Ti.Filesystem.File':\n\t\t\t\t\t\t\tdata = data.read();\n\t\t\t\t\t\tcase 'Ti.Blob':\n\t\t\t\t\t\t\tdata = data.toString();\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tthis.html = data;\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\thtml: {\n\t\t\t\tget: function(value) {\n\t\t\t\t\tvar doc = this._iframe && this._getDoc();\n\t\t\t\t\treturn value === void 0 && doc ? doc.documentElement.innerHTML : value;\n\t\t\t\t},\n\t\t\t\tpost: function(value) {\n\t\t\t\t\tvar values = this.__values__.properties;\n\t\t\t\t\tvalues.data = void 0;\n\t\t\t\t\tvalues.url = void 0;\n\t\t\t\t\tthis._createIFrame() && this._setContent(value);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tshowScrollbars: {\n\t\t\t\tset: function(value) {\n\t\t\t\t\tthis._iframe && dom.attr.set(this._iframe, 'scrolling', value ? 'auto' : 'no');\n\t\t\t\t\treturn value;\n\t\t\t\t},\n\t\t\t\tvalue: true\n\t\t\t},\n\n\t\t\turl: {\n\t\t\t\tpost: function() {\n\t\t\t\t\tvar values = this.__values__.properties;\n\t\t\t\t\tvalues.data = void 0;\n\t\t\t\t\tvalues.html = void 0;\n\t\t\t\t\tthis._createIFrame();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tconstants: {\n\t\t\tloading: false\n\t\t}\n\n\t});\n\n});\n},\n\"url:Ti/_/UI/WebViewBridge.js\":\"(function (w) {\\n\\\n\tvar a, b,\\n\\\n\t\tp = w.parent,\\n\\\n\t\tu = w.onunload;\\n\\\n\\n\\\n\tif (p && typeof Ti == 'undefined' && typeof p.Ti == 'object') {\\n\\\n\t\ta = p.Ti.API;\\n\\\n\t\tb = p.Ti.App;\\n\\\n\t\tw.Ti = w.Titanium = {\\n\\\n\t\t\tAPI: {\\n\\\n\t\t\t\tlog: a.log,\\n\\\n\t\t\t\tdebug: a.debug,\\n\\\n\t\t\t\terror: a.error,\\n\\\n\t\t\t\tinfo: a.info,\\n\\\n\t\t\t\twarn: a.warn\\n\\\n\t\t\t},\\n\\\n\t\t\tApp: {\\n\\\n\t\t\t\taddEventListener: b.addEventListener.bind(b),\\n\\\n\t\t\t\tremoveEventListener: b.removeEventListener.bind(b),\\n\\\n\t\t\t\tfireEvent: b.fireEvent.bind(b)\\n\\\n\t\t\t}\\n\\\n\t\t};\\n\\\n\t}\\n\\\n\\n\\\n\tw.onunload = function () {\\n\\\n\t\tTi.App.fireEvent(\\\"WEBVIEW_ID\\\");\\n\\\n\t\tu && u();\\n\\\n\t};\\n\\\n}(window));\",\n\"Ti/UI/Window\":function(){\n/* /titanium/Ti/UI/Window.js */\n\ndefine([\"Ti/_/declare\", \"Ti/Gesture\", \"Ti/Locale\", \"Ti/_/UI/SuperView\", \"Ti/UI\"],\n\tfunction(declare, Gesture, Locale, SuperView, UI) {\n\n\tvar UI_FILL = UI.FILL,\n\t\tUI_SIZE = UI.SIZE,\n\t\tpostNavGroup = {\n\t\t\tpost: function () {\n\t\t\t\tthis._navGroup && this._navGroup._updateNavBar();\n\t\t\t}\n\t\t};\n\n\treturn declare(\"Ti.UI.Window\", SuperView, {\n\t\n\t\t_defaultWidth: UI_FILL,\n\n\t\t_defaultHeight: UI_FILL,\n\n\t\tpostscript: function() {\n\t\t\tif (this.url) {\n\t\t\t\tvar prevWindow = UI.currentWindow;\n\t\t\t\tUI._setWindow(this);\n\t\t\t\trequire(\"Ti/_/include!sandbox!\" + this.url);\n\t\t\t\tUI._setWindow(prevWindow);\n\t\t\t}\n\t\t},\n\n\t\t_getTitle: function() {\n\t\t\treturn Locale.getString(this.titleid, this.title);\n\t\t},\n\n\t\tconstants: {\n\t\t\turl: void 0,\n\t\t\tbubbleParent: false\n\t\t},\n\n\t\tproperties: {\n\t\t\n\t\t\tmodal: {\n\t\t\t\tset: function(value, oldValue) {\n\t\t\t\t\tif (value !== oldValue) {\n\t\t\t\t\t\tif (value) {\n\t\t\t\t\t\t\tvar parentContainer = this._modalParentContainer = UI.createView();\n\t\t\t\t\t\t\tparentContainer._add(UI.createView({\n\t\t\t\t\t\t\t\tbackgroundColor: \"#000\",\n\t\t\t\t\t\t\t\topacity: 0.5\n\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\tparentContainer._add(this._modalContentContainer = UI.createView({\n\t\t\t\t\t\t\t\twidth: UI_SIZE,\n\t\t\t\t\t\t\t\theight: UI_SIZE\n\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\tthis._modalContentContainer.add(this); // We call the normal .add() method to hook into the views proper add mechanism\n\t\t\t\t\t\t} else if (this._modalParentContainer) {\n\t\t\t\t\t\t\tthis._modalParentContainer._opened && this._modalParentContainer.close();\n\t\t\t\t\t\t\tthis._modalContentContainer.remove(this);\n\t\t\t\t\t\t\tthis._modalParentContainer = null;\n\t\t\t\t\t\t\tif (this._opened) {\n\t\t\t\t\t\t\t\tthis.close(); // Close to reset state...at this point it's not attached to the window anymore, but thinks it's still open\n\t\t\t\t\t\t\t\tthis.open();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\torientation: {\n\t\t\t\tget: function() {\n\t\t\t\t\treturn Gesture.orientation;\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\t/** Nav group properties **/\n\t\t\t\n\t\t\tbarColor: postNavGroup,\n\t\t\t\n\t\t\tbarImage: postNavGroup,\n\t\t\t\n\t\t\tleftNavButton: postNavGroup,\n\t\t\t\n\t\t\tnavBarHidden: postNavGroup,\n\t\t\t\n\t\t\trightNavButton: postNavGroup,\n\t\t\t\n\t\t\ttitleControl: postNavGroup,\n\t\t\t\n\t\t\ttitleImage: postNavGroup,\n\n\t\t\ttitle: postNavGroup,\n\n\t\t\ttitleid: postNavGroup,\n\t\t\t\n\t\t\ttranslucent: postNavGroup\n\t\t}\n\n\t});\n\n});\n},\n\"Ti/_/colors\":function(){\n/* /titanium/Ti/_/colors.js */\n\ndefine({\n\tantiquewhite: [250,235,215],\n\taqua: [0,255,255],\n\taquamarine: [127,255,212],\n\tazure: [240,255,255],\n\tbeige: [245,245,220],\n\tbisque: [255,228,196],\n\tblack: [0,0,0],\n\tblanchedalmond: [255,235,205],\n\tblue: [0,0,255],\n\tblueviolet: [138,43,226],\n\tbrown: [165,42,42],\n\tburlywood: [222,184,135],\n\tcadetblue: [95,158,160],\n\tchartreuse: [127,255,0],\n\tchocolate: [210,105,30],\n\tcoral: [255,127,80],\n\tcornflowerblue: [100,149,237],\n\tcornsilk: [255,248,220],\n\tcrimson: [220,20,60],\n\tcyan: [0,255,255],\n\tdarkblue: [0,0,139],\n\tdarkcyan: [0,139,139],\n\tdarkgoldenrod: [184,134,11],\n\tdarkgray: [169,169,169],\n\tdarkgrey: [169,169,169],\n\tdarkgreen: [0,100,0],\n\tdarkkhaki: [189,183,107],\n\tdarkmagenta: [139,0,139],\n\tdarkolivegreen: [85,107,47],\n\tdarkorange: [255,140,0],\n\tdarkorchid: [153,50,204],\n\tdarkred: [139,0,0],\n\tdarksalmon: [233,150,122],\n\tdarkseagreen: [143,188,143],\n\tdarkslateblue: [72,61,139],\n\tdarkslategray: [47,79,79],\n\tdarkslategrey: [47,79,79],\n\tdarkturquoise: [0,206,209],\n\tdarkviolet: [148,0,211],\n\tdeeppink: [255,20,147],\n\tdeepskyblue: [0,191,255],\n\tdimgray: [105,105,105],\n\tdimgrey: [105,105,105],\n\tdodgerblue: [30,144,255],\n\tfirebrick: [178,34,34],\n\tfloralwhite: [255,250,240],\n\tforestgreen: [34,139,34],\n\tfuchsia: [255,0,255],\n\tgainsboro: [220,220,220],\n\tghostwhite: [248,248,255],\n\tgold: [255,215,0],\n\tgoldenrod: [218,165,32],\n\tgray: [128,128,128],\n\tgrey: [128,128,128],\n\tgreen: [0,128,0],\n\tgreenyellow: [173,255,47],\n\thoneydew: [240,255,240],\n\thotpink: [255,105,180],\n\tindianred: [205,92,92],\n\tindigo: [75,0,130],\n\tivory: [255,255,240],\n\tkhaki: [240,230,140],\n\tlavender: [230,230,250],\n\tlavenderblush: [255,240,245],\n\tlawngreen: [124,252,0],\n\tlemonchiffon: [255,250,205],\n\tlightblue: [173,216,230],\n\tlightcoral: [240,128,128],\n\tlightcyan: [224,255,255],\n\tlightgoldenrodyellow: [250,250,210],\n\tlightgray: [211,211,211],\n\tlightgrey: [211,211,211],\n\tlightgreen: [144,238,144],\n\tlightpink: [255,182,193],\n\tlightsalmon: [255,160,122],\n\tlightseagreen: [32,178,170],\n\tlightskyblue: [135,206,250],\n\tlightslategray: [119,136,153],\n\tlightslategrey: [119,136,153],\n\tlightsteelblue: [176,196,222],\n\tlightyellow: [255,255,224],\n\tlime: [0,255,0],\n\tlimegreen: [50,205,50],\n\tlinen: [250,240,230],\n\tmagenta: [255,0,255],\n\tmaroon: [128,0,0],\n\tmediumaquamarine: [102,205,170],\n\tmediumblue: [0,0,205],\n\tmediumorchid: [186,85,211],\n\tmediumpurple: [147,112,216],\n\tmediumseagreen: [60,179,113],\n\tmediumslateblue: [123,104,238],\n\tmediumspringgreen: [0,250,154],\n\tmediumturquoise: [72,209,204],\n\tmediumvioletred: [199,21,133],\n\tmidnightblue: [25,25,112],\n\tmintcream: [245,255,250],\n\tmistyrose: [255,228,225],\n\tmoccasin: [255,228,181],\n\tnavajowhite: [255,222,173],\n\tnavy: [0,0,128],\n\toldlace: [253,245,230],\n\tolive: [128,128,0],\n\tolivedrab: [107,142,35],\n\torange: [255,165,0],\n\torangered: [255,69,0],\n\torchid: [218,112,214],\n\tpalegoldenrod: [238,232,170],\n\tpalegreen: [152,251,152],\n\tpaleturquoise: [175,238,238],\n\tpalevioletred: [216,112,147],\n\tpapayawhip: [255,239,213],\n\tpeachpuff: [255,218,185],\n\tperu: [205,133,63],\n\tpink: [255,192,203],\n\tplum: [221,160,221],\n\tpowderblue: [176,224,230],\n\tpurple: [128,0,128],\n\tred: [255,0,0],\n\trosybrown: [188,143,143],\n\troyalblue: [65,105,225],\n\tsaddlebrown: [139,69,19],\n\tsalmon: [250,128,114],\n\tsandybrown: [244,164,96],\n\tseagreen: [46,139,87],\n\tseashell: [255,245,238],\n\tsienna: [160,82,45],\n\tsilver: [192,192,192],\n\tskyblue: [135,206,235],\n\tslateblue: [106,90,205],\n\tslategray: [112,128,144],\n\tslategrey: [112,128,144],\n\tsnow: [255,250,250],\n\tspringgreen: [0,255,127],\n\tsteelblue: [70,130,180],\n\ttan: [210,180,140],\n\tteal: [0,128,128],\n\tthistle: [216,191,216],\n\ttomato: [255,99,71],\n\ttransparent: [0,0,0,0],\n\tturquoise: [64,224,208],\n\tviolet: [238,130,238],\n\twheat: [245,222,179],\n\twhite: [255,255,255],\n\twhitesmoke: [245,245,245],\n\tyellow: [255,255,0],\n\tyellowgreen: [154,205,50]\n});\n\n},\n\"Ti/_/image\":function(){\n/* /titanium/Ti/_/image.js */\n\ndefine(function() {\n\treturn {\n\t\tnormalize: function(name) {\n\t\t\treturn name;\n\t\t},\n\n\t\tload: function(name, require, onLoad, config) {\n\t\t\tvar img = new Image();\n\t\t\timg.onload = img.onerror = function() {\n\t\t\t\tonLoad(img);\n\t\t\t\tdelete img.onload;\n\t\t\t\tdelete img.onerror;\n\t\t\t};\n\t\t\timg.src = require.toUrl(name);\n\t\t}\n\t};\n});\n\n},\n\"Ti/_/text\":function(){\n/* /titanium/Ti/_/text.js */\n\ndefine(function() {\n\tvar cache = {};\n\n\treturn {\n\t\tdynamic: true, // prevent the loader from caching the result\n\n\t\tnormalize: function(name, normalize) {\n\t\t\tvar parts = name.split(\"!\"),\n\t\t\t\turl = parts[0];\n\t\t\tparts.shift();\n\t\t\treturn (/^\\./.test(url) ? normalize(url) : url) + (parts.length ? \"!\" + parts.join(\"!\") : \"\");\n\t\t},\n\n\t\tload: function(name, require, onLoad, config) {\n\t\t\tvar x,\n\t\t\t\turl = require.toUrl(name),\n\t\t\t\tc = cache[url] || require.cache(url);\n\n\t\t\tif (!c) {\n\t\t\t\tx = new XMLHttpRequest;\n\t\t\t\tx.open(\"GET\", url, false);\n\t\t\t\tx.send(null);\n\t\t\t\tif (x.status === 200) {\n\t\t\t\t\tc = x.responseText;\n\t\t\t\t} else {\n\t\t\t\t\tthrow new Error(\"Failed to load text \\\"\" + url + \"\\\": \" + x.status);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tonLoad(c);\n\t\t}\n\t};\n});\n\n}});\nrequire(\"Ti/App/Properties\", function(p) {\n\tp.setString(\"ti.ui.defaultunit\",\"dp\");\n\tp.setBool(\"run-on-main-thread\",true);\n});\nrequire([\"Ti\",\"Ti/Accelerometer\",\"Ti/Analytics\",\"Ti/BlobStream\",\"Ti/BufferStream\",\"Ti/Facebook/LoginButton\",\"Ti/Filesystem/FileStream\",\"Ti/Map/Annotation\",\"Ti/Map/View\",\"Ti/Media/AudioPlayer\",\"Ti/Media/Sound\",\"Ti/Media/VideoPlayer\",\"Ti/Network/HTTPClient\",\"Ti/Platform/DisplayCaps\",\"Ti/UI/2DMatrix\",\"Ti/UI/ActivityIndicator\",\"Ti/UI/AlertDialog\",\"Ti/UI/Clipboard\",\"Ti/UI/EmailDialog\",\"Ti/UI/OptionDialog\",\"Ti/UI/Picker\",\"Ti/UI/PickerColumn\",\"Ti/UI/PickerRow\",\"Ti/UI/ProgressBar\",\"Ti/UI/ScrollView\",\"Ti/UI/ScrollableView\",\"Ti/UI/Slider\",\"Ti/UI/Switch\",\"Ti/UI/Tab\",\"Ti/UI/TabGroup\",\"Ti/UI/TableView\",\"Ti/UI/TableViewRow\",\"Ti/UI/TableViewSection\",\"Ti/UI/TextArea\",\"Ti/UI/TextField\",\"Ti/UI/WebView\",\"Ti/UI/Window\",\"Ti/XML\",\"Ti/Yahoo\",\"Ti/_/colors\",\"Ti/_/image\",\"Ti/_/text\",\"Ti/_/text!Ti/_/UI/WebViewBridge.js\"]);","/home/travis/build/npmtest/node-npmtest-pubnub/node_modules/pubnub/lib/networking/modules/titanium.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.get = get;\nexports.post = post;\n\nvar _flow_interfaces = require('../../core/flow_interfaces');\n\nfunction log(url, qs, res) {\n  var _pickLogger = function _pickLogger() {\n    if (Ti && Ti.API && Ti.API.log) return Ti.API;\n    if (window && window.console && window.console.log) return window.console;\n    return console;\n  };\n\n  var start = new Date().getTime();\n  var timestamp = new Date().toISOString();\n  var logger = _pickLogger();\n  logger.log('<<<<<');\n  logger.log('[' + timestamp + ']', '\\n', url, '\\n', qs);\n  logger.log('-----');\n\n  var now = new Date().getTime();\n  var elapsed = now - start;\n  var timestampDone = new Date().toISOString();\n\n  logger.log('>>>>>>');\n  logger.log('[' + timestampDone + ' / ' + elapsed + ']', '\\n', url, '\\n', qs, '\\n', res);\n  logger.log('-----');\n}\n\nfunction getHttpClient() {\n  if (Ti.Platform.osname === 'mobileweb') {\n    return new XMLHttpRequest();\n  } else {\n    return Ti.Network.createHTTPClient();\n  }\n}\n\nfunction keepAlive(xhr) {\n  if (Ti.Platform.osname !== 'mobileweb' && this._config.keepAlive) {\n    xhr.enableKeepAlive = true;\n  }\n}\n\nfunction encodedKeyValuePair(pairs, key, value) {\n  if (value != null) {\n    if (Array.isArray(value)) {\n      value.forEach(function (item) {\n        encodedKeyValuePair(pairs, key, item);\n      });\n    } else if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object') {\n      Object.keys(value).forEach(function (subkey) {\n        encodedKeyValuePair(pairs, key + '[' + subkey + ']', value[subkey]);\n      });\n    } else {\n      pairs.push(encodeURIComponent(key) + '=' + encodeURIComponent(value));\n    }\n  } else if (value === null) {\n    pairs.push(encodeURIComponent('' + encodeURIComponent(key)));\n  }\n}\n\nfunction buildUrl(url, params) {\n  var pairs = [];\n\n  Object.keys(params).forEach(function (key) {\n    encodedKeyValuePair(pairs, key, params[key]);\n  });\n\n  return url + '?' + pairs.join('&');\n}\n\nfunction xdr(xhr, method, url, params, body, endpoint, callback) {\n  var _this = this;\n\n  var status = {};\n  status.operation = endpoint.operation;\n\n  xhr.open(method, buildUrl(url, params), true);\n\n  keepAlive.call(this, xhr);\n\n  xhr.onload = function () {\n    status.error = false;\n\n    if (xhr.status) {\n      status.statusCode = xhr.status;\n    }\n\n    var resp = JSON.parse(xhr.responseText);\n\n    if (_this._config.logVerbosity) {\n      log(url, params, xhr.responseText);\n    }\n\n    return callback(status, resp);\n  };\n\n  xhr.onerror = function (e) {\n    status.error = true;\n    status.errorData = e.error;\n    status.category = _this._detectErrorCategory(e.error);\n    return callback(status, null);\n  };\n\n  xhr.timeout = Infinity;\n\n  xhr.send(body);\n}\n\nfunction get(params, endpoint, callback) {\n  var xhr = getHttpClient();\n\n  var url = this.getStandardOrigin() + endpoint.url;\n\n  return xdr.call(this, xhr, 'GET', url, params, {}, endpoint, callback);\n}\n\nfunction post(params, body, endpoint, callback) {\n  var xhr = getHttpClient();\n\n  var url = this.getStandardOrigin() + endpoint.url;\n\n  return xdr.call(this, xhr, 'POST', url, params, JSON.parse(body), endpoint, callback);\n}\n//# sourceMappingURL=titanium.js.map\n","/home/travis/build/npmtest/node-npmtest-pubnub/node_modules/pubnub/resources/titanium/titanium/Ti.js":"/**\n * This file contains source code from the following:\n *\n * es5-shim\n * Copyright 2009, 2010 Kristopher Michael Kowal\n * MIT License\n * <https://github.com/kriskowal/es5-shim>\n *\n * Dojo Toolkit\n * Copyright (c) 2005-2011, The Dojo Foundation\n * New BSD License\n * <http://dojotoolkit.org>\n */\n\ndefine(\n\t[\"Ti/_\", \"Ti/API\", \"Ti/_/analytics\", \"Ti/App\", \"Ti/_/Evented\", \"Ti/_/has\", \"Ti/_/lang\", \"Ti/_/ready\", \"Ti/_/style\", \"Ti/Buffer\", \"Ti/Platform\", \"Ti/UI\", \"Ti/Locale\", \"Ti/_/include\"],\n\tfunction(_, API, analytics, App, Evented, has, lang, ready, style, Buffer, Platform, UI) {\n\n\tvar global = window,\n\t\treq = require,\n\t\tcfg = req.config,\n\t\tdeployType = App.deployType,\n\t\tver = cfg.ti.version,\n\t\tis = req.is,\n\t\ton = req.on,\n\t\tloaded,\n\t\tunloaded,\n\t\tshowingError,\n\t\twaiting = [],\n\t\tTi = lang.setObject(\"Ti\", Evented, {\n\t\t\tconstants: {\n\t\t\t\tbuildDate: cfg.ti.buildDate,\n\t\t\t\tbuildHash: cfg.ti.buildHash,\n\t\t\t\tversion: ver\n\t\t\t},\n\n\t\t\tproperties: {\n\t\t\t\tuserAgent: function() {\n\t\t\t\t\treturn navigator.userAgent;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tcreateBuffer: function(args) {\n\t\t\t\treturn new Buffer(args);\n\t\t\t},\n\t\t\tinclude: function(files) {\n\t\t\t\ttypeof files === \"array\" || (files = [].concat(Array.prototype.slice.call(arguments, 0)));\n\t\t\t\tfiles.forEach(function(f) {\n\t\t\t\t\trequire(\"Ti/_/include!\" + f);\n\t\t\t\t});\n\t\t\t},\n\t\t\tdeferStart: function() {\n\t\t\t\tif (loaded) {\n\t\t\t\t\tAPI.warn(\"app.js already loaded!\");\n\t\t\t\t} else {\n\t\t\t\t\tvar n = Math.round(Math.random()*1e12);\n\t\t\t\t\twaiting.push(n);\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\tvar p = waiting.indexOf(n);\n\t\t\t\t\t\t~p && waiting.splice(p, 1);\n\t\t\t\t\t\tloaded = 1;\n\t\t\t\t\t\tif (!waiting.length) {\n\t\t\t\t\t\t\thas(\"ti-instrumentation\") && instrumentation.stopTest(instrumentation.systemLoadTimeTest);\n\t\t\t\t\t\t\trequire(cfg.main || [\"app.js\"]);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t}),\n\t\tloadAppjs = Ti.deferStart();\n\n\tif (!has(\"js-btoa\")) {\n\t\tvar tab = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",\n\t\t\tfromCharCode = String.fromCharCode;\n\n\t\tglobal.btoa = function(bytes) {\n\t\t\tvar ascii = [],\n\t\t\t\tchr1, chr2, chr3,\n\t\t\t\tenc1, enc2, enc3, enc4,\n\t\t\t\ti = 0,\n\t\t\t\tlen = bytes.length;\n\n\t\t\twhile (i < len) {\n\t\t\t\tchr1 = bytes.charCodeAt(i++);\n\t\t\t\tchr2 = bytes.charCodeAt(i++);\n\t\t\t\tchr3 = bytes.charCodeAt(i++);\n\n\t\t\t\tenc1 = chr1 >> 2;\n\t\t\t\tenc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\n\t\t\t\tenc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\n\t\t\t\tenc4 = chr3 & 63;\n\n\t\t\t\tif (isNaN(chr2)) {\n\t\t\t\t\tenc3 = enc4 = 64;\n\t\t\t\t} else if (isNaN(chr3)) {\n\t\t\t\t\tenc4 = 64;\n\t\t\t\t}\n\n\t\t\t\tascii.push(tab.charAt(enc1) + tab.charAt(enc2) + tab.charAt(enc3) + tab.charAt(enc4));\n\t\t\t}\n\n\t\t\treturn ascii.join('');\n\t\t};\n\n\t\tglobal.atob = function(ascii) {\n\t\t\tvar bytes = [],\n\t\t\t\tenc1, enc2, enc3, enc4,\n\t\t\t\ti = 0,\n\t\t\t\tlen = ascii.length;\n\n\t\t\tascii = ascii.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\n\n\t\t\twhile (i < len) {\n\t\t\t\tenc1 = tab.indexOf(ascii.charAt(i++));\n\t\t\t\tenc2 = tab.indexOf(ascii.charAt(i++));\n\t\t\t\tenc3 = tab.indexOf(ascii.charAt(i++));\n\t\t\t\tenc4 = tab.indexOf(ascii.charAt(i++));\n\n\t\t\t\tbytes.push(fromCharCode((enc1 << 2) | (enc2 >> 4)));\n\n\t\t\t\tenc3 !== 64 && bytes.push(fromCharCode(((enc2 & 15) << 4) | (enc3 >> 2)));\n\t\t\t\tenc4 !== 64 && bytes.push(fromCharCode(((enc3 & 3) << 6) | enc4));\n\t\t\t}\n\n\t\t\treturn bytes.join('');\n\t\t};\n\t}\n\n\t// protect global titanium object\n\tObject.defineProperty(global, \"Ti\", { value: Ti, writable: false });\n\tObject.defineProperty(global, \"Titanium\", { value: Ti, writable: false });\n\n\tAPI.info(\"Appcelerator Titanium \" + ver + \" Mobile Web\");\n\n\t// make sure we have some vendor prefixes defined\n\tcfg.vendorPrefixes || (cfg.vendorPrefixes = [\"\", \"Moz\", \"Webkit\", \"O\", \"ms\"]);\n\n\tfunction shutdown() {\n\t\tif (!unloaded) {\n\t\t\tunloaded = 1;\n\t\t\tApp.fireEvent(\"close\");\n\t\t\tanalytics.add(\"ti.end\", \"ti.end\");\n\t\t}\n\t}\n\n\ton(global, \"beforeunload\", shutdown);\n\ton(global, \"unload\", shutdown);\n\n\tif (has(\"ti-show-errors\")) {\n\t\ton(global, \"error\", function(e) {\n\t\t\tif (!showingError) {\n\t\t\t\tshowingError = 1;\n\n\t\t\t\tvar f = e.filename || \"\",\n\t\t\t\t\tmatch = f.match(/:\\/\\/.+(\\/.*)/),\n\t\t\t\t\tfilename = match ? match[1] : e.filename,\n\t\t\t\t\tline = e.lineno,\n\t\t\t\t\twin = UI.createWindow({\n\t\t\t\t\t\tbackgroundColor: \"#f00\",\n\t\t\t\t\t\ttop: \"100%\",\n\t\t\t\t\t\theight: \"100%\",\n\t\t\t\t\t\tlayout: UI._LAYOUT_CONSTRAINING_VERTICAL\n\t\t\t\t\t}),\n\t\t\t\t\tview,\n\t\t\t\t\tbutton;\n\n\t\t\t\tfunction makeLabel(text, height, color, fontSize) {\n\t\t\t\t\twin.add(UI.createLabel({\n\t\t\t\t\t\tcolor: color,\n\t\t\t\t\t\tfont: { fontSize: fontSize, fontWeight: \"bold\" },\n\t\t\t\t\t\theight: height,\n\t\t\t\t\t\tleft: 10,\n\t\t\t\t\t\tright: 10,\n\t\t\t\t\t\ttextAlign: UI.TEXT_ALIGNMENT_CENTER,\n\t\t\t\t\t\ttext: text\n\t\t\t\t\t}));\n\t\t\t\t}\n\n\t\t\t\tmakeLabel(\"Application Error\", \"15%\", \"#0f0\", \"24pt\");\n\t\t\t\tmakeLabel((e.message || \"Unknown error\").trim() + (filename && filename !== \"undefined\" ? \" at \" + filename : \"\") + (line ? \" (line \" + line + \")\" : \"\"), \"45%\", \"#fff\", \"16pt\");\n\n\t\t\t\twin.add(view = UI.createView({ height: \"12%\" }));\n\t\t\t\tview.add(button = UI.createButton({ title: \"Dismiss\" }));\n\t\t\t\twin.addEventListener(\"close\", function() { win.destroy(); });\n\t\t\t\tbutton.addEventListener(\"singletap\", function() {\n\t\t\t\t\twin.animate({\n\t\t\t\t\t\tduration: 500,\n\t\t\t\t\t\ttop: \"100%\"\n\t\t\t\t\t}, function() {\n\t\t\t\t\t\twin.close();\n\t\t\t\t\t\tshowingError = 0;\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tmakeLabel(\"Error messages will only be displayed during development. When your app is packaged for final distribution, no error screen will appear. Test your code!\", \"28%\", \"#000\", \"10pt\");\n\n\t\t\t\ton.once(win,\"postlayout\", function() {\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\twin.animate({\n\t\t\t\t\t\t\tduration: 500,\n\t\t\t\t\t\t\ttop: 0\n\t\t\t\t\t\t}, function() {\n\t\t\t\t\t\t\twin.top = 0;\n\t\t\t\t\t\t\twin.height = \"100%\";\n\t\t\t\t\t\t});\n\t\t\t\t\t}, 100);\n\t\t\t\t});\n\n\t\t\t\twin.open();\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\t}\n\n\tready(function() {\n\t\tstyle.set(document.body, {\n\t\t\tmargin: 0,\n\t\t\tpadding: 0\n\t\t});\n\n\t\tif (App.analytics) {\n\t\t\tvar analyticsPlatformName = require.config.ti.analyticsPlatformName;\n\n\t\t\t// enroll event\n\t\t\tif (localStorage.getItem(\"ti:enrolled\") === null) {\n\t\t\t\t// setup enroll event\n\t\t\t\tanalytics.add(\"ti.enroll\", \"ti.enroll\", {\n\t\t\t\t\tapp_name: App.name,\n\t\t\t\t\tapp_version: App.version,\n\t\t\t\t\toscpu: 1,\n\t\t\t\t\tmac_addr: null,\n\t\t\t\t\tdeploytype: deployType,\n\t\t\t\t\tostype: Platform.osname,\n\t\t\t\t\tosarch: null,\n\t\t\t\t\tapp_id: App.id,\n\t\t\t\t\tplatform: analyticsPlatformName,\n\t\t\t\t\tmodel: Platform.model\n\t\t\t\t});\n\t\t\t\tlocalStorage.setItem(\"ti:enrolled\", true)\n\t\t\t}\n\n\t\t\t// app start event\n\t\t\tanalytics.add(\"ti.start\", \"ti.start\", {\n\t\t\t\ttz: (new Date).getTimezoneOffset(),\n\t\t\t\tdeploytype: deployType,\n\t\t\t\tos: Platform.osname,\n\t\t\t\tosver: Platform.ostype,\n\t\t\t\tversion: cfg.ti.version,\n\t\t\t\tplatform: analyticsPlatformName,\n\t\t\t\tmodel: Platform.model,\n\t\t\t\tun: null,\n\t\t\t\tapp_version: App.version,\n\t\t\t\tnettype: null\n\t\t\t});\n\n\t\t\t// try to sent previously sent analytics events on app load\n\t\t\tanalytics.send();\n\t\t}\n\n\t\t// load app.js when ti and dom is ready\n\t\tsetTimeout(loadAppjs, 1);\n\t});\n\n\treturn Ti;\n\n});\n"}